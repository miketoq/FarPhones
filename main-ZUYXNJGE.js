var ZR=Object.defineProperty,XR=Object.defineProperties;var eM=Object.getOwnPropertyDescriptors;var lI=Object.getOwnPropertySymbols;var tM=Object.prototype.hasOwnProperty,nM=Object.prototype.propertyIsEnumerable;var uI=(t,e,n)=>e in t?ZR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||={})tM.call(e,n)&&uI(t,n,e[n]);if(lI)for(var n of lI(e))nM.call(e,n)&&uI(t,n,e[n]);return t},ce=(t,e)=>XR(t,eM(e));var D=(t,e,n)=>new Promise((r,i)=>{var o=l=>{try{c(n.next(l))}catch(u){i(u)}},s=l=>{try{c(n.throw(l))}catch(u){i(u)}},c=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);c((n=n.apply(t,e)).next())});function Of(t,e){return Object.is(t,e)}var We=null,ol=!1,Vf=1,$t=Symbol("SIGNAL");function re(t){let e=We;return We=t,e}function Ff(){return We}var Ys={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Js(t){if(ol)throw new Error("");if(We===null)return;We.consumerOnSignalRead(t);let e=We.nextProducerIndex++;if(ll(We),e<We.producerNode.length&&We.producerNode[e]!==t&&Qs(We)){let n=We.producerNode[e];cl(n,We.producerIndexOfThis[e])}We.producerNode[e]!==t&&(We.producerNode[e]=t,We.producerIndexOfThis[e]=Qs(We)?hI(t,We,e):0),We.producerLastReadVersion[e]=t.version}function dI(){Vf++}function Lf(t){if(!(Qs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Vf)){if(!t.producerMustRecompute(t)&&!$f(t)){kf(t);return}t.producerRecomputeValue(t),kf(t)}}function Uf(t){if(t.liveConsumerNode===void 0)return;let e=ol;ol=!0;try{for(let n of t.liveConsumerNode)n.dirty||rM(n)}finally{ol=e}}function jf(){return We?.consumerAllowSignalWrites!==!1}function rM(t){t.dirty=!0,Uf(t),t.consumerMarkedDirty?.(t)}function kf(t){t.dirty=!1,t.lastCleanEpoch=Vf}function al(t){return t&&(t.nextProducerIndex=0),re(t)}function Bf(t,e){if(re(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Qs(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)cl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function $f(t){ll(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Lf(n),r!==n.version))return!0}return!1}function Hf(t){if(ll(t),Qs(t))for(let e=0;e<t.producerNode.length;e++)cl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function hI(t,e,n){if(fI(t),t.liveConsumerNode.length===0&&pI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=hI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function cl(t,e){if(fI(t),t.liveConsumerNode.length===1&&pI(t))for(let r=0;r<t.producerNode.length;r++)cl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ll(i),i.producerIndexOfThis[r]=e}}function Qs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ll(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function fI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function pI(t){return t.producerNode!==void 0}function qf(t,e){let n=Object.create(iM);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Lf(n),Js(n),n.value===sl)throw n.error;return n.value};return r[$t]=n,r}var xf=Symbol("UNSET"),Pf=Symbol("COMPUTING"),sl=Symbol("ERRORED"),iM=ce(F({},Ys),{value:xf,dirty:!0,error:null,equal:Of,kind:"computed",producerMustRecompute(t){return t.value===xf||t.value===Pf},producerRecomputeValue(t){if(t.value===Pf)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Pf;let n=al(t),r,i=!1;try{r=t.computation(),re(null),i=e!==xf&&e!==sl&&r!==sl&&t.equal(e,r)}catch(o){r=sl,t.error=o}finally{Bf(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function oM(){throw new Error}var gI=oM;function mI(t){gI(t)}function zf(t){gI=t}var sM=null;function Wf(t,e){let n=Object.create(ul);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(Js(n),n.value);return r[$t]=n,r}function Zs(t,e){jf()||mI(t),t.equal(t.value,e)||(t.value=e,aM(t))}function Gf(t,e){jf()||mI(t),Zs(t,e(t.value))}var ul=ce(F({},Ys),{equal:Of,value:void 0,kind:"signal"});function aM(t){t.version++,dI(),Uf(t),sM?.()}function Kf(t){let e=re(null);try{return t()}finally{re(e)}}var Qf;function Xs(){return Qf}function Un(t){let e=Qf;return Qf=t,e}var dl=Symbol("NotFound");function Z(t){return typeof t=="function"}function Xi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var hl=Xi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Jr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Pe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(o){e=o instanceof hl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{yI(o)}catch(s){e=e??[],s instanceof hl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new hl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)yI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Jr(n,e)}remove(e){let{_finalizers:n}=this;n&&Jr(n,e),e instanceof t&&e._removeParent(this)}};Pe.EMPTY=(()=>{let t=new Pe;return t.closed=!0,t})();var Yf=Pe.EMPTY;function fl(t){return t instanceof Pe||t&&"closed"in t&&Z(t.remove)&&Z(t.add)&&Z(t.unsubscribe)}function yI(t){Z(t)?t():t.unsubscribe()}var rn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var eo={setTimeout(t,e,...n){let{delegate:r}=eo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=eo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function pl(t){eo.setTimeout(()=>{let{onUnhandledError:e}=rn;if(e)e(t);else throw t})}function ea(){}var vI=Jf("C",void 0,void 0);function _I(t){return Jf("E",void 0,t)}function EI(t){return Jf("N",t,void 0)}function Jf(t,e,n){return{kind:t,value:e,error:n}}var Zr=null;function to(t){if(rn.useDeprecatedSynchronousErrorHandling){let e=!Zr;if(e&&(Zr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Zr;if(Zr=null,n)throw r}}else t()}function II(t){rn.useDeprecatedSynchronousErrorHandling&&Zr&&(Zr.errorThrown=!0,Zr.error=t)}var Xr=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,fl(e)&&e.add(this)):this.destination=fM}static create(e,n,r){return new no(e,n,r)}next(e){this.isStopped?Xf(EI(e),this):this._next(e)}error(e){this.isStopped?Xf(_I(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Xf(vI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},dM=Function.prototype.bind;function Zf(t,e){return dM.call(t,e)}var ep=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){gl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){gl(r)}else gl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){gl(n)}}},no=class extends Xr{constructor(e,n,r){super();let i;if(Z(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&rn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Zf(e.next,o),error:e.error&&Zf(e.error,o),complete:e.complete&&Zf(e.complete,o)}):i=e}this.destination=new ep(i)}};function gl(t){rn.useDeprecatedSynchronousErrorHandling?II(t):pl(t)}function hM(t){throw t}function Xf(t,e){let{onStoppedNotification:n}=rn;n&&eo.setTimeout(()=>n(t,e))}var fM={closed:!0,next:ea,error:hM,complete:ea};var ro=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ot(t){return t}function ml(...t){return tp(t)}function tp(t){return t.length===0?Ot:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=gM(n)?n:new no(n,r,i);return to(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=wI(r),new r((i,o)=>{let s=new no({next:c=>{try{n(c)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ro](){return this}pipe(...n){return tp(n)(this)}toPromise(n){return n=wI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function wI(t){var e;return(e=t??rn.Promise)!==null&&e!==void 0?e:Promise}function pM(t){return t&&Z(t.next)&&Z(t.error)&&Z(t.complete)}function gM(t){return t&&t instanceof Xr||pM(t)&&fl(t)}function np(t){return Z(t?.lift)}function ge(t){return e=>{if(np(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function fe(t,e,n,r,i){return new rp(t,e,n,r,i)}var rp=class extends Xr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(l){e.error(l)}}:super._next,this._error=i?function(c){try{i(c)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function io(){return ge((t,e)=>{let n=null;t._refCount++;let r=fe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var oo=class extends le{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,np(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let n=this.getSubject();e.add(this.source.subscribe(fe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return io()(this)}};var bI=Xi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ue=(()=>{class t extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new yl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new bI}next(n){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Yf:(this.currentObservers=null,o.push(n),new Pe(()=>{this.currentObservers=null,Jr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new le;return n.source=this,n}}return t.create=(e,n)=>new yl(e,n),t})(),yl=class extends Ue{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Yf}};var it=class extends Ue{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ip={now(){return(ip.delegate||Date).now()},delegate:void 0};var vl=class extends Pe{constructor(e,n){super()}schedule(e,n=0){return this}};var ta={setInterval(t,e,...n){let{delegate:r}=ta;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ta;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var so=class extends vl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ta.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ta.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Jr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ao=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ao.now=ip.now;var co=class extends ao{constructor(e,n=ao.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var op=new co(so);var _l=class extends so{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var El=class extends co{};var sp=new El(_l);var Dt=new le(t=>t.complete());function TI(t){return t&&Z(t.schedule)}function CI(t){return t[t.length-1]}function Il(t){return Z(CI(t))?t.pop():void 0}function yr(t){return TI(CI(t))?t.pop():void 0}function ap(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function DI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(h){try{u(r.next(h))}catch(p){s(p)}}function l(h){try{u(r.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):i(h.value).then(c,l)}u((r=r.apply(t,e||[])).next())})}function SI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ei(t){return this instanceof ei?(this.v=t,this):new ei(t)}function AI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(C){return Promise.resolve(C).then(m,p)}}function c(m,C){r[m]&&(i[m]=function(M){return new Promise(function(R,U){o.push([m,M,R,U])>1||l(m,M)})},C&&(i[m]=C(i[m])))}function l(m,C){try{u(r[m](C))}catch(M){y(o[0][3],M)}}function u(m){m.value instanceof ei?Promise.resolve(m.value.v).then(h,p):y(o[0][2],m)}function h(m){l("next",m)}function p(m){l("throw",m)}function y(m,C){m(C),o.shift(),o.length&&l(o[0][0],o[0][1])}}function RI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof SI=="function"?SI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,l){s=t[o](s),i(c,l,s.done,s.value)})}}function i(o,s,c,l){Promise.resolve(l).then(function(u){o({value:u,done:c})},s)}}var wl=t=>t&&typeof t.length=="number"&&typeof t!="function";function bl(t){return Z(t?.then)}function Tl(t){return Z(t[ro])}function Cl(t){return Symbol.asyncIterator&&Z(t?.[Symbol.asyncIterator])}function Sl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function mM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Dl=mM();function Al(t){return Z(t?.[Dl])}function Rl(t){return AI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ei(n.read());if(i)return yield ei(void 0);yield yield ei(r)}}finally{n.releaseLock()}})}function Ml(t){return Z(t?.getReader)}function je(t){if(t instanceof le)return t;if(t!=null){if(Tl(t))return yM(t);if(wl(t))return vM(t);if(bl(t))return _M(t);if(Cl(t))return MI(t);if(Al(t))return EM(t);if(Ml(t))return IM(t)}throw Sl(t)}function yM(t){return new le(e=>{let n=t[ro]();if(Z(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function vM(t){return new le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function _M(t){return new le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,pl)})}function EM(t){return new le(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function MI(t){return new le(e=>{wM(t,e).catch(n=>e.error(n))})}function IM(t){return MI(Rl(t))}function wM(t,e){var n,r,i,o;return DI(this,void 0,void 0,function*(){try{for(n=RI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function At(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function vr(t,e=0){return ge((n,r)=>{n.subscribe(fe(r,i=>At(r,t,()=>r.next(i),e),()=>At(r,t,()=>r.complete(),e),i=>At(r,t,()=>r.error(i),e)))})}function _r(t,e=0){return ge((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function NI(t,e){return je(t).pipe(_r(e),vr(e))}function xI(t,e){return je(t).pipe(_r(e),vr(e))}function PI(t,e){return new le(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function kI(t,e){return new le(n=>{let r;return At(n,e,()=>{r=t[Dl](),At(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}function Nl(t,e){if(!t)throw new Error("Iterable cannot be null");return new le(n=>{At(n,e,()=>{let r=t[Symbol.asyncIterator]();At(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function OI(t,e){return Nl(Rl(t),e)}function VI(t,e){if(t!=null){if(Tl(t))return NI(t,e);if(wl(t))return PI(t,e);if(bl(t))return xI(t,e);if(Cl(t))return Nl(t,e);if(Al(t))return kI(t,e);if(Ml(t))return OI(t,e)}throw Sl(t)}function Ne(t,e){return e?VI(t,e):je(t)}function Q(...t){let e=yr(t);return Ne(t,e)}function lo(t,e){let n=Z(t)?t:()=>t,r=i=>i.error(n());return new le(e?i=>e.schedule(r,0,i):r)}function cp(t){return!!t&&(t instanceof le||Z(t.lift)&&Z(t.subscribe))}var jn=Xi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ie(t,e){return ge((n,r)=>{let i=0;n.subscribe(fe(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:bM}=Array;function TM(t,e){return bM(e)?t(...e):t(e)}function xl(t){return ie(e=>TM(t,e))}var{isArray:CM}=Array,{getPrototypeOf:SM,prototype:DM,keys:AM}=Object;function Pl(t){if(t.length===1){let e=t[0];if(CM(e))return{args:e,keys:null};if(RM(e)){let n=AM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function RM(t){return t&&typeof t=="object"&&SM(t)===DM}function kl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function na(...t){let e=yr(t),n=Il(t),{args:r,keys:i}=Pl(t);if(r.length===0)return Ne([],e);let o=new le(MM(r,e,i?s=>kl(i,s):Ot));return n?o.pipe(xl(n)):o}function MM(t,e,n=Ot){return r=>{FI(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let l=0;l<i;l++)FI(e,()=>{let u=Ne(t[l],e),h=!1;u.subscribe(fe(r,p=>{o[l]=p,h||(h=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function FI(t,e,n){t?At(n,t,e):e()}function LI(t,e,n,r,i,o,s,c){let l=[],u=0,h=0,p=!1,y=()=>{p&&!l.length&&!u&&e.complete()},m=M=>u<r?C(M):l.push(M),C=M=>{o&&e.next(M),u++;let R=!1;je(n(M,h++)).subscribe(fe(e,U=>{i?.(U),o?m(U):e.next(U)},()=>{R=!0},void 0,()=>{if(R)try{for(u--;l.length&&u<r;){let U=l.shift();s?At(e,s,()=>C(U)):C(U)}y()}catch(U){e.error(U)}}))};return t.subscribe(fe(e,m,()=>{p=!0,y()})),()=>{c?.()}}function Ge(t,e,n=1/0){return Z(e)?Ge((r,i)=>ie((o,s)=>e(r,o,i,s))(je(t(r,i))),n):(typeof e=="number"&&(n=e),ge((r,i)=>LI(r,i,t,n)))}function UI(t=1/0){return Ge(Ot,t)}function jI(){return UI(1)}function uo(...t){return jI()(Ne(t,yr(t)))}function Ol(t){return new le(e=>{je(t()).subscribe(e)})}function lp(...t){let e=Il(t),{args:n,keys:r}=Pl(t),i=new le(o=>{let{length:s}=n;if(!s){o.complete();return}let c=new Array(s),l=s,u=s;for(let h=0;h<s;h++){let p=!1;je(n[h]).subscribe(fe(o,y=>{p||(p=!0,u--),c[h]=y},()=>l--,void 0,()=>{(!l||!p)&&(u||o.next(r?kl(r,c):c),o.complete())}))}});return e?i.pipe(xl(e)):i}function Rt(t,e){return ge((n,r)=>{let i=0;n.subscribe(fe(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Er(t){return ge((e,n)=>{let r=null,i=!1,o;r=e.subscribe(fe(n,void 0,void 0,s=>{o=je(t(s,Er(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function BI(t,e,n,r,i){return(o,s)=>{let c=n,l=e,u=0;o.subscribe(fe(s,h=>{let p=u++;l=c?t(l,h,p):(c=!0,h),r&&s.next(l)},i&&(()=>{c&&s.next(l),s.complete()})))}}function ho(t,e){return Z(e)?Ge(t,e,1):Ge(t,1)}function Ir(t){return ge((e,n)=>{let r=!1;e.subscribe(fe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Bn(t){return t<=0?()=>Dt:ge((e,n)=>{let r=0;e.subscribe(fe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Vl(t=NM){return ge((e,n)=>{let r=!1;e.subscribe(fe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function NM(){return new jn}function ra(t){return ge((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function $n(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Rt((i,o)=>t(i,o,r)):Ot,Bn(1),n?Ir(e):Vl(()=>new jn))}function fo(t){return t<=0?()=>Dt:ge((e,n)=>{let r=[];e.subscribe(fe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function up(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Rt((i,o)=>t(i,o,r)):Ot,fo(1),n?Ir(e):Vl(()=>new jn))}function Fl(t,e){return ge(BI(t,e,arguments.length>=2,!0))}function Ll(...t){let e=yr(t);return ge((n,r)=>{(e?uo(t,n,e):uo(t,n)).subscribe(r)})}function Ht(t,e){return ge((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(fe(r,l=>{i?.unsubscribe();let u=0,h=o++;je(t(l,h)).subscribe(i=fe(r,p=>r.next(e?e(l,p,h,u++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function dp(t){return ge((e,n)=>{je(t).subscribe(fe(n,()=>n.complete(),ea)),!n.closed&&e.subscribe(n)})}function ot(t,e,n){let r=Z(t)||e||n?{next:t,error:e,complete:n}:t;return r?ge((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(fe(o,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},()=>{var l;c=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var u;c=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},()=>{var l,u;c&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Ot}var Rw="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",B=class extends Error{code;constructor(e,n){super(PM(e,n)),this.code=e}};function xM(t){return`NG0${Math.abs(t)}`}function PM(t,e){return`${xM(t)}${e?": "+e:""}`}var Mw=Symbol("InputSignalNode#UNSET"),kM=ce(F({},ul),{transformFn:void 0,applyValueToInputSignal(t,e){Zs(t,e)}});function Nw(t,e){let n=Object.create(kM);n.value=t,n.transformFn=e?.transform;function r(){if(Js(n),n.value===Mw){let i=null;throw new B(-950,i)}return n.value}return r[$t]=n,r}function _a(t){return{toString:t}.toString()}var Ul="__parameters__";function OM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function VM(t,e,n){return _a(()=>{let r=OM(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(l,u,h){let p=l.hasOwnProperty(Ul)?l[Ul]:Object.defineProperty(l,Ul,{value:[]})[Ul];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),l}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ca=globalThis;function Te(t){for(let e in t)if(t[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function FM(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Mt(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Mt).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function $I(t,e){return t?e?`${t} ${e}`:t:e||""}var LM=Te({__forward_ref__:Te});function zn(t){return t.__forward_ref__=zn,t.toString=function(){return Mt(this())},t}function _t(t){return xw(t)?t():t}function xw(t){return typeof t=="function"&&t.hasOwnProperty(LM)&&t.__forward_ref__===zn}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ro(t){return{providers:t.providers||[],imports:t.imports||[]}}function Eu(t){return HI(t,kw)||HI(t,Ow)}function Pw(t){return Eu(t)!==null}function HI(t,e){return t.hasOwnProperty(e)?t[e]:null}function UM(t){let e=t&&(t[kw]||t[Ow]);return e||null}function qI(t){return t&&(t.hasOwnProperty(zI)||t.hasOwnProperty(jM))?t[zI]:null}var kw=Te({\u0275prov:Te}),zI=Te({\u0275inj:Te}),Ow=Te({ngInjectableDef:Te}),jM=Te({ngInjectorDef:Te}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Vw(t){return t&&!!t.\u0275providers}var BM=Te({\u0275cmp:Te}),$M=Te({\u0275dir:Te}),HM=Te({\u0275pipe:Te}),qM=Te({\u0275mod:Te}),Kl=Te({\u0275fac:Te}),aa=Te({__NG_ELEMENT_ID__:Te}),WI=Te({__NG_ENV_ID__:Te});function Iu(t){return typeof t=="string"?t:t==null?"":String(t)}function zM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Iu(t)}function Fw(t,e){throw new B(-200,t)}function gg(t,e){throw new B(-201,!1)}var oe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(oe||{}),Dp;function Lw(){return Dp}function qt(t){let e=Dp;return Dp=t,e}function Uw(t,e,n){let r=Eu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&oe.Optional)return null;if(e!==void 0)return e;gg(t,"Injector")}var WM={},ti=WM,Ap="__NG_DI_FLAG__",Ql=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?dl:ti,r)}},Yl="ngTempTokenPath",GM="ngTokenPath",KM=/\n/gm,QM="\u0275",GI="__source";function YM(t,e=oe.Default){if(Xs()===void 0)throw new B(-203,!1);if(Xs()===null)return Uw(t,void 0,e);{let n=Xs(),r;return n instanceof Ql?r=n.injector:r=n,r.get(t,e&oe.Optional?null:void 0,e)}}function se(t,e=oe.Default){return(Lw()||YM)(_t(t),e)}function P(t,e=oe.Default){return se(t,wu(e))}function wu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Rp(t){let e=[];for(let n=0;n<t.length;n++){let r=_t(t[n]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,o=oe.Default;for(let s=0;s<r.length;s++){let c=r[s],l=ZM(c);typeof l=="number"?l===-1?i=c.token:o|=l:i=c}e.push(se(i,o))}else e.push(se(r))}return e}function JM(t,e){return t[Ap]=e,t.prototype[Ap]=e,t}function ZM(t){return t[Ap]}function XM(t,e,n,r){let i=t[Yl];throw e[GI]&&i.unshift(e[GI]),t.message=eN(`
`+t.message,i,n,r),t[GM]=i,t[Yl]=null,t}function eN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==QM?t.slice(2):t;let i=Mt(e);if(Array.isArray(e))i=e.map(Mt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):Mt(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(KM,`
  `)}`}var Cr=JM(VM("Optional"),8);function vo(t,e){let n=t.hasOwnProperty(Kl);return n?t[Kl]:null}function mg(t,e){t.forEach(n=>Array.isArray(n)?mg(n,e):e(n))}function jw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Jl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function tN(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function nN(t,e,n){let r=Ea(t,e);return r>=0?t[r|1]=n:(r=~r,tN(t,r,e,n)),r}function hp(t,e){let n=Ea(t,e);if(n>=0)return t[n|1]}function Ea(t,e){return rN(t,e,1)}function rN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var ri={},zt=[],la=new $(""),Bw=new $("",-1),$w=new $(""),Zl=class{get(e,n=ti){if(n===ti){let r=new Error(`NullInjectorError: No provider for ${Mt(e)}!`);throw r.name="NullInjectorError",r}return n}};function Hw(t,e){let n=t[qM]||null;if(!n&&e===!0)throw new Error(`Type ${Mt(t)} does not have '\u0275mod' property.`);return n}function ii(t){return t[BM]||null}function iN(t){return t[$M]||null}function oN(t){return t[HM]||null}function di(t){return{\u0275providers:t}}function sN(...t){return{\u0275providers:qw(!0,t),\u0275fromNgModule:!0}}function qw(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return mg(e,s=>{let c=s;Mp(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&zw(i,o),n}function zw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];yg(i,o=>{e(o,r)})}}function Mp(t,e,n,r){if(t=_t(t),!t)return!1;let i=null,o=qI(t),s=!o&&ii(t);if(!o&&!s){let l=t.ngModule;if(o=qI(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)Mp(u,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let u;try{mg(o.imports,h=>{Mp(h,e,n,r)&&(u||=[],u.push(h))})}finally{}u!==void 0&&zw(u,e)}if(!c){let u=vo(i)||(()=>new i);e({provide:i,useFactory:u,deps:zt},i),e({provide:$w,useValue:i,multi:!0},i),e({provide:la,useValue:()=>se(i),multi:!0},i)}let l=o.providers;if(l!=null&&!c){let u=t;yg(l,h=>{e(h,u)})}}else return!1;return i!==t&&t.providers!==void 0}function yg(t,e){for(let n of t)Vw(n)&&(n=n.\u0275providers),Array.isArray(n)?yg(n,e):e(n)}var aN=Te({provide:String,useValue:Te});function Ww(t){return t!==null&&typeof t=="object"&&aN in t}function cN(t){return!!(t&&t.useExisting)}function lN(t){return!!(t&&t.useFactory)}function _o(t){return typeof t=="function"}function uN(t){return!!t.useClass}var bu=new $(""),Hl={},KI={},fp;function vg(){return fp===void 0&&(fp=new Zl),fp}var It=class{},ua=class extends It{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,xp(e,s=>this.processProvider(s)),this.records.set(Bw,po(void 0,this)),i.has("environment")&&this.records.set(It,po(void 0,this));let o=this.records.get(bu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get($w,zt,oe.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?dl:ti,r)}destroy(){oa(this),this._destroyed=!0;let e=re(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),re(e)}}onDestroy(e){return oa(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){oa(this);let n=Un(this),r=qt(void 0),i;try{return e()}finally{Un(n),qt(r)}}get(e,n=ti,r=oe.Default){if(oa(this),e.hasOwnProperty(WI))return e[WI](this);r=wu(r);let i,o=Un(this),s=qt(void 0);try{if(!(r&oe.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=gN(e)&&Eu(e);u&&this.injectableDefInScope(u)?l=po(Np(e),Hl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let c=r&oe.Self?vg():this.parent;return n=r&oe.Optional&&n===ti?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[Yl]=c[Yl]||[]).unshift(Mt(e)),o)throw c;return XM(c,e,"R3InjectorError",this.source)}else throw c}finally{qt(s),Un(o)}}resolveInjectorInitializers(){let e=re(null),n=Un(this),r=qt(void 0),i;try{let o=this.get(la,zt,oe.Self);for(let s of o)s()}finally{Un(n),qt(r),re(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Mt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=_t(e);let n=_o(e)?e:_t(e&&e.provide),r=hN(e);if(!_o(e)&&e.multi===!0){let i=this.records.get(n);i||(i=po(void 0,Hl,!0),i.factory=()=>Rp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=re(null);try{return n.value===KI?Fw(Mt(e)):n.value===Hl&&(n.value=KI,n.value=n.factory()),typeof n.value=="object"&&n.value&&pN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{re(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=_t(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Np(t){let e=Eu(t),n=e!==null?e.factory:vo(t);if(n!==null)return n;if(t instanceof $)throw new B(204,!1);if(t instanceof Function)return dN(t);throw new B(204,!1)}function dN(t){if(t.length>0)throw new B(204,!1);let n=UM(t);return n!==null?()=>n.factory(t):()=>new t}function hN(t){if(Ww(t))return po(void 0,t.useValue);{let e=Gw(t);return po(e,Hl)}}function Gw(t,e,n){let r;if(_o(t)){let i=_t(t);return vo(i)||Np(i)}else if(Ww(t))r=()=>_t(t.useValue);else if(lN(t))r=()=>t.useFactory(...Rp(t.deps||[]));else if(cN(t))r=()=>se(_t(t.useExisting));else{let i=_t(t&&(t.useClass||t.provide));if(fN(t))r=()=>new i(...Rp(t.deps));else return vo(i)||Np(i)}return r}function oa(t){if(t.destroyed)throw new B(205,!1)}function po(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function fN(t){return!!t.deps}function pN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function gN(t){return typeof t=="function"||typeof t=="object"&&t instanceof $}function xp(t,e){for(let n of t)Array.isArray(n)?xp(n,e):n&&Vw(n)?xp(n.\u0275providers,e):e(n)}function Tt(t,e){let n;t instanceof ua?(oa(t),n=t):n=new Ql(t);let r,i=Un(n),o=qt(void 0);try{return e()}finally{Un(i),qt(o)}}function Kw(){return Lw()!==void 0||Xs()!=null}function Qw(t){if(!Kw())throw new B(-203,!1)}function mN(t){return typeof t=="function"}var Wn=0,ue=1,ee=2,wt=3,sn=4,cn=5,da=6,Xl=7,Qe=8,Eo=9,Hn=10,Ye=11,ha=12,QI=13,Mo=14,an=15,Io=16,go=17,wo=18,Tu=19,Yw=20,wr=21,pp=22,eu=23,Wt=24,gp=25,Gt=26,Jw=1;var oi=7,tu=8,nu=9,Et=10;function br(t){return Array.isArray(t)&&typeof t[Jw]=="object"}function Gn(t){return Array.isArray(t)&&t[Jw]===!0}function Zw(t){return(t.flags&4)!==0}function No(t){return t.componentOffset>-1}function _g(t){return(t.flags&1)===1}function mn(t){return!!t.template}function ru(t){return(t[ee]&512)!==0}function Ia(t){return(t[ee]&256)===256}var Pp=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Xw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var hi=(()=>{let t=()=>eb;return t.ngInherit=!0,t})();function eb(t){return t.type.prototype.ngOnChanges&&(t.setInput=vN),yN}function yN(){let t=nb(this),e=t?.current;if(e){let n=t.previous;if(n===ri)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function vN(t,e,n,r,i){let o=this.declaredInputs[r],s=nb(t)||_N(t,{previous:ri,current:null}),c=s.current||(s.current={}),l=s.previous,u=l[o];c[o]=new Pp(u&&u.currentValue,n,l===ri),Xw(t,e,i,n)}var tb="__ngSimpleChanges__";function nb(t){return t[tb]||null}function _N(t,e){return t[tb]=e}var YI=null;var Ce=function(t,e=null,n){YI?.(t,e,n)},EN="svg",IN="math";function yn(t){for(;Array.isArray(t);)t=t[Wn];return t}function rb(t,e){return yn(e[t])}function En(t,e){return yn(e[t.index])}function Eg(t,e){return t.data[e]}function vn(t,e){let n=e[t];return br(n)?n:n[Wn]}function Ig(t){return(t[ee]&128)===128}function wN(t){return Gn(t[wt])}function bo(t,e){return e==null?null:t[e]}function ib(t){t[go]=0}function ob(t){t[ee]&1024||(t[ee]|=1024,Ig(t)&&Su(t))}function bN(t,e){for(;t>0;)e=e[Mo],t--;return e}function Cu(t){return!!(t[ee]&9216||t[Wt]?.dirty)}function kp(t){t[Hn].changeDetectionScheduler?.notify(8),t[ee]&64&&(t[ee]|=1024),Cu(t)&&Su(t)}function Su(t){t[Hn].changeDetectionScheduler?.notify(0);let e=si(t);for(;e!==null&&!(e[ee]&8192||(e[ee]|=8192,!Ig(e)));)e=si(e)}function sb(t,e){if(Ia(t))throw new B(911,!1);t[wr]===null&&(t[wr]=[]),t[wr].push(e)}function TN(t,e){if(t[wr]===null)return;let n=t[wr].indexOf(e);n!==-1&&t[wr].splice(n,1)}function si(t){let e=t[wt];return Gn(e)?e[wt]:e}function ab(t){return t[Xl]??=[]}function cb(t){return t.cleanup??=[]}var de={lFrame:yb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Op=!1;function CN(){return de.lFrame.elementDepthCount}function SN(){de.lFrame.elementDepthCount++}function DN(){de.lFrame.elementDepthCount--}function lb(){return de.bindingsEnabled}function AN(){return de.skipHydrationRootTNode!==null}function RN(t){return de.skipHydrationRootTNode===t}function MN(){de.skipHydrationRootTNode=null}function we(){return de.lFrame.lView}function Nt(){return de.lFrame.tView}function Kn(t){return de.lFrame.contextLView=t,t[Qe]}function Qn(t){return de.lFrame.contextLView=null,t}function Kt(){let t=ub();for(;t!==null&&t.type===64;)t=t.parent;return t}function ub(){return de.lFrame.currentTNode}function NN(){let t=de.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function wa(t,e){let n=de.lFrame;n.currentTNode=t,n.isParent=e}function db(){return de.lFrame.isParent}function xN(){de.lFrame.isParent=!1}function hb(){return Op}function JI(t){let e=Op;return Op=t,e}function fb(){let t=de.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function PN(t){return de.lFrame.bindingIndex=t}function xo(){return de.lFrame.bindingIndex++}function kN(t){let e=de.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ON(){return de.lFrame.inI18n}function VN(t,e){let n=de.lFrame;n.bindingIndex=n.bindingRootIndex=t,Vp(e)}function FN(){return de.lFrame.currentDirectiveIndex}function Vp(t){de.lFrame.currentDirectiveIndex=t}function LN(t){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function pb(t){de.lFrame.currentQueryIndex=t}function UN(t){let e=t[ue];return e.type===2?e.declTNode:e.type===1?t[cn]:null}function gb(t,e,n){if(n&oe.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&oe.Host);)if(i=UN(o),i===null||(o=o[Mo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=de.lFrame=mb();return r.currentTNode=e,r.lView=t,!0}function wg(t){let e=mb(),n=t[ue];de.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function mb(){let t=de.lFrame,e=t===null?null:t.child;return e===null?yb(t):e}function yb(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function vb(){let t=de.lFrame;return de.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var _b=vb;function bg(){let t=vb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function jN(t){return(de.lFrame.contextLView=bN(t,de.lFrame.contextLView))[Qe]}function fi(){return de.lFrame.selectedIndex}function ai(t){de.lFrame.selectedIndex=t}function Tg(){let t=de.lFrame;return Eg(t.tView,t.selectedIndex)}function BN(){return de.lFrame.currentNamespace}var Eb=!0;function Cg(){return Eb}function Sg(t){Eb=t}function $N(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=eb(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Ib(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),l&&(t.viewHooks??=[]).push(-n,l),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function ql(t,e,n){wb(t,e,3,n)}function zl(t,e,n,r){(t[ee]&3)===n&&wb(t,e,n,r)}function mp(t,e){let n=t[ee];(n&3)===e&&(n&=16383,n+=1,t[ee]=n)}function wb(t,e,n,r){let i=r!==void 0?t[go]&65535:0,o=r??-1,s=e.length-1,c=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(c=e[l],r!=null&&c>=r)break}else e[l]<0&&(t[go]+=65536),(c<o||o==-1)&&(HN(t,n,e,l),t[go]=(t[go]&4294901760)+l+2),l++}function ZI(t,e){Ce(4,t,e);let n=re(null);try{e.call(t)}finally{re(n),Ce(5,t,e)}}function HN(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[ee]>>14<t[go]>>16&&(t[ee]&3)===e&&(t[ee]+=16384,ZI(c,o)):ZI(c,o)}var yo=-1,ci=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function qN(t){return(t.flags&8)!==0}function zN(t){return(t.flags&16)!==0}function WN(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];GN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function bb(t){return t===3||t===4||t===6}function GN(t){return t.charCodeAt(0)===64}function fa(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?XI(t,n,i,null,e[++r]):XI(t,n,i,null,null))}}return t}function XI(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function Tb(t){return t!==yo}function iu(t){return t&32767}function KN(t){return t>>16}function ou(t,e){let n=KN(t),r=e;for(;n>0;)r=r[Mo],n--;return r}var Fp=!0;function ew(t){let e=Fp;return Fp=t,e}var QN=256,Cb=QN-1,Sb=5,YN=0,gn={};function JN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(aa)&&(r=n[aa]),r==null&&(r=n[aa]=YN++);let i=r&Cb,o=1<<i;e.data[t+(i>>Sb)]|=o}function su(t,e){let n=Db(t,e);if(n!==-1)return n;let r=e[ue];r.firstCreatePass&&(t.injectorIndex=e.length,yp(r.data,t),yp(e,null),yp(r.blueprint,null));let i=Dg(t,e),o=t.injectorIndex;if(Tb(i)){let s=iu(i),c=ou(i,e),l=c[ue].data;for(let u=0;u<8;u++)e[o+u]=c[s+u]|l[s+u]}return e[o+8]=i,o}function yp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Db(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Dg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=xb(i),r===null)return yo;if(n++,i=i[Mo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return yo}function Lp(t,e,n){JN(t,e,n)}function ZN(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(bb(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function Ab(t,e,n){if(n&oe.Optional||t!==void 0)return t;gg(e,"NodeInjector")}function Rb(t,e,n,r){if(n&oe.Optional&&r===void 0&&(r=null),(n&(oe.Self|oe.Host))===0){let i=t[Eo],o=qt(void 0);try{return i?i.get(e,r,n&oe.Optional):Uw(e,r,n&oe.Optional)}finally{qt(o)}}return Ab(r,e,n)}function Mb(t,e,n,r=oe.Default,i){if(t!==null){if(e[ee]&2048&&!(r&oe.Self)){let s=rx(t,e,n,r,gn);if(s!==gn)return s}let o=Nb(t,e,n,r,gn);if(o!==gn)return o}return Rb(e,n,r,i)}function Nb(t,e,n,r,i){let o=tx(n);if(typeof o=="function"){if(!gb(e,t,r))return r&oe.Host?Ab(i,n,r):Rb(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&oe.Optional))gg(n);else return s}finally{_b()}}else if(typeof o=="number"){let s=null,c=Db(t,e),l=yo,u=r&oe.Host?e[an][cn]:null;for((c===-1||r&oe.SkipSelf)&&(l=c===-1?Dg(t,e):e[c+8],l===yo||!nw(r,!1)?c=-1:(s=e[ue],c=iu(l),e=ou(l,e)));c!==-1;){let h=e[ue];if(tw(o,c,h.data)){let p=XN(c,e,n,s,r,u);if(p!==gn)return p}l=e[c+8],l!==yo&&nw(r,e[ue].data[c+8]===u)&&tw(o,c,e)?(s=h,c=iu(l),e=ou(l,e)):c=-1}}return i}function XN(t,e,n,r,i,o){let s=e[ue],c=s.data[t+8],l=r==null?No(c)&&Fp:r!=s&&(c.type&3)!==0,u=i&oe.Host&&o===c,h=ex(c,s,n,l,u);return h!==null?au(e,s,h,c):gn}function ex(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,l=t.directiveStart,u=t.directiveEnd,h=o>>20,p=r?c:c+h,y=i?c+h:u;for(let m=p;m<y;m++){let C=s[m];if(m<l&&n===C||m>=l&&C.type===n)return m}if(i){let m=s[l];if(m&&mn(m)&&m.type===n)return l}return null}function au(t,e,n,r){let i=t[n],o=e.data;if(i instanceof ci){let s=i;s.resolving&&Fw(zM(o[n]));let c=ew(s.canSeeViewProviders);s.resolving=!0;let l,u=s.injectImpl?qt(s.injectImpl):null,h=gb(t,r,oe.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&$N(n,o[n],e)}finally{u!==null&&qt(u),ew(c),s.resolving=!1,_b()}}return i}function tx(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(aa)?t[aa]:void 0;return typeof e=="number"?e>=0?e&Cb:nx:e}function tw(t,e,n){let r=1<<t;return!!(n[e+(t>>Sb)]&r)}function nw(t,e){return!(t&oe.Self)&&!(t&oe.Host&&e)}var ni=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Mb(this._tNode,this._lView,e,wu(r),n)}};function nx(){return new ni(Kt(),we())}function Sr(t){return _a(()=>{let e=t.prototype.constructor,n=e[Kl]||Up(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Kl]||Up(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Up(t){return xw(t)?()=>{let e=Up(_t(t));return e&&e()}:vo(t)}function rx(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ee]&2048&&!ru(s);){let c=Nb(o,s,n,r|oe.Self,gn);if(c!==gn)return c;let l=o.parent;if(!l){let u=s[Yw];if(u){let h=u.get(n,gn,r);if(h!==gn)return h}l=xb(s),s=s[Mo]}o=l}return i}function xb(t){let e=t[ue],n=e.type;return n===2?e.declTNode:n===1?t[cn]:null}function Pb(t){return ZN(Kt(),t)}function rw(t,e=null,n=null,r){let i=kb(t,e,n,r);return i.resolveInjectorInitializers(),i}function kb(t,e=null,n=null,r,i=new Set){let o=[n||zt,sN(t)];return r=r||(typeof t=="object"?void 0:Mt(t)),new ua(o,e||vg(),r||null,i)}var bt=class t{static THROW_IF_NOT_FOUND=ti;static NULL=new Zl;static create(e,n){if(Array.isArray(e))return rw({name:""},n,e,"");{let r=e.name??"";return rw({name:r},e.parent,e.providers,r)}}static \u0275prov=q({token:t,providedIn:"any",factory:()=>se(Bw)});static __NG_ELEMENT_ID__=-1};var ix=new $("");ix.__NG_ELEMENT_ID__=t=>{let e=Kt();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(t&oe.Optional)return null;throw new B(204,!1)};var Ob=!1,ba=(()=>{class t{static __NG_ELEMENT_ID__=ox;static __NG_ENV_ID__=n=>n}return t})(),jp=class extends ba{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return sb(this._lView,e),()=>TN(this._lView,e)}};function ox(){return new jp(we())}var To=class{},Ag=new $("",{providedIn:"root",factory:()=>!1});var Vb=new $(""),Fb=new $(""),pi=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new it(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}return t})(),Du=(()=>{class t{internalPendingTasks=P(pi);scheduler=P(To);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return D(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}return t})(),Bp=class extends Ue{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Kw()&&(this.destroyRef=P(ba,{optional:!0})??void 0,this.pendingTasks=P(pi,{optional:!0})??void 0)}emit(e){let n=re(null);try{super.next(e)}finally{re(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Pe&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ke=Bp;function cu(...t){}function Lb(t){let e,n;function r(){t=cu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function iw(t){return queueMicrotask(()=>t()),()=>{t=cu}}var Rg="isAngularZone",lu=Rg+"_ID",sx=0,Se=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ke(!1);onMicrotaskEmpty=new Ke(!1);onStable=new Ke(!1);onError=new Ke(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Ob}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,lx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Rg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new B(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,ax,cu,cu);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},ax={};function Mg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function cx(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Lb(()=>{t.callbackScheduled=!1,$p(t),t.isCheckStableRunning=!0,Mg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),$p(t)}function lx(t){let e=()=>{cx(t)},n=sx++;t._inner=t._inner.fork({name:"angular",properties:{[Rg]:!0,[lu]:n,[lu+n]:!0},onInvokeTask:(r,i,o,s,c,l)=>{if(ux(l))return r.invokeTask(o,s,c,l);try{return ow(t),r.invokeTask(o,s,c,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),sw(t)}},onInvoke:(r,i,o,s,c,l,u)=>{try{return ow(t),r.invoke(o,s,c,l,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!dx(l)&&e(),sw(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,$p(t),Mg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function $p(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function ow(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function sw(t){t._nesting--,Mg(t)}var Hp=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ke;onMicrotaskEmpty=new Ke;onStable=new Ke;onError=new Ke;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function ux(t){return Ub(t,"__ignore_ng_zone__")}function dx(t){return Ub(t,"__scheduler_tick__")}function Ub(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var qn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},hx=new $("",{providedIn:"root",factory:()=>{let t=P(Se),e=P(qn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function aw(t,e){return Nw(t,e)}function fx(t){return Nw(Mw,t)}var jb=(aw.required=fx,aw);function px(){return Ng(Kt(),we())}function Ng(t,e){return new Dr(En(t,e))}var Dr=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=px}return t})();function gx(t){return typeof t=="function"&&t[$t]!==void 0}function Ar(t,e){let n=Wf(t,e?.equal),r=n[$t];return n.set=i=>Zs(r,i),n.update=i=>Gf(r,i),n.asReadonly=mx.bind(n),n}function mx(){let t=this[$t];if(t.readonlyFn===void 0){let e=()=>this();e[$t]=t,t.readonlyFn=e}return t.readonlyFn}function Bb(t){return gx(t)&&typeof t.set=="function"}function $b(t){return(t.flags&128)===128}var Hb=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Hb||{}),qb=new Map,yx=0;function vx(){return yx++}function _x(t){qb.set(t[Tu],t)}function qp(t){qb.delete(t[Tu])}var cw="__ngContext__";function Ta(t,e){br(e)?(t[cw]=e[Tu],_x(e)):t[cw]=e}function zb(t){return Gb(t[ha])}function Wb(t){return Gb(t[sn])}function Gb(t){for(;t!==null&&!Gn(t);)t=t[sn];return t}var zp;function Kb(t){zp=t}function Ex(){if(zp!==void 0)return zp;if(typeof document<"u")return document;throw new B(210,!1)}var xg=new $("",{providedIn:"root",factory:()=>Ix}),Ix="ng",Pg=new $(""),gi=new $("",{providedIn:"platform",factory:()=>"unknown"});var kg=new $("",{providedIn:"root",factory:()=>Ex().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var wx="h",bx="b";var Qb=!1,Tx=new $("",{providedIn:"root",factory:()=>Qb});var Yb=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Yb||{}),Au=new $(""),lw=new Set;function Ca(t){lw.has(t)||(lw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Cx=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}return t})();var Sx=()=>null;function Jb(t,e,n=!1){return Sx(t,e,n)}function Zb(t,e){let n=t.contentQueries;if(n!==null){let r=re(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];pb(o),c.contentQueries(2,e[s],s)}}}finally{re(r)}}}function Wp(t,e,n){pb(0);let r=re(null);try{e(t,n)}finally{re(r)}}function Xb(t,e,n){if(Zw(e)){let r=re(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let l=n[s];c.contentQueries(1,l,s)}}}finally{re(r)}}}var _n=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(_n||{}),jl;function Dx(){if(jl===void 0&&(jl=null,ca.trustedTypes))try{jl=ca.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return jl}function Ax(t){return Dx()?.createScriptURL(t)||t}var Bl;function Rx(){if(Bl===void 0&&(Bl=null,ca.trustedTypes))try{Bl=ca.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Bl}function uw(t){return Rx()?.createScriptURL(t)||t}var uu=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Rw})`}};function Og(t){return t instanceof uu?t.changingThisBreaksApplicationSecurity:t}function eT(t,e){let n=Mx(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Rw})`)}return n===e}function Mx(t){return t instanceof uu&&t.getTypeName()||null}var Nx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xx(t){return t=String(t),t.match(Nx)?t:"unsafe:"+t}var Vg=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Vg||{});function Px(t){let e=rT();return e?e.sanitize(Vg.URL,t)||"":eT(t,"URL")?Og(t):xx(Iu(t))}function kx(t){let e=rT();if(e)return uw(e.sanitize(Vg.RESOURCE_URL,t)||"");if(eT(t,"ResourceURL"))return uw(Og(t));throw new B(904,!1)}function tT(t){return Ax(t[0])}function Ox(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?kx:Px}function nT(t,e,n){return Ox(e,n)(t)}function rT(){let t=we();return t&&t[Hn].sanitizer}function iT(t){return t instanceof Function?t():t}function Vx(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var oT="ng-template";function Fx(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Vx(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Fg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Fg(t){return t.type===4&&t.value!==oT}function Lx(t,e,n){let r=t.type===4&&!n?oT:t.value;return e===r}function Ux(t,e,n){let r=4,i=t.attrs,o=i!==null?$x(i):0,s=!1;for(let c=0;c<e.length;c++){let l=e[c];if(typeof l=="number"){if(!s&&!on(r)&&!on(l))return!1;if(s&&on(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!Lx(t,l,n)||l===""&&e.length===1){if(on(r))return!1;s=!0}}else if(r&8){if(i===null||!Fx(t,i,l,n)){if(on(r))return!1;s=!0}}else{let u=e[++c],h=jx(l,i,Fg(t),n);if(h===-1){if(on(r))return!1;s=!0;continue}if(u!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&u!==p){if(on(r))return!1;s=!0}}}}return on(r)||s}function on(t){return(t&1)===0}function jx(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Hx(e,t)}function Bx(t,e,n=!1){for(let r=0;r<e.length;r++)if(Ux(t,e[r],n))return!0;return!1}function $x(t){for(let e=0;e<t.length;e++){let n=t[e];if(bb(n))return e}return t.length}function Hx(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function dw(t,e){return t?":not("+e.trim()+")":e}function qx(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!on(s)&&(e+=dw(o,i),i=""),r=s,o=o||!on(r);n++}return i!==""&&(e+=dw(o,i)),e}function zx(t){return t.map(qx).join(",")}function Wx(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!on(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Yn={};function Gx(t,e){return t.createText(e)}function Kx(t,e,n){t.setValue(e,n)}function sT(t,e,n){return t.createElement(e,n)}function du(t,e,n,r,i){t.insertBefore(e,n,r,i)}function aT(t,e,n){t.appendChild(e,n)}function hw(t,e,n,r,i){r!==null?du(t,e,n,r,i):aT(t,e,n)}function Qx(t,e,n){t.removeChild(null,e,n)}function Yx(t,e,n){t.setAttribute(e,"style",n)}function Jx(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function cT(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&WN(t,e,r),i!==null&&Jx(t,e,i),o!==null&&Yx(t,e,o)}function Lg(t,e,n,r,i,o,s,c,l,u,h){let p=Gt+r,y=p+i,m=Zx(p,y),C=typeof u=="function"?u():u;return m[ue]={type:t,blueprint:m,template:n,queries:null,viewQuery:c,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:C,incompleteFirstPass:!1,ssrId:h}}function Zx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Yn);return n}function Xx(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Lg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ug(t,e,n,r,i,o,s,c,l,u,h){let p=e.blueprint.slice();return p[Wn]=i,p[ee]=r|4|128|8|64|1024,(u!==null||t&&t[ee]&2048)&&(p[ee]|=2048),ib(p),p[wt]=p[Mo]=t,p[Qe]=n,p[Hn]=s||t&&t[Hn],p[Ye]=c||t&&t[Ye],p[Eo]=l||t&&t[Eo]||null,p[cn]=o,p[Tu]=vx(),p[da]=h,p[Yw]=u,p[an]=e.type==2?t[an]:p,p}function eP(t,e,n){let r=En(e,t),i=Xx(n),o=t[Hn].rendererFactory,s=jg(t,Ug(t,i,null,lT(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function lT(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function uT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function jg(t,e){return t[ha]?t[QI][sn]=e:t[ha]=e,t[QI]=e,e}function G(t=1){dT(Nt(),we(),fi()+t,!1)}function dT(t,e,n,r){if(!r)if((e[ee]&3)===3){let o=t.preOrderCheckHooks;o!==null&&ql(e,o,n)}else{let o=t.preOrderHooks;o!==null&&zl(e,o,0,n)}ai(n)}var Ru=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ru||{});function Gp(t,e,n,r){let i=re(null);try{let[o,s,c]=t.inputs[n],l=null;(s&Ru.SignalBased)!==0&&(l=e[o][$t]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):c!==null&&(r=c.call(e,r)),t.setInput!==null?t.setInput(e,l,r,n,o):Xw(e,l,o,r)}finally{re(i)}}function hT(t,e,n,r,i){let o=fi(),s=r&2;try{ai(-1),s&&e.length>Gt&&dT(t,e,Gt,!1),Ce(s?2:0,i),n(r,i)}finally{ai(o),Ce(s?3:1,i)}}function Bg(t,e,n){sP(t,e,n),(n.flags&64)===64&&aP(t,e,n)}function fT(t,e,n=En){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function tP(t,e,n,r){let o=r.get(Tx,Qb)||n===_n.ShadowDom,s=t.selectRootElement(e,o);return nP(s),s}function nP(t){rP(t)}var rP=()=>null;function iP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function pT(t,e,n,r,i,o,s,c){if(!c&&$g(e,t,n,r,i)){No(e)&&oP(n,e.index);return}if(e.type&3){let l=En(e,n);r=iP(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)}else e.type&12}function oP(t,e){let n=vn(e,t);n[ee]&16||(n[ee]|=64)}function sP(t,e,n){let r=n.directiveStart,i=n.directiveEnd;No(n)&&eP(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||su(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let c=t.data[s],l=au(e,t,s,n);if(Ta(l,e),o!==null&&dP(e,s-r,l,c,n,o),mn(c)){let u=vn(n.index,e);u[Qe]=au(e,t,s,n)}}}function aP(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=FN();try{ai(o);for(let c=r;c<i;c++){let l=t.data[c],u=e[c];Vp(c),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&cP(l,u)}}finally{ai(-1),Vp(s)}}function cP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function gT(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];Bx(e,o.selectors,!1)&&(r??=[],mn(o)?r.unshift(o):r.push(o))}return r}function lP(t,e,n,r,i,o){let s=En(t,e);uP(e[Ye],s,o,t.value,n,r,i)}function uP(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let c=s==null?Iu(o):s(o,r||"",i);t.setAttribute(e,i,c,n)}}function dP(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1];Gp(r,n,l,u)}}function hP(t,e){let n=t[Eo],r=n?n.get(qn,null):null;r&&r.handleError(e)}function $g(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],c=!1;if(s)for(let l=0;l<s.length;l+=2){let u=s[l],h=s[l+1],p=e.data[u];Gp(p,n[u],h,i),c=!0}if(o)for(let l of o){let u=n[l],h=e.data[l];Gp(h,u,r,i),c=!0}return c}function fP(t,e){let n=vn(e,t),r=n[ue];pP(r,n);let i=n[Wn];i!==null&&n[da]===null&&(n[da]=Jb(i,n[Eo])),Ce(18),Hg(r,n,n[Qe]),Ce(19,n[Qe])}function pP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Hg(t,e,n){wg(e);try{let r=t.viewQuery;r!==null&&Wp(1,r,n);let i=t.template;i!==null&&hT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[wo]?.finishViewCreation(t),t.staticContentQueries&&Zb(t,e),t.staticViewQueries&&Wp(2,t.viewQuery,n);let o=t.components;o!==null&&gP(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ee]&=-5,bg()}}function gP(t,e){for(let n=0;n<e.length;n++)fP(t,e[n])}function qg(t,e,n,r){let i=re(null);try{let o=e.tView,c=t[ee]&4096?4096:16,l=Ug(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];l[Io]=u;let h=t[wo];return h!==null&&(l[wo]=h.createEmbeddedView(o)),Hg(o,l,n),l}finally{re(i)}}function pa(t,e){return!e||e.firstChild===null||$b(t)}var mP;function zg(t,e){return mP(t,e)}var Tr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Tr||{});function mT(t){return(t.flags&32)===32}function mo(t,e,n,r,i){if(r!=null){let o,s=!1;Gn(r)?o=r:br(r)&&(s=!0,r=r[Wn]);let c=yn(r);t===0&&n!==null?i==null?aT(e,n,c):du(e,n,c,i||null,!0):t===1&&n!==null?du(e,n,c,i||null,!0):t===2?Qx(e,c,s):t===3&&e.destroyNode(c),o!=null&&AP(e,t,o,n,i)}}function yP(t,e){yT(t,e),e[Wn]=null,e[cn]=null}function vP(t,e,n,r,i,o){r[Wn]=i,r[cn]=e,Nu(t,r,n,1,i,o)}function yT(t,e){e[Hn].changeDetectionScheduler?.notify(9),Nu(t,e,e[Ye],2,null,null)}function _P(t){let e=t[ha];if(!e)return vp(t[ue],t);for(;e;){let n=null;if(br(e))n=e[ha];else{let r=e[Et];r&&(n=r)}if(!n){for(;e&&!e[sn]&&e!==t;)br(e)&&vp(e[ue],e),e=e[wt];e===null&&(e=t),br(e)&&vp(e[ue],e),n=e&&e[sn]}e=n}}function Wg(t,e){let n=t[nu],r=n.indexOf(e);n.splice(r,1)}function Mu(t,e){if(Ia(e))return;let n=e[Ye];n.destroyNode&&Nu(t,e,n,3,null,null),_P(e)}function vp(t,e){if(Ia(e))return;let n=re(null);try{e[ee]&=-129,e[ee]|=256,e[Wt]&&Hf(e[Wt]),IP(t,e),EP(t,e),e[ue].type===1&&e[Ye].destroy();let r=e[Io];if(r!==null&&Gn(e[wt])){r!==e[wt]&&Wg(r,e);let i=e[wo];i!==null&&i.detachView(t)}qp(e)}finally{re(n)}}function EP(t,e){let n=t.cleanup,r=e[Xl];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let c=n[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[n[s+1]];n[s].call(c)}r!==null&&(e[Xl]=null);let i=e[wr];if(i!==null){e[wr]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[eu];if(o!==null){e[eu]=null;for(let s of o)s.destroy()}}function IP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ci)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],l=o[s+1];Ce(4,c,l);try{l.call(c)}finally{Ce(5,c,l)}}else{Ce(4,i,o);try{o.call(i)}finally{Ce(5,i,o)}}}}}function wP(t,e,n){return bP(t,e.parent,n)}function bP(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Wn];if(No(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===_n.None||i===_n.Emulated)return null}return En(r,n)}function TP(t,e,n){return SP(t,e,n)}function CP(t,e,n){return t.type&40?En(t,n):null}var SP=CP,fw;function Gg(t,e,n,r){let i=wP(t,r,e),o=e[Ye],s=r.parent||e[cn],c=TP(s,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)hw(o,i,n[l],c,!1);else hw(o,i,n,c,!1);fw!==void 0&&fw(o,r,e,n,i)}function sa(t,e){if(e!==null){let n=e.type;if(n&3)return En(e,t);if(n&4)return Kp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return sa(t,r);{let i=t[e.index];return Gn(i)?Kp(-1,i):yn(i)}}else{if(n&128)return sa(t,e.next);if(n&32)return zg(e,t)()||yn(t[e.index]);{let r=vT(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=si(t[an]);return sa(i,r)}else return sa(t,e.next)}}}return null}function vT(t,e){if(e!==null){let r=t[an][cn],i=e.projection;return r.projection[i]}return null}function Kp(t,e){let n=Et+t+1;if(n<e.length){let r=e[n],i=r[ue].firstChild;if(i!==null)return sa(r,i)}return e[oi]}function Kg(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(s&&e===0&&(c&&Ta(yn(c),r),n.flags|=2),!mT(n))if(l&8)Kg(t,e,n.child,r,i,o,!1),mo(e,t,i,c,o);else if(l&32){let u=zg(n,r),h;for(;h=u();)mo(e,t,i,h,o);mo(e,t,i,c,o)}else l&16?DP(t,e,r,n,i,o):mo(e,t,i,c,o);n=s?n.projectionNext:n.next}}function Nu(t,e,n,r,i,o){Kg(n,r,t.firstChild,e,i,o,!1)}function DP(t,e,n,r,i,o){let s=n[an],l=s[cn].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let h=l[u];mo(e,t,i,h,o)}else{let u=l,h=s[wt];$b(r)&&(u.flags|=128),Kg(t,e,u,h,i,o,!0)}}function AP(t,e,n,r,i){let o=n[oi],s=yn(n);o!==s&&mo(e,t,r,o,i);for(let c=Et;c<n.length;c++){let l=n[c];Nu(l[ue],l,t,e,r,o)}}function RP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Tr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Tr.Important),t.setStyle(n,r,i,o))}}function hu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(yn(o)),Gn(o)&&MP(o,r);let s=n.type;if(s&8)hu(t,e,n.child,r);else if(s&32){let c=zg(n,e),l;for(;l=c();)r.push(l)}else if(s&16){let c=vT(e,n);if(Array.isArray(c))r.push(...c);else{let l=si(e[an]);hu(l[ue],l,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function MP(t,e){for(let n=Et;n<t.length;n++){let r=t[n],i=r[ue].firstChild;i!==null&&hu(r[ue],r,i,e)}t[oi]!==t[Wn]&&e.push(t[oi])}function _T(t){if(t[gp]!==null){for(let e of t[gp])e.impl.addSequence(e);t[gp].length=0}}var ET=[];function NP(t){return t[Wt]??xP(t)}function xP(t){let e=ET.pop()??Object.create(kP);return e.lView=t,e}function PP(t){t.lView[Wt]!==t&&(t.lView=null,ET.push(t))}var kP=ce(F({},Ys),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Su(t.lView)},consumerOnSignalRead(){this.lView[Wt]=this}});function OP(t){let e=t[Wt]??Object.create(VP);return e.lView=t,e}var VP=ce(F({},Ys),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=si(t.lView);for(;e&&!IT(e[ue]);)e=si(e);e&&ob(e)},consumerOnSignalRead(){this.lView[Wt]=this}});function IT(t){return t.type!==2}function wT(t){if(t[eu]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[eu])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[ee]&8192)}}var FP=100;function bT(t,e=!0,n=0){let i=t[Hn].rendererFactory,o=!1;o||i.begin?.();try{LP(t,n)}catch(s){throw e&&hP(t,s),s}finally{o||i.end?.()}}function LP(t,e){let n=hb();try{JI(!0),Qp(t,e);let r=0;for(;Cu(t);){if(r===FP)throw new B(103,!1);r++,Qp(t,1)}}finally{JI(n)}}function UP(t,e,n,r){if(Ia(e))return;let i=e[ee],o=!1,s=!1;wg(e);let c=!0,l=null,u=null;o||(IT(t)?(u=NP(e),l=al(u)):Ff()===null?(c=!1,u=OP(e),l=al(u)):e[Wt]&&(Hf(e[Wt]),e[Wt]=null));try{ib(e),PN(t.bindingStartIndex),n!==null&&hT(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let m=t.preOrderCheckHooks;m!==null&&ql(e,m,null)}else{let m=t.preOrderHooks;m!==null&&zl(e,m,0,null),mp(e,0)}if(s||jP(e),wT(e),TT(e,0),t.contentQueries!==null&&Zb(t,e),!o)if(h){let m=t.contentCheckHooks;m!==null&&ql(e,m)}else{let m=t.contentHooks;m!==null&&zl(e,m,1),mp(e,1)}$P(t,e);let p=t.components;p!==null&&ST(e,p,0);let y=t.viewQuery;if(y!==null&&Wp(2,y,r),!o)if(h){let m=t.viewCheckHooks;m!==null&&ql(e,m)}else{let m=t.viewHooks;m!==null&&zl(e,m,2),mp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[pp]){for(let m of e[pp])m();e[pp]=null}o||(_T(e),e[ee]&=-73)}catch(h){throw o||Su(e),h}finally{u!==null&&(Bf(u,l),c&&PP(u)),bg()}}function TT(t,e){for(let n=zb(t);n!==null;n=Wb(n))for(let r=Et;r<n.length;r++){let i=n[r];CT(i,e)}}function jP(t){for(let e=zb(t);e!==null;e=Wb(e)){if(!(e[ee]&2))continue;let n=e[nu];for(let r=0;r<n.length;r++){let i=n[r];ob(i)}}}function BP(t,e,n){Ce(18);let r=vn(e,t);CT(r,n),Ce(19,r[Qe])}function CT(t,e){Ig(t)&&Qp(t,e)}function Qp(t,e){let r=t[ue],i=t[ee],o=t[Wt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&$f(o)),s||=!1,o&&(o.dirty=!1),t[ee]&=-9217,s)UP(r,t,r.template,t[Qe]);else if(i&8192){wT(t),TT(t,1);let c=r.components;c!==null&&ST(t,c,1),_T(t)}}function ST(t,e,n){for(let r=0;r<e.length;r++)BP(t,e[r],n)}function $P(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ai(~i);else{let o=i,s=n[++r],c=n[++r];VN(s,o);let l=e[o];Ce(24,l),c(2,l),Ce(25,l)}}}finally{ai(-1)}}function Qg(t,e){let n=hb()?64:1088;for(t[Hn].changeDetectionScheduler?.notify(e);t;){t[ee]|=n;let r=si(t);if(ru(t)&&!r)return t;t=r}return null}function DT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function AT(t,e){let n=Et+e;if(n<t.length)return t[n]}function xu(t,e,n,r=!0){let i=e[ue];if(HP(i,e,t,n),r){let s=Kp(n,t),c=e[Ye],l=c.parentNode(t[oi]);l!==null&&vP(i,t[cn],c,e,l,s)}let o=e[da];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function RT(t,e){let n=ga(t,e);return n!==void 0&&Mu(n[ue],n),n}function ga(t,e){if(t.length<=Et)return;let n=Et+e,r=t[n];if(r){let i=r[Io];i!==null&&i!==t&&Wg(i,r),e>0&&(t[n-1][sn]=r[sn]);let o=Jl(t,Et+e);yP(r[ue],r);let s=o[wo];s!==null&&s.detachView(o[ue]),r[wt]=null,r[sn]=null,r[ee]&=-129}return r}function HP(t,e,n,r){let i=Et+r,o=n.length;r>0&&(n[i-1][sn]=e),r<o-Et?(e[sn]=n[i],jw(n,Et+r,e)):(n.push(e),e[sn]=null),e[wt]=n;let s=e[Io];s!==null&&n!==s&&MT(s,e);let c=e[wo];c!==null&&c.insertView(t),kp(e),e[ee]|=128}function MT(t,e){let n=t[nu],r=e[wt];if(br(r))t[ee]|=2;else{let i=r[wt][an];e[an]!==i&&(t[ee]|=2)}n===null?t[nu]=[e]:n.push(e)}var fu=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[ue];return hu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Qe]}set context(e){this._lView[Qe]=e}get destroyed(){return Ia(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[wt];if(Gn(e)){let n=e[tu],r=n?n.indexOf(this):-1;r>-1&&(ga(e,r),Jl(n,r))}this._attachedToViewContainer=!1}Mu(this._lView[ue],this._lView)}onDestroy(e){sb(this._lView,e)}markForCheck(){Qg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ee]&=-129}reattach(){kp(this._lView),this._lView[ee]|=128}detectChanges(){this._lView[ee]|=1024,bT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ru(this._lView),n=this._lView[Io];n!==null&&!e&&Wg(n,this._lView),yT(this._lView[ue],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let n=ru(this._lView),r=this._lView[Io];r!==null&&!n&&MT(r,this._lView),kp(this._lView)}};function Yg(t,e,n,r,i){let o=t.data[e];if(o===null)o=qP(t,e,n,r,i),ON()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=NN();o.injectorIndex=s===null?-1:s.injectorIndex}return wa(o,!0),o}function qP(t,e,n,r,i){let o=ub(),s=db(),c=s?o:o&&o.parent,l=t.data[e]=WP(t,c,n,e,r,i);return zP(t,l,o,s),l}function zP(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function WP(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return AN()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var BG=new RegExp(`^(\\d+)*(${bx}|${wx})*(.*)`);var GP=()=>null;function ma(t,e){return GP(t,e)}var KP=class{},NT=class{},Yp=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Mt(e)}.`)}},Pu=class{static NULL=new Yp},Co=class{},mi=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>QP()}return t})();function QP(){let t=we(),e=Kt(),n=vn(e.index,t);return(br(n)?n:t)[Ye]}var YP=(()=>{class t{static \u0275prov=q({token:t,providedIn:"root",factory:()=>null})}return t})();var _p={},Jp=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=wu(r);let i=this.injector.get(e,_p,r);return i!==_p||n===_p?i:this.parentInjector.get(e,n,r)}};function pw(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=$I(i,c);else if(o==2){let l=c,u=e[++s];r=$I(r,l+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Y(t,e=oe.Default){let n=we();if(n===null)return se(t,e);let r=Kt();return Mb(r,n,_t(t),e)}function xT(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let c,l=null,u=null,h=ZP(s);h===null?c=s:[c,l,u]=h,tk(t,e,n,c,o,l,u)}o!==null&&r!==null&&JP(n,r,o)}function JP(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new B(-301,!1);r.push(e[i],o)}}function ZP(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let c=t[s];if(s===0&&mn(c)&&(e=c),c.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,XP(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function XP(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function ek(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function tk(t,e,n,r,i,o,s){let c=r.length,l=!1;for(let y=0;y<c;y++){let m=r[y];!l&&mn(m)&&(l=!0,ek(t,n,y)),Lp(su(n,e),t,m.type)}ak(n,t.data.length,c);for(let y=0;y<c;y++){let m=r[y];m.providersResolver&&m.providersResolver(m)}let u=!1,h=!1,p=uT(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let y=0;y<c;y++){let m=r[y];if(n.mergedAttrs=fa(n.mergedAttrs,m.hostAttrs),rk(t,n,e,p,m),sk(p,m,i),s!==null&&s.has(m)){let[M,R]=s.get(m);n.directiveToIndex.set(m.type,[p,M+n.directiveStart,R+n.directiveStart])}else(o===null||!o.has(m))&&n.directiveToIndex.set(m.type,p);m.contentQueries!==null&&(n.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(n.flags|=64);let C=m.type.prototype;!u&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),u=!0),!h&&(C.ngOnChanges||C.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}nk(t,n,o)}function nk(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))gw(0,e,i,r),gw(1,e,i,r),yw(e,r,!1);else{let o=n.get(i);mw(0,e,o,r),mw(1,e,o,r),yw(e,r,!0)}}}function gw(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),PT(e,o)}}function mw(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),PT(e,s)}}function PT(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function yw(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Fg(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let l=r[c];if(l===0){c+=4;continue}else if(l===5){c+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let u=i[l];for(let h of u)if(h===e){s??=[],s.push(l,r[c+1]);break}}else if(n&&o.hasOwnProperty(l)){let u=o[l];for(let h=0;h<u.length;h+=2)if(u[h]===e){s??=[],s.push(u[h+1],r[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(s)}function rk(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=vo(i.type,!0)),s=new ci(o,mn(i),Y);t.blueprint[r]=s,n[r]=s,ik(t,e,r,uT(t,n,i.hostVars,Yn),i)}function ik(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;ok(s)!=c&&s.push(c),s.push(n,r,o)}}function ok(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function sk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;mn(e)&&(n[""]=t)}}function ak(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function kT(t,e,n,r,i,o,s,c){let l=e.consts,u=bo(l,s),h=Yg(e,t,2,r,u);return o&&xT(e,n,h,bo(l,c),i),h.mergedAttrs=fa(h.mergedAttrs,h.attrs),h.attrs!==null&&pw(h,h.attrs,!1),h.mergedAttrs!==null&&pw(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function OT(t,e){Ib(t,e),Zw(e)&&t.queries.elementEnd(e)}var pu=class extends Pu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ii(e);return new So(n,this.ngModule)}};function ck(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Ru.SignalBased)!==0};return i&&(o.transform=i),o})}function lk(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function uk(t,e,n){let r=e instanceof It?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Jp(n,r):n}function dk(t){let e=t.get(Co,null);if(e===null)throw new B(407,!1);let n=t.get(YP,null),r=t.get(To,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function hk(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return sT(e,n,n==="svg"?EN:n==="math"?IN:null)}var So=class extends NT{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=ck(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=lk(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=zx(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){Ce(22);let o=re(null);try{let s=this.componentDef,c=r?["ng-version","19.2.6"]:Wx(this.componentDef.selectors[0]),l=Lg(0,null,null,1,0,null,null,null,null,[c],null),u=uk(s,i||this.ngModule,e),h=dk(u),p=h.rendererFactory.createRenderer(null,s),y=r?tP(p,r,s.encapsulation,u):hk(s,p),m=Ug(null,l,null,512|lT(s),null,null,h,p,u,null,Jb(y,u,!0));m[Gt]=y,wg(m);let C=null;try{let M=kT(Gt,l,m,"#host",()=>[this.componentDef],!0,0);y&&(cT(p,y,M),Ta(y,m)),Bg(l,m,M),Xb(l,M,m),OT(l,M),n!==void 0&&fk(M,this.ngContentSelectors,n),C=vn(M.index,m),m[Qe]=C[Qe],Hg(l,m,null)}catch(M){throw C!==null&&qp(C),qp(m),M}finally{Ce(23),bg()}return new Zp(this.componentType,m)}finally{re(o)}}},Zp=class extends KP{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=Eg(n[ue],Gt),this.location=Ng(this._tNode,n),this.instance=vn(this._tNode.index,n)[Qe],this.hostView=this.changeDetectorRef=new fu(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=$g(r,i[ue],i,e,n);this.previousInputValues.set(e,n);let s=vn(r.index,i);Qg(s,1)}get injector(){return new ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function fk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Jg=(()=>{class t{static __NG_ELEMENT_ID__=pk}return t})();function pk(){let t=Kt();return mk(t,we())}var gk=Jg,VT=class extends gk{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ng(this._hostTNode,this._hostLView)}get injector(){return new ni(this._hostTNode,this._hostLView)}get parentInjector(){let e=Dg(this._hostTNode,this._hostLView);if(Tb(e)){let n=ou(e,this._hostLView),r=iu(e),i=n[ue].data[r+8];return new ni(i,n)}else return new ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=vw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Et}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=ma(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,pa(this._hostTNode,s)),c}createComponent(e,n,r,i,o){let s=e&&!mN(e),c;if(s)c=n;else{let C=n||{};c=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let l=s?e:new So(ii(e)),u=r||this.parentInjector;if(!o&&l.ngModule==null){let M=(s?u:this.parentInjector).get(It,null);M&&(o=M)}let h=ii(l.componentType??{}),p=ma(this._lContainer,h?.id??null),y=p?.firstChild??null,m=l.create(u,i,y,o);return this.insertImpl(m.hostView,c,pa(this._hostTNode,p)),m}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(wN(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let l=i[wt],u=new VT(l,l[cn],l[wt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return xu(s,i,o,r),e.attachToViewContainerRef(),jw(Ep(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=vw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ga(this._lContainer,n);r&&(Jl(Ep(this._lContainer),n),Mu(r[ue],r))}detach(e){let n=this._adjustIndex(e,-1),r=ga(this._lContainer,n);return r&&Jl(Ep(this._lContainer),n)!=null?new fu(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function vw(t){return t[tu]}function Ep(t){return t[tu]||(t[tu]=[])}function mk(t,e){let n,r=e[t.index];return Gn(r)?n=r:(n=DT(r,e,null,t),e[t.index]=n,jg(e,n)),vk(n,e,t,r),new VT(n,t,e)}function yk(t,e){let n=t[Ye],r=n.createComment(""),i=En(e,t),o=n.parentNode(i);return du(n,o,r,n.nextSibling(i),!1),r}var vk=Ik,_k=()=>!1;function Ek(t,e,n){return _k(t,e,n)}function Ik(t,e,n,r){if(t[oi])return;let i;n.type&8?i=yn(r):i=yk(e,n),t[oi]=i}var ya=class{},Zg=class{};var Xp=class extends ya{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new pu(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Hw(e);this._bootstrapComponents=iT(o.bootstrap),this._r3Injector=kb(e,n,[{provide:ya,useValue:this},{provide:Pu,useValue:this.componentFactoryResolver},...r],Mt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},eg=class extends Zg{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Xp(this.moduleType,e,[])}};var gu=class extends ya{injector;componentFactoryResolver=new pu(this);instance=null;constructor(e){super();let n=new ua([...e.providers,{provide:ya,useValue:this},{provide:Pu,useValue:this.componentFactoryResolver}],e.parent||vg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ku(t,e,n=null){return new gu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var wk=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=qw(!1,n.type),i=r.length>0?ku([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=q({token:t,providedIn:"environment",factory:()=>new t(se(It))})}return t})();function Be(t){return _a(()=>{let e=FT(t),n=ce(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Hb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(wk).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||_n.Emulated,styles:t.styles||zt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Ca("NgStandalone"),LT(n);let r=t.dependencies;return n.directiveDefs=_w(r,!1),n.pipeDefs=_w(r,!0),n.id=Dk(n),n})}function bk(t){return ii(t)||iN(t)}function Tk(t){return t!==null}function Po(t){return _a(()=>({type:t.type,bootstrap:t.bootstrap||zt,declarations:t.declarations||zt,imports:t.imports||zt,exports:t.exports||zt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ck(t,e){if(t==null)return ri;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c,l;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,c=Ru.None,l=null),n[o]=[r,c,l],e[o]=s}return n}function Sk(t){if(t==null)return ri;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Je(t){return _a(()=>{let e=FT(t);return LT(e),e})}function FT(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||ri,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||zt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ck(t.inputs,e),outputs:Sk(t.outputs),debugInfo:null}}function LT(t){t.features?.forEach(e=>e(t))}function _w(t,e){if(!t)return null;let n=e?oN:bk;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Tk)}function Dk(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ak(t){return Object.getPrototypeOf(t.prototype).constructor}function ln(t){let e=Ak(t.type),n=!0,r=[t];for(;e;){let i;if(mn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Ip(t.inputs),s.declaredInputs=Ip(t.declaredInputs),s.outputs=Ip(t.outputs);let c=i.hostBindings;c&&Pk(t,c);let l=i.viewQuery,u=i.contentQueries;if(l&&Nk(t,l),u&&xk(t,u),Rk(t,i),FM(t.outputs,i.outputs),mn(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(t),c===ln&&(n=!1)}}e=Object.getPrototypeOf(e)}Mk(r)}function Rk(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function Mk(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=fa(i.hostAttrs,n=fa(n,i.hostAttrs))}}function Ip(t){return t===ri?{}:t===zt?[]:t}function Nk(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function xk(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function Pk(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function UT(t,e,n){return t[e]=n}function kk(t,e){return t[e]}function Rr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Ok(t,e,n,r,i,o,s,c,l){let u=e.consts,h=Yg(e,t,4,s||null,c||null);lb()&&xT(e,n,h,bo(u,l),gT),h.mergedAttrs=fa(h.mergedAttrs,h.attrs),Ib(e,h);let p=h.tView=Lg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function tg(t,e,n,r,i,o,s,c,l,u){let h=n+Gt,p=e.firstCreatePass?Ok(h,e,t,r,i,o,s,c,l):e.data[h];wa(p,!1);let y=Vk(e,t,p,n);Cg()&&Gg(e,t,y,p),Ta(y,t);let m=DT(y,t,y,p);return t[h]=m,jg(t,m),Ek(m,p,t),_g(p)&&Bg(e,t,p),l!=null&&fT(t,p,u),p}function yi(t,e,n,r,i,o,s,c){let l=we(),u=Nt(),h=bo(u.consts,o);return tg(l,u,t,e,n,r,i,h,s,c),yi}var Vk=Fk;function Fk(t,e,n,r){return Sg(!0),e[Ye].createComment("")}var jT=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var BT=new $("");var Lk=(()=>{class t{static \u0275prov=q({token:t,providedIn:"root",factory:()=>new ng})}return t})(),ng=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function ko(t){return!!t&&typeof t.then=="function"}function Uk(t){return!!t&&typeof t.subscribe=="function"}var jk=new $("");var $T=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=P(jk,{optional:!0})??[];injector=P(bt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Tt(this.injector,i);if(ko(o))n.push(o);else if(Uk(o)){let s=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Xg=new $("");function Bk(){zf(()=>{throw new B(600,!1)})}function $k(t){return t.isBoundToModule}var Hk=10;var li=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(hx);afterRenderManager=P(Cx);zonelessEnabled=P(Ag);rootEffectScheduler=P(Lk);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ue;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=P(pi).hasPendingTasks.pipe(ie(n=>!n));constructor(){P(Au,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=P(It);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=bt.NULL){Ce(10);let o=n instanceof NT;if(!this._injector.get($T).done){let m="";throw new B(405,m)}let c;o?c=n:c=this._injector.get(Pu).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=$k(c)?void 0:this._injector.get(ya),u=r||c.selector,h=c.create(i,[],u,l),p=h.location.nativeElement,y=h.injector.get(BT,null);return y?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Wl(this.components,h),y?.unregisterApplication(p)}),this._loadComponent(h),Ce(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ce(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Yb.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new B(101,!1);let n=re(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,re(n),this.afterTick.next(),Ce(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Co,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<Hk;)Ce(14),this.synchronizeOnce(),Ce(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)qk(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Cu(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Wl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Xg,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Wl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new B(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Wl(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function qk(t,e,n,r){if(!n&&!Cu(t))return;bT(t,e,n&&!r?0:1)}function Sa(t,e,n,r){let i=we(),o=xo();if(Rr(i,o,e)){let s=Nt(),c=Tg();lP(c,i,t,e,n,r)}return Sa}function zk(t,e,n,r){return Rr(t,xo(),n)?e+Iu(n)+r:Yn}function $l(t,e){return t<<17|e<<2}function ui(t){return t>>17&32767}function Wk(t){return(t&2)==2}function Gk(t,e){return t&131071|e<<17}function rg(t){return t|2}function Do(t){return(t&131068)>>2}function wp(t,e){return t&-131069|e<<2}function Kk(t){return(t&1)===1}function ig(t){return t|1}function Qk(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=ui(s),l=Do(s);t[r]=n;let u=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Ea(p,h)>0)&&(u=!0)}else h=n;if(i)if(l!==0){let y=ui(t[c+1]);t[r+1]=$l(y,c),y!==0&&(t[y+1]=wp(t[y+1],r)),t[c+1]=Gk(t[c+1],r)}else t[r+1]=$l(c,0),c!==0&&(t[c+1]=wp(t[c+1],r)),c=r;else t[r+1]=$l(l,0),c===0?c=r:t[l+1]=wp(t[l+1],r),l=r;u&&(t[r+1]=rg(t[r+1])),Ew(t,h,r,!0),Ew(t,h,r,!1),Yk(e,h,t,r,o),s=$l(c,l),o?e.classBindings=s:e.styleBindings=s}function Yk(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ea(o,e)>=0&&(n[r+1]=ig(n[r+1]))}function Ew(t,e,n,r){let i=t[n+1],o=e===null,s=r?ui(i):Do(i),c=!1;for(;s!==0&&(c===!1||o);){let l=t[s],u=t[s+1];Jk(l,e)&&(c=!0,t[s+1]=r?ig(u):rg(u)),s=r?ui(u):Do(u)}c&&(t[n+1]=r?rg(i):ig(i))}function Jk(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ea(t,e)>=0:!1}function In(t,e,n){let r=we(),i=xo();if(Rr(r,i,e)){let o=Nt(),s=Tg();pT(o,s,r,t,e,r[Ye],n,!1)}return In}function Iw(t,e,n,r,i){$g(e,t,n,i?"class":"style",r)}function Ou(t,e){return Zk(t,e,null,!0),Ou}function Zk(t,e,n,r){let i=we(),o=Nt(),s=kN(2);if(o.firstUpdatePass&&eO(o,t,s,r),e!==Yn&&Rr(i,s,e)){let c=o.data[fi()];oO(o,c,i,i[Ye],t,i[s+1]=sO(e,n),r,s)}}function Xk(t,e){return e>=t.expandoStartIndex}function eO(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[fi()],s=Xk(t,n);aO(o,r)&&e===null&&!s&&(e=!1),e=tO(i,o,e,r),Qk(i,o,e,n,s,r)}}function tO(t,e,n,r){let i=LN(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=bp(null,t,e,n,r),n=va(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=bp(i,t,e,n,r),o===null){let l=nO(t,e,r);l!==void 0&&Array.isArray(l)&&(l=bp(null,t,e,l[1],r),l=va(l,e.attrs,r),rO(t,e,r,l))}else o=iO(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function nO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Do(r)!==0)return t[ui(r)]}function rO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ui(i)]=r}function iO(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=va(r,s,n)}return va(r,e.attrs,n)}function bp(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=va(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function va(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),nN(t,s,n?!0:e[++o]))}return t===void 0?null:t}function oO(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let l=t.data,u=l[c+1],h=Kk(u)?ww(l,e,n,i,Do(u),s):void 0;if(!mu(h)){mu(o)||Wk(u)&&(o=ww(l,null,n,i,c,s));let p=rb(fi(),n);RP(r,s,p,i,o)}}function ww(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let l=t[i],u=Array.isArray(l),h=u?l[1]:l,p=h===null,y=n[i+1];y===Yn&&(y=p?zt:void 0);let m=p?hp(y,r):h===r?y:void 0;if(u&&!mu(m)&&(m=hp(l,r)),mu(m)&&(c=m,s))return c;let C=t[i+1];i=s?ui(C):Do(C)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(c=hp(l,r))}return c}function mu(t){return t!==void 0}function sO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Mt(Og(t)))),t}function aO(t,e){return(t.flags&(e?8:16))!==0}var og=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Tp(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function cO(t,e,n){let r,i,o=0,s=t.length-1,c=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let u=t.at(o),h=e[o],p=Tp(o,u,o,h,n);if(p!==0){p<0&&t.updateValue(o,h),o++;continue}let y=t.at(s),m=e[l],C=Tp(s,y,l,m,n);if(C!==0){C<0&&t.updateValue(s,m),s--,l--;continue}let M=n(o,u),R=n(s,y),U=n(o,h);if(Object.is(U,R)){let K=n(l,m);Object.is(K,M)?(t.swap(o,s),t.updateValue(s,m),l--,s--):t.move(s,o),t.updateValue(o,h),o++;continue}if(r??=new yu,i??=Tw(t,o,s,n),sg(t,r,o,U))t.updateValue(o,h),o++,s++;else if(i.has(U))r.set(M,t.detach(o)),s--;else{let K=t.create(o,e[o]);t.attach(o,K),o++,s++}}for(;o<=l;)bw(t,r,n,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),u=l.next();for(;!u.done&&o<=s;){let h=t.at(o),p=u.value,y=Tp(o,h,o,p,n);if(y!==0)y<0&&t.updateValue(o,p),o++,u=l.next();else{r??=new yu,i??=Tw(t,o,s,n);let m=n(o,p);if(sg(t,r,o,m))t.updateValue(o,p),o++,s++,u=l.next();else if(!i.has(m))t.attach(o,t.create(o,p)),o++,s++,u=l.next();else{let C=n(o,h);r.set(C,t.detach(o)),s--}}}for(;!u.done;)bw(t,r,n,t.length,u.value),u=l.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(l=>{t.destroy(l)})}function sg(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function bw(t,e,n,r,i){if(sg(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function Tw(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var yu=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function Oo(t,e){Ca("NgControlFlow");let n=we(),r=xo(),i=n[r]!==Yn?n[r]:-1,o=i!==-1?vu(n,Gt+i):void 0,s=0;if(Rr(n,r,t)){let c=re(null);try{if(o!==void 0&&RT(o,s),t!==-1){let l=Gt+t,u=vu(n,l),h=ug(n[ue],l),p=ma(u,h.tView.ssrId),y=qg(n,h,e,{dehydratedView:p});xu(u,y,s,pa(h,p))}}finally{re(c)}}else if(o!==void 0){let c=AT(o,s);c!==void 0&&(c[Qe]=e)}}var ag=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Et}};var cg=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Da(t,e,n,r,i,o,s,c,l,u,h,p,y){Ca("NgControlFlow");let m=we(),C=Nt(),M=l!==void 0,R=we(),U=c?s.bind(R[an][Qe]):s,K=new cg(M,U);R[Gt+t]=K,tg(m,C,t+1,e,n,r,i,bo(C.consts,o)),M&&tg(m,C,t+2,l,u,h,p,bo(C.consts,y))}var lg=class extends og{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Et}at(e){return this.getLView(e)[Qe].$implicit}attach(e,n){let r=n[da];this.needsIndexUpdate||=e!==this.length,xu(this.lContainer,n,e,pa(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,lO(this.lContainer,e)}create(e,n){let r=ma(this.lContainer,this.templateTNode.tView.ssrId),i=qg(this.hostLView,this.templateTNode,new ag(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Mu(e[ue],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Qe].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Qe].$index=e}getLView(e){return uO(this.lContainer,e)}};function Aa(t){let e=re(null),n=fi();try{let r=we(),i=r[ue],o=r[n],s=n+1,c=vu(r,s);if(o.liveCollection===void 0){let u=ug(i,s);o.liveCollection=new lg(c,r,u)}else o.liveCollection.reset();let l=o.liveCollection;if(cO(l,t,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let u=xo(),h=l.length===0;if(Rr(r,u,h)){let p=n+2,y=vu(r,p);if(h){let m=ug(i,p),C=ma(y,m.tView.ssrId),M=qg(r,m,void 0,{dehydratedView:C});xu(y,M,0,pa(m,C))}else RT(y,0)}}}finally{re(e)}}function vu(t,e){return t[e]}function lO(t,e){return ga(t,e)}function uO(t,e){return AT(t,e)}function ug(t,e){return Eg(t,e)}function N(t,e,n,r){let i=we(),o=Nt(),s=Gt+t,c=i[Ye],l=o.firstCreatePass?kT(s,o,i,e,gT,lb(),n,r):o.data[s],u=dO(o,i,l,c,e,t);i[s]=u;let h=_g(l);return wa(l,!0),cT(c,u,l),!mT(l)&&Cg()&&Gg(o,i,u,l),(CN()===0||h)&&Ta(u,i),SN(),h&&(Bg(o,i,l),Xb(o,l,i)),r!==null&&fT(i,l),N}function x(){let t=Kt();db()?xN():(t=t.parent,wa(t,!1));let e=t;RN(e)&&MN(),DN();let n=Nt();return n.firstCreatePass&&OT(n,e),e.classesWithoutHost!=null&&qN(e)&&Iw(n,e,we(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&zN(e)&&Iw(n,e,we(),e.stylesWithoutHost,!1),x}function wn(t,e,n,r){return N(t,e,n,r),x(),wn}var dO=(t,e,n,r,i,o)=>(Sg(!0),sT(r,i,BN()));function vi(){return we()}var _u="en-US";var hO=_u;function fO(t){typeof t=="string"&&(hO=t.toLowerCase().replace(/_/g,"-"))}function Cw(t,e,n){return function r(i){if(i===Function)return n;let o=No(t)?vn(t.index,e):e;Qg(o,5);let s=e[Qe],c=Sw(e,s,n,i),l=r.__ngNextListenerFn__;for(;l;)c=Sw(e,s,l,i)&&c,l=l.__ngNextListenerFn__;return c}}function Sw(t,e,n,r){let i=re(null);try{return Ce(6,e,n),n(r)!==!1}catch(o){return pO(t,o),!1}finally{Ce(7,e,n),re(i)}}function pO(t,e){let n=t[Eo],r=n?n.get(qn,null):null;r&&r.handleError(e)}function Dw(t,e,n,r,i,o){let s=e[n],c=e[ue],u=c.data[n].outputs[r],h=s[u],p=c.firstCreatePass?cb(c):null,y=ab(e),m=h.subscribe(o),C=y.length;y.push(o,m),p&&p.push(i,t.index,C,-(C+1))}var gO=(t,e,n)=>{};function Re(t,e,n,r){let i=we(),o=Nt(),s=Kt();return HT(o,i,i[Ye],s,t,e,r),Re}function mO(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[Xl],l=i[o+2];return c.length>l?c[l]:null}typeof s=="string"&&(o+=2)}return null}function HT(t,e,n,r,i,o,s){let c=_g(r),u=t.firstCreatePass?cb(t):null,h=ab(e),p=!0;if(r.type&3||s){let y=En(r,e),m=s?s(y):y,C=h.length,M=s?U=>s(yn(U[r.index])):r.index,R=null;if(!s&&c&&(R=mO(t,e,i,r.index)),R!==null){let U=R.__ngLastListenerFn__||R;U.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,p=!1}else{o=Cw(r,e,o),gO(m,i,o);let U=n.listen(m,i,o);h.push(o,U),u&&u.push(i,M,C,C+1)}}else o=Cw(r,e,o);if(p){let y=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let C=0;C<m.length;C+=2){let M=m[C],R=m[C+1];Dw(r,e,M,R,i,o)}if(y&&y.length)for(let C of y)Dw(r,e,C,i,i,o)}}function Qt(t=1){return jN(t)}function V(t,e=""){let n=we(),r=Nt(),i=t+Gt,o=r.firstCreatePass?Yg(r,i,1,e,null):r.data[i],s=yO(r,n,o,e,t);n[i]=s,Cg()&&Gg(r,n,s,o),wa(o,!1)}var yO=(t,e,n,r,i)=>(Sg(!0),Gx(e[Ye],r));function $e(t){return _i("",t,""),$e}function _i(t,e,n){let r=we(),i=zk(r,t,e,n);return i!==Yn&&vO(r,fi(),i),_i}function vO(t,e,n){let r=rb(e,t);Kx(t[Ye],r,n)}function Ve(t,e,n){Bb(e)&&(e=e());let r=we(),i=xo();if(Rr(r,i,e)){let o=Nt(),s=Tg();pT(o,s,r,t,e,r[Ye],n,!1)}return Ve}function He(t,e){let n=Bb(t);return n&&t.set(e),n}function Fe(t,e){let n=we(),r=Nt(),i=Kt();return HT(r,n,n[Ye],i,t,e),Fe}function _O(t,e,n){let r=Nt();if(r.firstCreatePass){let i=mn(t);dg(n,r.data,r.blueprint,i,!0),dg(e,r.data,r.blueprint,i,!1)}}function dg(t,e,n,r,i){if(t=_t(t),Array.isArray(t))for(let o=0;o<t.length;o++)dg(t[o],e,n,r,i);else{let o=Nt(),s=we(),c=Kt(),l=_o(t)?t:_t(t.provide),u=Gw(t),h=c.providerIndexes&1048575,p=c.directiveStart,y=c.providerIndexes>>20;if(_o(t)||!t.multi){let m=new ci(u,i,Y),C=Sp(l,e,i?h:h+y,p);C===-1?(Lp(su(c,s),o,l),Cp(o,t,e.length),e.push(l),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(m),s.push(m)):(n[C]=m,s[C]=m)}else{let m=Sp(l,e,h+y,p),C=Sp(l,e,h,h+y),M=m>=0&&n[m],R=C>=0&&n[C];if(i&&!R||!i&&!M){Lp(su(c,s),o,l);let U=wO(i?IO:EO,n.length,i,r,u);!i&&R&&(n[C].providerFactory=U),Cp(o,t,e.length,0),e.push(l),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(U),s.push(U)}else{let U=qT(n[i?C:m],u,!i&&r);Cp(o,t,m>-1?m:C,U)}!i&&r&&R&&n[C].componentProviders++}}}function Cp(t,e,n,r){let i=_o(e),o=uN(e);if(i||o){let l=(o?_t(e.useClass):e).prototype.ngOnDestroy;if(l){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=u.indexOf(n);h===-1?u.push(n,[r,l]):u[h+1].push(r,l)}else u.push(n,l)}}}function qT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Sp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function EO(t,e,n,r){return hg(this.multi,[])}function IO(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=au(n,n[ue],this.providerFactory.index,r);o=c.slice(0,s),hg(i,o);for(let l=s;l<c.length;l++)o.push(c[l])}else o=[],hg(i,o);return o}function hg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function wO(t,e,n,r,i){let o=new ci(t,n,Y);return o.multi=[],o.index=e,o.componentProviders=0,qT(o,i,r&&!n),o}function Ei(t,e=[]){return n=>{n.providersResolver=(r,i)=>_O(r,i?i(t):t,e)}}function Vu(t,e,n){let r=fb()+t,i=we();return i[r]===Yn?UT(i,r,n?e.call(n):e()):kk(i,r)}function em(t,e,n,r){return TO(we(),fb(),t,e,n,r)}function bO(t,e){let n=t[e];return n===Yn?void 0:n}function TO(t,e,n,r,i,o){let s=e+n;return Rr(t,s,i)?UT(t,s+1,o?r.call(o,i):r(i)):bO(t,s+1)}var Ao=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},zT=new Ao("19.2.6"),fg=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},tm=(()=>{class t{compileModuleSync(n){return new eg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Hw(n),o=iT(i.declarations).reduce((s,c)=>{let l=ii(c);return l&&s.push(new So(l)),s},[]);return new fg(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var CO=(()=>{class t{zone=P(Se);changeDetectionScheduler=P(To);applicationRef=P(li);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),SO=new $("",{factory:()=>!1});function WT({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Se(ce(F({},KT()),{scheduleInRootZone:n})),[{provide:Se,useFactory:t},{provide:la,multi:!0,useFactory:()=>{let r=P(CO,{optional:!0});return()=>r.initialize()}},{provide:la,multi:!0,useFactory:()=>{let r=P(DO);return()=>{r.initialize()}}},e===!0?{provide:Vb,useValue:!0}:[],{provide:Fb,useValue:n??Ob}]}function GT(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=WT({ngZoneFactory:()=>{let i=KT(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Ca("NgZone_CoalesceEvent"),new Se(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return di([{provide:SO,useValue:!0},{provide:Ag,useValue:!1},r])}function KT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var DO=(()=>{class t{subscription=new Pe;initialized=!1;zone=P(Se);pendingTasks=P(pi);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Se.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var AO=(()=>{class t{appRef=P(li);taskService=P(pi);ngZone=P(Se);zonelessEnabled=P(Ag);tracing=P(Au,{optional:!0});disableScheduling=P(Vb,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Pe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(lu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(Fb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Hp||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?iw:Lb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(lu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,iw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function RO(){return typeof $localize<"u"&&$localize.locale||_u}var QT=new $("",{providedIn:"root",factory:()=>P(QT,oe.Optional|oe.SkipSelf)||RO()});var pg=new $(""),MO=new $("");function ia(t){return!t.moduleRef}function NO(t){let e=ia(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Se);return n.run(()=>{ia(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(qn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),ia(t)){let o=()=>e.destroy(),s=t.platformInjector.get(pg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(pg);s.add(o),t.moduleRef.onDestroy(()=>{Wl(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return PO(r,n,()=>{let o=e.get($T);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(QT,_u);if(fO(s||_u),!e.get(MO,!0))return ia(t)?e.get(li):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ia(t)){let l=e.get(li);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return xO(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function xO(t,e){let n=t.injector.get(li);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new B(-403,!1);e.push(t)}function PO(t,e,n){try{let r=n();return ko(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Gl=null;function kO(t=[],e){return bt.create({name:e,providers:[{provide:bu,useValue:"platform"},{provide:pg,useValue:new Set([()=>Gl=null])},...t]})}function OO(t=[]){if(Gl)return Gl;let e=kO(t);return Gl=e,Bk(),VO(e),e}function VO(t){let e=t.get(Pg,null);Tt(t,()=>{e?.forEach(n=>n())})}function nm(){return!1}var Ra=(()=>{class t{static __NG_ELEMENT_ID__=FO}return t})();function FO(t){return LO(Kt(),we(),(t&16)===16)}function LO(t,e,n){if(No(t)&&!n){let r=vn(t.index,e);return new fu(r,r)}else if(t.type&175){let r=e[an];return new fu(r,e)}return null}function YT(t){Ce(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=OO(r),o=[WT({}),{provide:To,useExisting:AO},...n||[]],s=new gu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return NO({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Ce(9)}}function Ii(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Jn(t){return Kf(t)}function Mr(t,e){return qf(t,e?.equal)}var Aw=class{[$t];constructor(e){this[$t]=e}destroy(){this[$t].destroy()}};function JT(t){let e=ii(t);if(!e)return null;let n=new So(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var ht=new $("");var eC=null;function Yt(){return eC}function rm(t){eC??=t}var Ma=class{},im=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>P(tC),providedIn:"platform"})}return t})();var tC=(()=>{class t extends im{_location;_history;_doc=P(ht);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yt().getBaseHref(this._doc)}onPopState(n){let r=Yt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Yt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function nC(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function ZT(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Nr(t){return t&&t[0]!=="?"?`?${t}`:t}var Vo=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>P(iC),providedIn:"root"})}return t})(),rC=new $(""),iC=(()=>{class t extends Vo{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(ht).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return nC(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Nr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Nr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Nr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(se(im),se(rC,8))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Fo=(()=>{class t{_subject=new Ue;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=BO(ZT(XT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Nr(r))}normalize(n){return t.stripTrailingSlash(jO(this._basePath,XT(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Nr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Nr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Nr;static joinWithSlash=nC;static stripTrailingSlash=ZT;static \u0275fac=function(r){return new(r||t)(se(Vo))};static \u0275prov=q({token:t,factory:()=>UO(),providedIn:"root"})}return t})();function UO(){return new Fo(se(Vo))}function jO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function XT(t){return t.replace(/\/index.html$/,"")}function BO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function om(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var sm="browser",oC="server";function Fu(t){return t===oC}var Na=class{};var ju=new $(""),um=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(se(ju),se(Se))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),xa=class{_doc;constructor(e){this._doc=e}manager},Lu="ng-app-id";function sC(t){for(let e of t)e.remove()}function aC(t,e){let n=e.createElement("style");return n.textContent=t,n}function HO(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Lu}="${e}"],link[${Lu}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Lu),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function cm(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var dm=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Fu(o),HO(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,aC);r?.forEach(i=>this.addUsage(i,this.external,cm))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(sC(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])sC(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,aC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,cm(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Lu,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(se(ht),se(xg),se(kg,8),se(gi))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),am={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},hm=/%COMP%/g;var lC="%COMP%",qO=`_nghost-${lC}`,zO=`_ngcontent-${lC}`,WO=!0,GO=new $("",{providedIn:"root",factory:()=>WO});function KO(t){return zO.replace(hm,t)}function QO(t){return qO.replace(hm,t)}function uC(t,e){return e.map(n=>n.replace(hm,t))}var fm=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,c,l,u=null,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=l,this.nonce=u,this.tracingService=h,this.platformIsServer=Fu(c),this.defaultRenderer=new Pa(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===_n.ShadowDom&&(r=ce(F({},r),{encapsulation:_n.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Uu?i.applyToHost(n):i instanceof ka&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case _n.Emulated:o=new Uu(l,u,r,this.appId,h,s,c,p,y);break;case _n.ShadowDom:return new lm(l,u,n,r,s,c,this.nonce,p,y);default:o=new ka(l,u,r,h,s,c,p,y);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(se(um),se(dm),se(xg),se(GO),se(ht),se(gi),se(Se),se(kg),se(Au,8))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),Pa=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(am[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(cC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(cC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=am[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=am[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Tr.DashCase|Tr.Important)?e.style.setProperty(n,r,i&Tr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Tr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Yt().getGlobalEventTarget(this.doc,e),!e))throw new B(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function cC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var lm=class extends Pa{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,c,l,u){super(e,o,s,l,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=uC(i.id,h);for(let y of h){let m=document.createElement("style");c&&m.setAttribute("nonce",c),m.textContent=y,this.shadowRoot.appendChild(m)}let p=i.getExternalStyles?.();if(p)for(let y of p){let m=cm(y,o);c&&m.setAttribute("nonce",c),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ka=class extends Pa{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,c,l,u){super(e,o,s,c,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=u?uC(u,h):h,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Uu=class extends ka{contentAttr;hostAttr;constructor(e,n,r,i,o,s,c,l,u){let h=i+"-"+r.id;super(e,n,r,o,s,c,l,u,h),this.contentAttr=KO(h),this.hostAttr=QO(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Bu=class t extends Ma{supportsDOMEvents=!0;static makeCurrent(){rm(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=YO();return n==null?null:JO(n)}resetBaseElement(){Oa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return om(document.cookie,e)}},Oa=null;function YO(){return Oa=Oa||document.querySelector("base"),Oa?Oa.getAttribute("href"):null}function JO(t){return new URL(t,document.baseURI).pathname}var ZO=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),hC=(()=>{class t extends xa{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(se(ht))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),dC=["alt","control","meta","shift"],XO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},e1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},fC=(()=>{class t extends xa{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),c=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yt().onAndCancel(n,s.domEventName,c,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),dC.forEach(u=>{let h=r.indexOf(u);h>-1&&(r.splice(h,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=XO[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),dC.forEach(s=>{if(s!==i){let c=e1[s];c(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(se(ht))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})();function pm(t,e){return YT(F({rootComponent:t},t1(e)))}function t1(t){return{appProviders:[...s1,...t?.providers??[]],platformProviders:o1}}function n1(){Bu.makeCurrent()}function r1(){return new qn}function i1(){return Kb(document),document}var o1=[{provide:gi,useValue:sm},{provide:Pg,useValue:n1,multi:!0},{provide:ht,useFactory:i1}];var s1=[{provide:bu,useValue:"root"},{provide:qn,useFactory:r1},{provide:ju,useClass:hC,multi:!0,deps:[ht]},{provide:ju,useClass:fC,multi:!0,deps:[ht]},fm,dm,um,{provide:Co,useExisting:fm},{provide:Na,useClass:ZO},[]];var pC=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(se(ht))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var te="primary",Qa=Symbol("RouteTitle"),_m=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ti(t){return new _m(t)}function wC(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=t[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function c1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!bn(t[n],e[n]))return!1;return!0}function bn(t,e){let n=t?Em(t):void 0,r=e?Em(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!bC(t[i],e[i]))return!1;return!0}function Em(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function bC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function TC(t){return t.length>0?t[t.length-1]:null}function kr(t){return cp(t)?t:ko(t)?Ne(Promise.resolve(t)):Q(t)}var l1={exact:SC,subset:DC},CC={exact:u1,subset:d1,ignored:()=>!0};function gC(t,e,n){return l1[n.paths](t.root,e.root,n.matrixParams)&&CC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function u1(t,e){return bn(t,e)}function SC(t,e,n){if(!wi(t.segments,e.segments)||!qu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!SC(t.children[r],e.children[r],n))return!1;return!0}function d1(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>bC(t[n],e[n]))}function DC(t,e,n){return AC(t,e,e.segments,n)}function AC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!wi(i,n)||e.hasChildren()||!qu(i,n,r))}else if(t.segments.length===n.length){if(!wi(t.segments,n)||!qu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!DC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!wi(t.segments,i)||!qu(t.segments,i,r)||!t.children[te]?!1:AC(t.children[te],e,o,r)}}function qu(t,e,n){return e.every((r,i)=>CC[n](t[i].parameters,r.parameters))}var Cn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ve([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ti(this.queryParams),this._queryParamMap}toString(){return p1.serialize(this)}},ve=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zu(this)}},xr=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ti(this.parameters),this._parameterMap}toString(){return MC(this)}};function h1(t,e){return wi(t,e)&&t.every((n,r)=>bn(n.parameters,e[r].parameters))}function wi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function f1(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===te&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==te&&(n=n.concat(e(i,r)))}),n}var Ya=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>new Ci,providedIn:"root"})}return t})(),Ci=class{parse(e){let n=new wm(e);return new Cn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Va(e.root,!0)}`,r=y1(e.queryParams),i=typeof e.fragment=="string"?`#${g1(e.fragment)}`:"";return`${n}${r}${i}`}},p1=new Ci;function zu(t){return t.segments.map(e=>MC(e)).join("/")}function Va(t,e){if(!t.hasChildren())return zu(t);if(e){let n=t.children[te]?Va(t.children[te],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==te&&r.push(`${i}:${Va(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=f1(t,(r,i)=>i===te?[Va(t.children[te],!1)]:[`${i}:${Va(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[te]!=null?`${zu(t)}/${n[0]}`:`${zu(t)}/(${n.join("//")})`}}function RC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $u(t){return RC(t).replace(/%3B/gi,";")}function g1(t){return encodeURI(t)}function Im(t){return RC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wu(t){return decodeURIComponent(t)}function mC(t){return Wu(t.replace(/\+/g,"%20"))}function MC(t){return`${Im(t.path)}${m1(t.parameters)}`}function m1(t){return Object.entries(t).map(([e,n])=>`;${Im(e)}=${Im(n)}`).join("")}function y1(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${$u(n)}=${$u(i)}`).join("&"):`${$u(n)}=${$u(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var v1=/^[^\/()?;#]+/;function gm(t){let e=t.match(v1);return e?e[0]:""}var _1=/^[^\/()?;=#]+/;function E1(t){let e=t.match(_1);return e?e[0]:""}var I1=/^[^=?&#]+/;function w1(t){let e=t.match(I1);return e?e[0]:""}var b1=/^[^&#]+/;function T1(t){let e=t.match(b1);return e?e[0]:""}var wm=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[te]=new ve(e,n)),r}parseSegment(){let e=gm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new xr(Wu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=E1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=gm(this.remaining);i&&(r=i,this.capture(r))}e[Wu(n)]=Wu(r)}parseQueryParam(e){let n=w1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=T1(this.remaining);s&&(r=s,this.capture(r))}let i=mC(n),o=mC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=gm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=te);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[te]:new ve([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function NC(t){return t.segments.length>0?new ve([],{[te]:t}):t}function xC(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=xC(i);if(r===te&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ve(t.segments,e);return C1(n)}function C1(t){if(t.numberOfChildren===1&&t.children[te]){let e=t.children[te];return new ve(t.segments.concat(e.segments),e.children)}return t}function Pr(t){return t instanceof Cn}function PC(t,e,n=null,r=null){let i=kC(t);return OC(i,e,n,r)}function kC(t){let e;function n(o){let s={};for(let l of o.children){let u=n(l);s[l.outlet]=u}let c=new ve(o.url,s);return o===t&&(e=c),c}let r=n(t.root),i=NC(r);return e??i}function OC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return mm(i,i,i,n,r);let o=S1(e);if(o.toRoot())return mm(i,i,new ve([],{}),n,r);let s=D1(o,i,t),c=s.processChildren?La(s.segmentGroup,s.index,o.commands):FC(s.segmentGroup,s.index,o.commands);return mm(i,s.segmentGroup,c,n,r)}function Ku(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ja(t){return typeof t=="object"&&t!=null&&t.outlets}function mm(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let s;t===e?s=n:s=VC(t,e,n);let c=NC(xC(s));return new Cn(c,o,i)}function VC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=VC(o,e,n)}),new ve(t.segments,r)}var Qu=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ku(r[0]))throw new B(4003,!1);let i=r.find(ja);if(i&&i!==TC(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function S1(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Qu(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([l,u])=>{c[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new Qu(n,e,r)}var jo=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function D1(t,e,n){if(t.isAbsolute)return new jo(e,!0,0);if(!n)return new jo(e,!1,NaN);if(n.parent===null)return new jo(n,!0,0);let r=Ku(t.commands[0])?0:1,i=n.segments.length-1+r;return A1(n,i,t.numberOfDoubleDots)}function A1(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new jo(r,!1,i-o)}function R1(t){return ja(t[0])?t[0].outlets:{[te]:t}}function FC(t,e,n){if(t??=new ve([],{}),t.segments.length===0&&t.hasChildren())return La(t,e,n);let r=M1(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ve(t.segments.slice(0,r.pathIndex),{});return o.children[te]=new ve(t.segments.slice(r.pathIndex),t.children),La(o,0,i)}else return r.match&&i.length===0?new ve(t.segments,{}):r.match&&!t.hasChildren()?bm(t,e,n):r.match?La(t,0,i):bm(t,e,n)}function La(t,e,n){if(n.length===0)return new ve(t.segments,{});{let r=R1(n),i={};if(Object.keys(r).some(o=>o!==te)&&t.children[te]&&t.numberOfChildren===1&&t.children[te].segments.length===0){let o=La(t.children[te],e,n);return new ve(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=FC(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ve(t.segments,i)}}function M1(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],c=n[r];if(ja(c))break;let l=`${c}`,u=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!vC(l,u,s))return o;r+=2}else{if(!vC(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function bm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(ja(o)){let l=N1(o.outlets);return new ve(r,l)}if(i===0&&Ku(n[0])){let l=t.segments[e];r.push(new xr(l.path,yC(n[0]))),i++;continue}let s=ja(o)?o.outlets[te]:`${o}`,c=i<n.length-1?n[i+1]:null;s&&c&&Ku(c)?(r.push(new xr(s,yC(c))),i+=2):(r.push(new xr(s,{})),i++)}return new ve(r,{})}function N1(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=bm(new ve([],{}),0,r))}),e}function yC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function vC(t,e,n){return t==n.path&&bn(e,n.parameters)}var Gu="imperative",et=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(et||{}),Ft=class{id;url;constructor(e,n){this.id=e,this.url=n}},Si=class extends Ft{type=et.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Jt=class extends Ft{urlAfterRedirects;type=et.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(xt||{}),Ba=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ba||{}),Tn=class extends Ft{reason;code;type=et.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Zn=class extends Ft{reason;code;type=et.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},$o=class extends Ft{error;target;type=et.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},$a=class extends Ft{urlAfterRedirects;state;type=et.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yu=class extends Ft{urlAfterRedirects;state;type=et.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ju=class extends Ft{urlAfterRedirects;state;shouldActivate;type=et.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Zu=class extends Ft{urlAfterRedirects;state;type=et.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xu=class extends Ft{urlAfterRedirects;state;type=et.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ed=class{route;type=et.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},td=class{route;type=et.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},nd=class{snapshot;type=et.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rd=class{snapshot;type=et.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},id=class{snapshot;type=et.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},od=class{snapshot;type=et.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ha=class{},Ho=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function x1(t,e){return t.providers&&!t._injector&&(t._injector=ku(t.providers,e,`Route: ${t.path}`)),t._injector??e}function un(t){return t.outlet||te}function P1(t,e){let n=t.filter(r=>un(r)===e);return n.push(...t.filter(r=>un(r)!==e)),n}function Ja(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var sd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ja(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Wo(this.rootInjector)}},Wo=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new sd(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(se(It))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ad=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Tm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Tm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Cm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Cm(e,this._root).map(n=>n.value)}};function Tm(t,e){if(t===e.value)return e;for(let n of e.children){let r=Tm(t,n);if(r)return r}return null}function Cm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Cm(t,n);if(r.length)return r.unshift(e),r}return[]}var Vt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Uo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var qa=class extends ad{snapshot;constructor(e,n){super(e),this.snapshot=n,Pm(this,e)}toString(){return this.snapshot.toString()}};function LC(t){let e=k1(t),n=new it([new xr("",{})]),r=new it({}),i=new it({}),o=new it({}),s=new it(""),c=new st(n,r,o,s,i,te,t,e.root);return c.snapshot=e.root,new qa(new Vt(c,[]),e)}function k1(t){let e={},n={},r={},i="",o=new bi([],e,r,i,n,te,t,null,{});return new za("",new Vt(o,[]))}var st=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,c,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ie(u=>u[Qa]))??Q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>Ti(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>Ti(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function cd(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&jC(i)&&(r.resolve[Qa]=i.title),r}var bi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Qa]}constructor(e,n,r,i,o,s,c,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ti(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ti(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},za=class extends ad{url;constructor(e,n){super(n),this.url=e,Pm(this,n)}toString(){return UC(this._root)}};function Pm(t,e){e.value._routerState=t,e.children.forEach(n=>Pm(t,n))}function UC(t){let e=t.children.length>0?` { ${t.children.map(UC).join(", ")} } `:"";return`${t.value}${e}`}function ym(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,bn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),bn(e.params,n.params)||t.paramsSubject.next(n.params),c1(e.url,n.url)||t.urlSubject.next(n.url),bn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Sm(t,e){let n=bn(t.params,e.params)&&h1(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Sm(t.parent,e.parent))}function jC(t){return typeof t.title=="string"||t.title===null}var BC=new $(""),Za=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=te;activateEvents=new Ke;deactivateEvents=new Ke;attachEvents=new Ke;detachEvents=new Ke;routerOutletData=jb(void 0);parentContexts=P(Wo);location=P(Jg);changeDetector=P(Ra);inputBinder=P(Xa,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Dm(n,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Je({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[hi]})}return t})(),Dm=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===st?this.route:e===Wo?this.childContexts:e===BC?this.outletData:this.parent.get(e,n)}},Xa=new $(""),km=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=na([r.queryParams,r.params,r.data]).pipe(Ht(([o,s,c],l)=>(c=F(F(F({},o),s),c),l===0?Q(c):Promise.resolve(c)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=JT(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:c}of s.inputs)n.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})();function O1(t,e,n){let r=Wa(t,e._root,n?n._root:void 0);return new qa(r,e)}function Wa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=V1(t,e,n);return new Vt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>Wa(t,c)),s}}let r=F1(e.value),i=e.children.map(o=>Wa(t,o));return new Vt(r,i)}}function V1(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Wa(t,r,i);return Wa(t,r)})}function F1(t){return new st(new it(t.url),new it(t.params),new it(t.queryParams),new it(t.fragment),new it(t.data),t.outlet,t.component,t)}var qo=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},$C="ngNavigationCancelingError";function ld(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Pr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=HC(!1,xt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function HC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[$C]=!0,n.cancellationCode=e,n}function L1(t){return qC(t)&&Pr(t.url)}function qC(t){return!!t&&t[$C]}var U1=(t,e,n,r)=>ie(i=>(new Am(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Am=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),ym(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Uo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Uo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Uo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Uo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new od(o.value.snapshot))}),e.children.length&&this.forwardEvent(new rd(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(ym(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),ym(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},ud=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Bo=class{component;route;constructor(e,n){this.component=e,this.route=n}};function j1(t,e,n){let r=t._root,i=e?e._root:null;return Fa(r,i,n,[r.value])}function B1(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Go(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Pw(t)?t:e.get(t):r}function Fa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Uo(e);return t.children.forEach(s=>{$1(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>Ua(c,n.getContext(s),i)),i}function $1(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=H1(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new ud(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Fa(t,e,c?c.children:null,r,i):Fa(t,e,n,r,i),l&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Bo(c.outlet.component,s))}else s&&Ua(e,c,i),i.canActivateChecks.push(new ud(r)),o.component?Fa(t,null,c?c.children:null,r,i):Fa(t,null,n,r,i);return i}function H1(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!wi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!wi(t.url,e.url)||!bn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sm(t,e)||!bn(t.queryParams,e.queryParams);case"paramsChange":default:return!Sm(t,e)}}function Ua(t,e,n){let r=Uo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ua(s,e.children.getContext(o),n):Ua(s,null,n):Ua(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Bo(e.outlet.component,i)):n.canDeactivateChecks.push(new Bo(null,i)):n.canDeactivateChecks.push(new Bo(null,i))}function ec(t){return typeof t=="function"}function q1(t){return typeof t=="boolean"}function z1(t){return t&&ec(t.canLoad)}function W1(t){return t&&ec(t.canActivate)}function G1(t){return t&&ec(t.canActivateChild)}function K1(t){return t&&ec(t.canDeactivate)}function Q1(t){return t&&ec(t.canMatch)}function zC(t){return t instanceof jn||t?.name==="EmptyError"}var Hu=Symbol("INITIAL_VALUE");function zo(){return Ht(t=>na(t.map(e=>e.pipe(Bn(1),Ll(Hu)))).pipe(ie(e=>{for(let n of e)if(n!==!0){if(n===Hu)return Hu;if(n===!1||Y1(n))return n}return!0}),Rt(e=>e!==Hu),Bn(1)))}function Y1(t){return Pr(t)||t instanceof qo}function J1(t,e){return Ge(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Q(ce(F({},n),{guardsResult:!0})):Z1(s,r,i,t).pipe(Ge(c=>c&&q1(c)?X1(r,o,t,e):Q(c)),ie(c=>ce(F({},n),{guardsResult:c})))})}function Z1(t,e,n,r){return Ne(t).pipe(Ge(i=>iV(i.component,i.route,n,e,r)),$n(i=>i!==!0,!0))}function X1(t,e,n,r){return Ne(e).pipe(ho(i=>uo(tV(i.route.parent,r),eV(i.route,r),rV(t,i.path,n),nV(t,i.route,n))),$n(i=>i!==!0,!0))}function eV(t,e){return t!==null&&e&&e(new id(t)),Q(!0)}function tV(t,e){return t!==null&&e&&e(new nd(t)),Q(!0)}function nV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(o=>Ol(()=>{let s=Ja(e)??n,c=Go(o,s),l=W1(c)?c.canActivate(e,t):Tt(s,()=>c(e,t));return kr(l).pipe($n())}));return Q(i).pipe(zo())}function rV(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>B1(s)).filter(s=>s!==null).map(s=>Ol(()=>{let c=s.guards.map(l=>{let u=Ja(s.node)??n,h=Go(l,u),p=G1(h)?h.canActivateChild(r,t):Tt(u,()=>h(r,t));return kr(p).pipe($n())});return Q(c).pipe(zo())}));return Q(o).pipe(zo())}function iV(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Q(!0);let s=o.map(c=>{let l=Ja(e)??i,u=Go(c,l),h=K1(u)?u.canDeactivate(t,e,n,r):Tt(l,()=>u(t,e,n,r));return kr(h).pipe($n())});return Q(s).pipe(zo())}function oV(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let o=i.map(s=>{let c=Go(s,t),l=z1(c)?c.canLoad(e,n):Tt(t,()=>c(e,n));return kr(l)});return Q(o).pipe(zo(),WC(r))}function WC(t){return ml(ot(e=>{if(typeof e!="boolean")throw ld(t,e)}),ie(e=>e===!0))}function sV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let o=i.map(s=>{let c=Go(s,t),l=Q1(c)?c.canMatch(e,n):Tt(t,()=>c(e,n));return kr(l)});return Q(o).pipe(zo(),WC(r))}var Ga=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Ka=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Lo(t){return lo(new Ga(t))}function aV(t){return lo(new B(4e3,!1))}function cV(t){return lo(HC(!1,xt.GuardRejected))}var Rm=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[te])return aV(`${e.redirectTo}`);i=i.children[te]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let c=n,{queryParams:l,fragment:u,routeConfig:h,url:p,outlet:y,params:m,data:C,title:M}=i,R=Tt(o,()=>c({params:m,data:C,queryParams:l,fragment:u,routeConfig:h,url:p,outlet:y,title:M}));if(R instanceof Cn)throw new Ka(R);n=R}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ka(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Cn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([c,l])=>{s[c]=this.createSegmentGroup(e,l,r,i)}),new ve(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Mm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lV(t,e,n,r,i){let o=GC(t,e,n);return o.matched?(r=x1(e,r),sV(r,e,n,i).pipe(ie(s=>s===!0?o:F({},Mm)))):Q(o)}function GC(t,e,n){if(e.path==="**")return uV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},Mm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||wC)(n,t,e);if(!i)return F({},Mm);let o={};Object.entries(i.posParams??{}).forEach(([c,l])=>{o[c]=l.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function uV(t){return{matched:!0,parameters:t.length>0?TC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function _C(t,e,n,r){return n.length>0&&fV(t,n,r)?{segmentGroup:new ve(e,hV(r,new ve(n,t.children))),slicedSegments:[]}:n.length===0&&pV(t,n,r)?{segmentGroup:new ve(t.segments,dV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ve(t.segments,t.children),slicedSegments:n}}function dV(t,e,n,r){let i={};for(let o of n)if(hd(t,e,o)&&!r[un(o)]){let s=new ve([],{});i[un(o)]=s}return F(F({},r),i)}function hV(t,e){let n={};n[te]=e;for(let r of t)if(r.path===""&&un(r)!==te){let i=new ve([],{});n[un(r)]=i}return n}function fV(t,e,n){return n.some(r=>hd(t,e,r)&&un(r)!==te)}function pV(t,e,n){return n.some(r=>hd(t,e,r))}function hd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function gV(t,e,n){return e.length===0&&!t.children[n]}var Nm=class{};function mV(t,e,n,r,i,o,s="emptyOnly"){return new xm(t,e,n,r,i,s,o).recognize()}var yV=31,xm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new Rm(this.urlSerializer,this.urlTree)}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=_C(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:n,rootSnapshot:r})=>{let i=new Vt(r,n),o=new za("",i),s=PC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new bi([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),te,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,te,n).pipe(ie(r=>({children:r,rootSnapshot:n})),Er(r=>{if(r instanceof Ka)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ga?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ie(s=>s instanceof Vt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ne(o).pipe(ho(s=>{let c=r.children[s],l=P1(n,s);return this.processSegmentGroup(e,l,c,s,i)}),Fl((s,c)=>(s.push(...c),s)),Ir(null),up(),Ge(s=>{if(s===null)return Lo(r);let c=KC(s);return vV(c),Q(c)}))}processSegment(e,n,r,i,o,s,c){return Ne(n).pipe(ho(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,o,s,c).pipe(Er(u=>{if(u instanceof Ga)return Q(null);throw u}))),$n(l=>!!l),Er(l=>{if(zC(l))return gV(r,i,o)?Q(new Nm):Lo(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,o,s,c,l){return un(r)!==s&&(s===te||!hd(i,o,r))?Lo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,l):Lo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,c){let{matched:l,parameters:u,consumedSegments:h,positionalParamSegments:p,remainingSegments:y}=GC(n,i,o);if(!l)return Lo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>yV&&(this.allowRedirects=!1));let m=new bi(o,u,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,EC(i),un(i),i.component??i._loadedComponent??null,i,IC(i)),C=cd(m,c,this.paramsInheritanceStrategy);m.params=Object.freeze(C.params),m.data=Object.freeze(C.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,m,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(Ge(R=>this.processSegment(e,r,n,R.concat(y),s,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let c=lV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(Ht(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ht(({routes:u})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:m}=l,C=new bi(y,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,EC(r),un(r),r.component??r._loadedComponent??null,r,IC(r)),M=cd(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(M.params),C.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:U}=_C(n,y,m,u);if(U.length===0&&R.hasChildren())return this.processChildren(h,u,R,C).pipe(ie(ne=>new Vt(C,ne)));if(u.length===0&&U.length===0)return Q(new Vt(C,[]));let K=un(r)===o;return this.processSegment(h,u,R,U,K?te:o,!0,C).pipe(ie(ne=>new Vt(C,ne instanceof Vt?[ne]:[])))}))):Lo(n)))}getChildConfig(e,n,r){return n.children?Q({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Q({routes:n._loadedRoutes,injector:n._loadedInjector}):oV(e,n,r,this.urlSerializer).pipe(Ge(i=>i?this.configLoader.loadChildren(e,n).pipe(ot(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):cV(n))):Q({routes:[],injector:e})}};function vV(t){t.sort((e,n)=>e.value.outlet===te?-1:n.value.outlet===te?1:e.value.outlet.localeCompare(n.value.outlet))}function _V(t){let e=t.value.routeConfig;return e&&e.path===""}function KC(t){let e=[],n=new Set;for(let r of t){if(!_V(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=KC(r.children);e.push(new Vt(r.value,i))}return e.filter(r=>!n.has(r))}function EC(t){return t.data||{}}function IC(t){return t.resolve||{}}function EV(t,e,n,r,i,o){return Ge(s=>mV(t,e,n,r,s.extractedUrl,i,o).pipe(ie(({state:c,tree:l})=>ce(F({},s),{targetSnapshot:c,urlAfterRedirects:l}))))}function IV(t,e){return Ge(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Q(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of QC(l))s.add(u);let c=0;return Ne(s).pipe(ho(l=>o.has(l)?wV(l,r,t,e):(l.data=cd(l,l.parent,t).resolve,Q(void 0))),ot(()=>c++),fo(1),Ge(l=>c===s.size?Q(n):Dt))})}function QC(t){let e=t.children.map(n=>QC(n)).flat();return[t,...e]}function wV(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!jC(i)&&(o[Qa]=i.title),bV(o,t,e,r).pipe(ie(s=>(t._resolvedData=s,t.data=cd(t,t.parent,n).resolve,null)))}function bV(t,e,n,r){let i=Em(t);if(i.length===0)return Q({});let o={};return Ne(i).pipe(Ge(s=>TV(t[s],e,n,r).pipe($n(),ot(c=>{if(c instanceof qo)throw ld(new Ci,c);o[s]=c}))),fo(1),ie(()=>o),Er(s=>zC(s)?Dt:lo(s)))}function TV(t,e,n,r){let i=Ja(e)??r,o=Go(t,i),s=o.resolve?o.resolve(e,n):Tt(i,()=>o(e,n));return kr(s)}function vm(t){return Ht(e=>{let n=t(e);return n?Ne(n).pipe(ie(()=>e)):Q(e)})}var Om=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===te);return r}getResolvedTitleForRoute(n){return n.data[Qa]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>P(YC),providedIn:"root"})}return t})(),YC=(()=>{class t extends Om{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(se(pC))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),tc=new $("",{providedIn:"root",factory:()=>({})}),Vm=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Be({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&wn(0,"router-outlet")},dependencies:[Za],encapsulation:2})}return t})();function Fm(t){let e=t.children&&t.children.map(Fm),n=e?ce(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==te&&(n.component=Vm),n}var nc=new $(""),JC=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(tm);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=kr(n.loadComponent()).pipe(ie(XC),ot(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ra(()=>{this.componentLoaders.delete(n)})),i=new oo(r,()=>new Ue).pipe(io());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=ZC(r,this.compiler,n,this.onLoadEndListener).pipe(ra(()=>{this.childrenLoaders.delete(r)})),s=new oo(o,()=>new Ue).pipe(io());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ZC(t,e,n,r){return kr(t.loadChildren()).pipe(ie(XC),Ge(i=>i instanceof Zg||Array.isArray(i)?Q(i):Ne(e.compileModuleAsync(i))),ie(i=>{r&&r(t);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(n).injector,s=o.get(nc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Fm),injector:o}}))}function CV(t){return t&&typeof t=="object"&&"default"in t}function XC(t){return CV(t)?t.default:t}var fd=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>P(SV),providedIn:"root"})}return t})(),SV=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),e0=new $("");var t0=new $(""),n0=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ue;transitionAbortSubject=new Ue;configLoader=P(JC);environmentInjector=P(It);destroyRef=P(ba);urlSerializer=P(Ya);rootContexts=P(Wo);location=P(Fo);inputBindingEnabled=P(Xa,{optional:!0})!==null;titleStrategy=P(Om);options=P(tc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(fd);createViewTransition=P(e0,{optional:!0});navigationErrorHandler=P(t0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Q(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new ed(i)),r=i=>this.events.next(new td(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ce(F({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new it(null),this.transitions.pipe(Rt(r=>r!==null),Ht(r=>{let i=!1,o=!1;return Q(r).pipe(Ht(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",xt.SupersededByNewNavigation),Dt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ce(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&l!=="reload"){let u="";return this.events.next(new Zn(s.id,this.urlSerializer.serialize(s.rawUrl),u,Ba.IgnoredSameUrlNavigation)),s.resolve(!1),Dt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Q(s).pipe(Ht(u=>(this.events.next(new Si(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Dt:Promise.resolve(u))),EV(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ot(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=ce(F({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let h=new $a(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:h,source:p,restoredState:y,extras:m}=s,C=new Si(u,this.urlSerializer.serialize(h),p,y);this.events.next(C);let M=LC(this.rootComponentType).snapshot;return this.currentTransition=r=ce(F({},s),{targetSnapshot:M,urlAfterRedirects:h,extras:ce(F({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,Q(r)}else{let u="";return this.events.next(new Zn(s.id,this.urlSerializer.serialize(s.extractedUrl),u,Ba.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Dt}}),ot(s=>{let c=new Yu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),ie(s=>(this.currentTransition=r=ce(F({},s),{guards:j1(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),J1(this.environmentInjector,s=>this.events.next(s)),ot(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw ld(this.urlSerializer,s.guardsResult);let c=new Ju(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(c)}),Rt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",xt.GuardRejected),!1)),vm(s=>{if(s.guards.canActivateChecks.length!==0)return Q(s).pipe(ot(c=>{let l=new Zu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Ht(c=>{let l=!1;return Q(c).pipe(IV(this.paramsInheritanceStrategy,this.environmentInjector),ot({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",xt.NoDataFromResolver)}}))}),ot(c=>{let l=new Xu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),vm(s=>{let c=l=>{let u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(ot(h=>{l.component=h}),ie(()=>{})));for(let h of l.children)u.push(...c(h));return u};return na(c(s.targetSnapshot.root)).pipe(Ir(null),Bn(1))}),vm(()=>this.afterPreactivation()),Ht(()=>{let{currentSnapshot:s,targetSnapshot:c}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,c.root);return l?Ne(l).pipe(ie(()=>r)):Q(r)}),ie(s=>{let c=O1(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ce(F({},s),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,r}),ot(()=>{this.events.next(new Ha)}),U1(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Bn(1),ot({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),dp(this.transitionAbortSubject.pipe(ot(s=>{throw s}))),ra(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",xt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Er(s=>{if(this.destroyed)return r.resolve(!1),Dt;if(o=!0,qC(s))this.events.next(new Tn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),L1(s)?this.events.next(new Ho(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let c=new $o(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=Tt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(l instanceof qo){let{message:u,cancellationCode:h}=ld(this.urlSerializer,l);this.events.next(new Tn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,h)),this.events.next(new Ho(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(c),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Dt}))}))}cancelNavigationTransition(n,r,i){let o=new Tn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function DV(t){return t!==Gu}var r0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>P(AV),providedIn:"root"})}return t})(),dd=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},AV=(()=>{class t extends dd{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Sr(t)))(i||t)}})();static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),i0=(()=>{class t{urlSerializer=P(Ya);options=P(tc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P(Fo);urlHandlingStrategy=P(fd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Cn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Cn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=LC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>P(RV),providedIn:"root"})}return t})(),RV=(()=>{class t extends i0{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Si?this.updateStateMemento():n instanceof Zn?this.commitTransition(r):n instanceof $a?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Ha?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Tn&&(n.code===xt.GuardRejected||n.code===xt.NoDataFromResolver)?this.restoreHistory(r):n instanceof $o?this.restoreHistory(r,!0):n instanceof Jt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let c=this.browserPageId,l=F(F({},s),this.generateNgRouterState(i,c));this.location.replaceState(n,"",l)}else{let c=F(F({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",c)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Sr(t)))(i||t)}})();static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Lm(t,e){t.events.pipe(Rt(n=>n instanceof Jt||n instanceof Tn||n instanceof $o||n instanceof Zn),ie(n=>n instanceof Jt||n instanceof Zn?0:(n instanceof Tn?n.code===xt.Redirect||n.code===xt.SupersededByNewNavigation:!1)?2:1),Rt(n=>n!==2),Bn(1)).subscribe(()=>{e()})}var MV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},NV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ct=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(jT);stateManager=P(i0);options=P(tc,{optional:!0})||{};pendingTasks=P(pi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(n0);urlSerializer=P(Ya);location=P(Fo);urlHandlingStrategy=P(fd);_events=new Ue;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(r0);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(nc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(Xa,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Pe;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Tn&&r.code!==xt.Redirect&&r.code!==xt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Jt)this.navigated=!0;else if(r instanceof Ho){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||DV(i.source)},s);this.scheduleNavigation(c,Gu,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}PV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Gu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=F({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Fm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s,h=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":h=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=kC(y)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return OC(p,n,h,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Pr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Gu,null,r)}navigate(n,r={skipLocationChange:!1}){return xV(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=F({},MV):r===!1?i=F({},NV):i=r,Pr(n))return gC(this.currentUrlTree,n,i);let o=this.parseUrl(n);return gC(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,l,u;s?(c=s.resolve,l=s.reject,u=s.promise):u=new Promise((p,y)=>{c=p,l=y});let h=this.pendingTasks.add();return Lm(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new B(4008,!1)}function PV(t){return!(t instanceof Ha)&&!(t instanceof Ho)}var Sn=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ue;constructor(n,r,i,o,s,c){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=c;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof Jt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Pr(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:nT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Pr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(Y(Ct),Y(st),Pb("tabindex"),Y(mi),Y(Dr),Y(Vo))};static \u0275dir=Je({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Re("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Sa("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ii],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ii],replaceUrl:[2,"replaceUrl","replaceUrl",Ii],routerLink:"routerLink"},features:[hi]})}return t})();var OV=new $("");function Um(t,...e){return di([{provide:nc,multi:!0,useValue:t},[],{provide:st,useFactory:VV,deps:[Ct]},{provide:Xg,multi:!0,useFactory:LV},e.map(n=>n.\u0275providers)])}function VV(t){return t.routerState.root}function FV(t,e){return{\u0275kind:t,\u0275providers:e}}function LV(){let t=P(bt);return e=>{let n=t.get(li);if(e!==n.components[0])return;let r=t.get(Ct),i=t.get(UV);t.get(jV)===1&&r.initialNavigation(),t.get(BV,null,oe.Optional)?.setUpPreloading(),t.get(OV,null,oe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var UV=new $("",{factory:()=>new Ue}),jV=new $("",{providedIn:"root",factory:()=>1});var BV=new $("");function jm(){return FV(8,[km,{provide:Xa,useExisting:km}])}var p0=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(Y(mi),Y(Dr))};static \u0275dir=Je({type:t})}return t})(),$m=(()=>{class t extends p0{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Sr(t)))(i||t)}})();static \u0275dir=Je({type:t,features:[ln]})}return t})(),Id=new $("");var $V={provide:Id,useExisting:zn(()=>Dn),multi:!0};function HV(){let t=Yt()?Yt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var qV=new $(""),Dn=(()=>{class t extends p0{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!HV())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(Y(mi),Y(Dr),Y(qV,8))};static \u0275dir=Je({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Re("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Ei([$V]),ln]})}return t})();function zV(t){return t==null||WV(t)===0}function WV(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var Hm=new $(""),g0=new $("");function GV(t){return zV(t.value)?{required:!0}:null}function o0(t){return null}function m0(t){return t!=null}function y0(t){return ko(t)?Ne(t):t}function v0(t){let e={};return t.forEach(n=>{e=n!=null?F(F({},e),n):e}),Object.keys(e).length===0?null:e}function _0(t,e){return e.map(n=>n(t))}function KV(t){return!t.validate}function E0(t){return t.map(e=>KV(e)?e:n=>e.validate(n))}function QV(t){if(!t)return null;let e=t.filter(m0);return e.length==0?null:function(n){return v0(_0(n,e))}}function qm(t){return t!=null?QV(E0(t)):null}function YV(t){if(!t)return null;let e=t.filter(m0);return e.length==0?null:function(n){let r=_0(n,e).map(y0);return lp(r).pipe(ie(v0))}}function zm(t){return t!=null?YV(E0(t)):null}function s0(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function JV(t){return t._rawValidators}function ZV(t){return t._rawAsyncValidators}function Bm(t){return t?Array.isArray(t)?t:[t]:[]}function gd(t,e){return Array.isArray(t)?t.includes(e):t===e}function a0(t,e){let n=Bm(e);return Bm(t).forEach(i=>{gd(n,i)||n.push(i)}),n}function c0(t,e){return Bm(e).filter(n=>!gd(t,n))}var md=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Yo=class extends md{name;get formDirective(){return null}get path(){return null}},lc=class extends md{_parent=null;name=null;valueAccessor=null},yd=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},XV={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},o9=ce(F({},XV),{"[class.ng-submitted]":"isSubmitted"}),Or=(()=>{class t extends yd{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(Y(lc,2))};static \u0275dir=Je({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ou("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[ln]})}return t})(),I0=(()=>{class t extends yd{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(Y(Yo,10))};static \u0275dir=Je({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ou("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[ln]})}return t})();var ic="VALID",pd="INVALID",Ko="PENDING",oc="DISABLED",Jo=class{},vd=class extends Jo{value;source;constructor(e,n){super(),this.value=e,this.source=n}},ac=class extends Jo{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},cc=class extends Jo{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Qo=class extends Jo{status;source;constructor(e,n){super(),this.status=e,this.source=n}};function w0(t){return(wd(t)?t.validators:t)||null}function eF(t){return Array.isArray(t)?qm(t):t||null}function b0(t,e){return(wd(e)?e.asyncValidators:t)||null}function tF(t){return Array.isArray(t)?zm(t):t||null}function wd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function nF(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[n])throw new B(1001,"")}function rF(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new B(1002,"")})}var _d=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Jn(this.statusReactive)}set status(e){Jn(()=>this.statusReactive.set(e))}_status=Mr(()=>this.statusReactive());statusReactive=Ar(void 0);get valid(){return this.status===ic}get invalid(){return this.status===pd}get pending(){return this.status==Ko}get disabled(){return this.status===oc}get enabled(){return this.status!==oc}errors;get pristine(){return Jn(this.pristineReactive)}set pristine(e){Jn(()=>this.pristineReactive.set(e))}_pristine=Mr(()=>this.pristineReactive());pristineReactive=Ar(!0);get dirty(){return!this.pristine}get touched(){return Jn(this.touchedReactive)}set touched(e){Jn(()=>this.touchedReactive.set(e))}_touched=Mr(()=>this.touchedReactive());touchedReactive=Ar(!1);get untouched(){return!this.touched}_events=new Ue;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(a0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(a0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(c0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(c0(e,this._rawAsyncValidators))}hasValidator(e){return gd(this._rawValidators,e)}hasAsyncValidator(e){return gd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ce(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new cc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new cc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ce(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ac(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new ac(!0,r))}markAsPending(e={}){this.status=Ko;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ce(F({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=oc,this.errors=null,this._forEachChild(i=>{i.disable(ce(F({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new vd(this.value,r)),this._events.next(new Qo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ic,this._forEachChild(r=>{r.enable(ce(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ic||this.status===Ko)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new vd(this.value,n)),this._events.next(new Qo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ce(F({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oc:ic}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ko,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=y0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Qo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ke,this.statusChanges=new Ke}_calculateStatus(){return this._allControlsDisabled()?oc:this.errors?pd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ko)?Ko:this._anyControlsHaveStatus(pd)?pd:ic}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new ac(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new cc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){wd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=eF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=tF(this._rawAsyncValidators)}},Ed=class extends _d{constructor(e,n,r){super(w0(n),b0(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){rF(this,!0,e),Object.keys(e).forEach(r=>{nF(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Wm=new $("",{providedIn:"root",factory:()=>Gm}),Gm="always";function iF(t,e){return[...e.path,t]}function T0(t,e,n=Gm){C0(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),sF(t,e),cF(t,e),aF(t,e),oF(t,e)}function l0(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function oF(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function C0(t,e){let n=JV(t);e.validator!==null?t.setValidators(s0(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=ZV(t);e.asyncValidator!==null?t.setAsyncValidators(s0(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();l0(e._rawValidators,i),l0(e._rawAsyncValidators,i)}function sF(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&S0(t,e)})}function aF(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&S0(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function S0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function cF(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function lF(t,e){t==null,C0(t,e)}function uF(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function dF(t){return Object.getPrototypeOf(t.constructor)===$m}function hF(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function fF(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Dn?n=o:dF(o)?r=o:i=o}),i||r||n||null}var pF={provide:Yo,useExisting:zn(()=>Km)},sc=Promise.resolve(),Km=(()=>{class t extends Yo{callSetDisabledState;get submitted(){return Jn(this.submittedReactive)}_submitted=Mr(()=>this.submittedReactive());submittedReactive=Ar(!1);_directives=new Set;form;ngSubmit=new Ke;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new Ed({},qm(n),zm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){sc.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),T0(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){sc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){sc.then(()=>{let r=this._findContainer(n.path),i=new Ed({});lF(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){sc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){sc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),hF(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(Y(Hm,10),Y(g0,10),Y(Wm,8))};static \u0275dir=Je({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Re("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ei([pF]),ln]})}return t})();function u0(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function d0(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var gF=class extends _d{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(w0(n),b0(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(d0(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){u0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){u0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){d0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var mF={provide:lc,useExisting:zn(()=>Xn)},h0=Promise.resolve(),Xn=(()=>{class t extends lc{_changeDetectorRef;callSetDisabledState;control=new gF;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ke;constructor(n,r,i,o,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=fF(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),uF(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){T0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){h0.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Ii(r);h0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?iF(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(Y(Yo,9),Y(Hm,10),Y(g0,10),Y(Id,10),Y(Ra,8),Y(Wm,8))};static \u0275dir=Je({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ei([mF]),ln,hi]})}return t})();var D0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Je({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var yF={provide:Id,useExisting:zn(()=>Zo),multi:!0};function A0(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function vF(t){return t.split(":")[0]}var Zo=(()=>{class t extends $m{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r=this._getOptionId(n),i=A0(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=vF(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Sr(t)))(i||t)}})();static \u0275dir=Je({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Re("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ei([yF]),ln]})}return t})(),bd=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(A0(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(Y(Dr),Y(mi),Y(Zo,9))};static \u0275dir=Je({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),_F={provide:Id,useExisting:zn(()=>R0),multi:!0};function f0(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function EF(t){return t.split(":")[0]}var R0=(()=>{class t extends $m{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let c=0;c<s.length;c++){let l=s[c],u=this._getOptionValue(l.value);i.push(u)}}else{let s=r.options;for(let c=0;c<s.length;c++){let l=s[c];if(l.selected){let u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=EF(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Sr(t)))(i||t)}})();static \u0275dir=Je({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Re("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ei([_F]),ln]})}return t})(),Td=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(f0(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(f0(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(Y(Dr),Y(mi),Y(R0,9))};static \u0275dir=Je({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var IF=(()=>{class t{_validator=o0;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):o0,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Je({type:t,features:[hi]})}return t})();var wF={provide:Hm,useExisting:zn(()=>Di),multi:!0};var Di=(()=>{class t extends IF{required;inputName="required";normalizeInput=Ii;createValidator=n=>GV;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Sr(t)))(i||t)}})();static \u0275dir=Je({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Sa("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ei([wF]),ln]})}return t})();var bF=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Po({type:t});static \u0275inj=Ro({})}return t})();var Vr=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Wm,useValue:n.callSetDisabledState??Gm}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Po({type:t});static \u0275inj=Ro({imports:[bF]})}return t})();var M0=()=>{};var x0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},TF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Sd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=o>>2,p=(o&3)<<4|c>>4,y=(c&15)<<2|u>>6,m=u&63;l||(m=64,s||(y=64)),r.push(n[h],n[p],n[y],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(x0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||u==null||p==null)throw new Ym;let y=o<<2|c>>4;if(r.push(y),u!==64){let m=c<<4&240|u>>2;if(r.push(m),p!==64){let C=u<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ym=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},CF=function(t){let e=x0(t);return Sd.encodeByteArray(e,!0)},uc=function(t){return CF(t).replace(/\./g,"")},Dd=function(t){try{return Sd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Zm(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var SF=()=>Zm().__FIREBASE_DEFAULTS__,DF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Dd(t[1]);return e&&JSON.parse(e)},Ad=()=>{try{return M0()||SF()||DF()||AF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},P0=t=>{var e,n;return(n=(e=Ad())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},k0=t=>{let e=P0(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Xm=()=>{var t;return(t=Ad())===null||t===void 0?void 0:t.config},O0=t=>{var e;return(e=Ad())===null||e===void 0?void 0:e[`_${t}`]};var Ai=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function V0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[uc(JSON.stringify(n)),uc(JSON.stringify(s)),""].join(".")}function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function F0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function RF(){var t;let e=(t=Ad())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function L0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function U0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function j0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function B0(){return!RF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dc(){try{return typeof indexedDB=="object"}catch{return!1}}function $0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var MF="FirebaseError",Zt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=MF,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dn.prototype.create)}},dn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?NF(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Zt(i,c,r)}};function NF(t,e){return t.replace(xF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var xF=/\{\$([^}]+)}/g;function Ri(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(N0(o)&&N0(s)){if(!Ri(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function N0(t){return t!==null&&typeof t=="object"}function ey(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function H0(t,e){let n=new Jm(t,e);return n.subscribe.bind(n)}var Jm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qm),i.error===void 0&&(i.error=Qm),i.complete===void 0&&(i.complete=Qm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function PF(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qm(){}var u9=4*60*60*1e3;function ft(t){return t&&t._delegate?t._delegate:t}var St=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Mi="[DEFAULT]";var ty=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ai;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OF(e))try{this.getOrInitializeService({instanceIdentifier:Mi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return D(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Mi){return this.instances.has(e)}getOptions(e=Mi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mi){return this.component?this.component.multipleInstances?e:Mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function kF(t){return t===Mi?void 0:t}function OF(t){return t.instantiationMode==="EAGER"}var Rd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new ty(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var VF=[],he=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(he||{}),FF={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},LF=he.INFO,UF={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},jF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=UF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},An=class{constructor(e){this.name=e,this._logLevel=LF,this._logHandler=jF,this._userLogHandler=null,VF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}};var BF=(t,e)=>e.some(n=>t instanceof n),q0,z0;function $F(){return q0||(q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HF(){return z0||(z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var W0=new WeakMap,ry=new WeakMap,G0=new WeakMap,ny=new WeakMap,oy=new WeakMap;function qF(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Rn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&W0.set(n,t)}).catch(()=>{}),oy.set(e,t),e}function zF(t){if(ry.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});ry.set(t,e)}var iy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ry.get(t);if(e==="objectStoreNames")return t.objectStoreNames||G0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function K0(t){iy=t(iy)}function WF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Md(this),e,...n);return G0.set(r,e.sort?e.sort():[e]),Rn(r)}:HF().includes(t)?function(...e){return t.apply(Md(this),e),Rn(W0.get(this))}:function(...e){return Rn(t.apply(Md(this),e))}}function GF(t){return typeof t=="function"?WF(t):(t instanceof IDBTransaction&&zF(t),BF(t,$F())?new Proxy(t,iy):t)}function Rn(t){if(t instanceof IDBRequest)return qF(t);if(ny.has(t))return ny.get(t);let e=GF(t);return e!==t&&(ny.set(t,e),oy.set(e,t)),e}var Md=t=>oy.get(t);function Y0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=Rn(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Rn(s.result),l.oldVersion,l.newVersion,Rn(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),c.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}var KF=["get","getKey","getAll","getAllKeys","count"],QF=["put","add","delete","clear"],sy=new Map;function Q0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sy.get(e))return sy.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=QF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||KF.includes(n)))return;let o=function(s,...c){return D(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]})};return sy.set(e,o),o}K0(t=>ce(F({},t),{get:(e,n,r)=>Q0(e,n)||t.get(e,n,r),has:(e,n)=>!!Q0(e,n)||t.has(e,n)}));var cy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function YF(t){let e=t.getComponent();return e?.type==="VERSION"}var ly="@firebase/app",J0="0.11.5";var er=new An("@firebase/app"),JF="@firebase/app-compat",ZF="@firebase/analytics-compat",XF="@firebase/analytics",eL="@firebase/app-check-compat",tL="@firebase/app-check",nL="@firebase/auth",rL="@firebase/auth-compat",iL="@firebase/database",oL="@firebase/data-connect",sL="@firebase/database-compat",aL="@firebase/functions",cL="@firebase/functions-compat",lL="@firebase/installations",uL="@firebase/installations-compat",dL="@firebase/messaging",hL="@firebase/messaging-compat",fL="@firebase/performance",pL="@firebase/performance-compat",gL="@firebase/remote-config",mL="@firebase/remote-config-compat",yL="@firebase/storage",vL="@firebase/storage-compat",_L="@firebase/firestore",EL="@firebase/vertexai",IL="@firebase/firestore-compat",wL="firebase",bL="11.6.1";var uy="[DEFAULT]",TL={[ly]:"fire-core",[JF]:"fire-core-compat",[XF]:"fire-analytics",[ZF]:"fire-analytics-compat",[tL]:"fire-app-check",[eL]:"fire-app-check-compat",[nL]:"fire-auth",[rL]:"fire-auth-compat",[iL]:"fire-rtdb",[oL]:"fire-data-connect",[sL]:"fire-rtdb-compat",[aL]:"fire-fn",[cL]:"fire-fn-compat",[lL]:"fire-iid",[uL]:"fire-iid-compat",[dL]:"fire-fcm",[hL]:"fire-fcm-compat",[fL]:"fire-perf",[pL]:"fire-perf-compat",[gL]:"fire-rc",[mL]:"fire-rc-compat",[yL]:"fire-gcs",[vL]:"fire-gcs-compat",[_L]:"fire-fst",[IL]:"fire-fst-compat",[EL]:"fire-vertex","fire-js":"fire-js",[wL]:"fire-js-all"};var hc=new Map,CL=new Map,dy=new Map;function Z0(t,e){try{t.container.addComponent(e)}catch(n){er.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hn(t){let e=t.name;if(dy.has(e))return er.debug(`There were multiple attempts to register component ${e}.`),!1;dy.set(e,t);for(let n of hc.values())Z0(n,t);for(let n of CL.values())Z0(n,t);return!0}function Nd(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function tr(t){return t==null?!1:t.settings!==void 0}var SL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new dn("app","Firebase",SL);var hy=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new St("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}};var Xo=bL;function gy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:uy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Fr.create("bad-app-name",{appName:String(i)});if(n||(n=Xm()),!n)throw Fr.create("no-options");let o=hc.get(i);if(o){if(Ri(n,o.options)&&Ri(r,o.config))return o;throw Fr.create("duplicate-app",{appName:i})}let s=new Rd(i);for(let l of dy.values())s.addComponent(l);let c=new hy(n,r,s);return hc.set(i,c),c}function es(t=uy){let e=hc.get(t);if(!e&&t===uy&&Xm())return gy();if(!e)throw Fr.create("no-app",{appName:t});return e}function xd(){return Array.from(hc.values())}function Le(t,e,n){var r;let i=(r=TL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),er.warn(c.join(" "));return}hn(new St(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var DL="firebase-heartbeat-database",AL=1,fc="firebase-heartbeat-store",ay=null;function nS(){return ay||(ay=Y0(DL,AL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fr.create("idb-open",{originalErrorMessage:t.message})})),ay}function RL(t){return D(this,null,function*(){try{let n=(yield nS()).transaction(fc),r=yield n.objectStore(fc).get(rS(t));return yield n.done,r}catch(e){if(e instanceof Zt)er.warn(e.message);else{let n=Fr.create("idb-get",{originalErrorMessage:e?.message});er.warn(n.message)}}})}function X0(t,e){return D(this,null,function*(){try{let r=(yield nS()).transaction(fc,"readwrite");yield r.objectStore(fc).put(e,rS(t)),yield r.done}catch(n){if(n instanceof Zt)er.warn(n.message);else{let r=Fr.create("idb-set",{originalErrorMessage:n?.message});er.warn(r.message)}}})}function rS(t){return`${t.name}!${t.options.appId}`}var ML=1024,NL=30,fy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new py(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return D(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=eS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>NL){let s=PL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){er.warn(r)}})}getHeartbeatsHeader(){return D(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=eS(),{heartbeatsToSend:r,unsentEntries:i}=xL(this._heartbeatsCache.heartbeats),o=uc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return er.warn(n),""}})}};function eS(){return new Date().toISOString().substring(0,10)}function xL(t,e=ML){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),tS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var py=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return D(this,null,function*(){return dc()?$0().then(()=>!0).catch(()=>!1):!1})}read(){return D(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield RL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return D(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return X0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return D(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return X0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function tS(t){return uc(JSON.stringify({version:2,heartbeats:t})).length}function PL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function kL(t){hn(new St("platform-logger",e=>new cy(e),"PRIVATE")),hn(new St("heartbeat",e=>new fy(e),"PRIVATE")),Le(ly,J0,t),Le(ly,J0,"esm2017"),Le("fire-js","")}kL("");var OL="firebase",VL="11.6.1";Le(OL,VL,"app");function my(t){t===void 0&&(Qw(my),t=P(bt));let e=t.get(Du);return n=>new le(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=n.subscribe({next:l=>{r.next(l),s()},complete:()=>{r.complete(),s()},error:l=>{r.error(l),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var xi=new Ao("ANGULARFIRE2_VERSION");function kd(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ns=(t,e)=>{let n=e?[e]:xd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ts=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(ts||{}),iS=nm()&&typeof Zone<"u"?ts.WARN:ts.SILENT;var Pd=class{zone;delegate;constructor(e,n=sp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Pi=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=P(Se);this.outsideAngular=n.runOutsideAngular(()=>new Pd(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Pd(typeof Zone>"u"?void 0:Zone.current,op))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),oS=!1;function FL(t,e){!oS&&(iS>ts.SILENT||nm())&&(oS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),iS>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function LL(t){let e=P(Se,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Ni(t){let e=P(Se,{optional:!0});return e?e.run(()=>t()):t()}var UL=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Tt(n,()=>Ni(()=>t.apply(void 0,r)))),Ut=(t,e,n)=>(n||=e?ts.WARN:ts.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=P(Pi),s=P(Du),c=P(It)}catch{return FL(t,n),t.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=Ni(()=>s.add())),i[u]=UL(i[u],r,c));let l=LL(()=>t.apply(this,i));return e?l instanceof le?l.pipe(_r(o.outsideAngular),vr(o.insideAngular),my(c)):l instanceof Promise?Ni(()=>new Promise((u,h)=>{s.run(()=>l).then(p=>Tt(c,()=>Ni(()=>u(p))),p=>Tt(c,()=>Ni(()=>h(p))))})):typeof l=="function"&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:Ni(()=>l):l instanceof le?l.pipe(_r(o.outsideAngular),vr(o.insideAngular)):Ni(()=>l)});var ki=class{constructor(e){return e}},pc=class{constructor(){return xd()}};function jL(t){return t&&t.length===1?t[0]:new ki(es())}var yy=new $("angularfire2._apps"),BL={provide:ki,useFactory:jL,deps:[[new Cr,yy]]},$L={provide:pc,deps:[[new Cr,yy]]};function HL(t){return(e,n)=>{let r=n.get(gi);Le("angularfire",xi.full,"core"),Le("angularfire",xi.full,"app"),Le("angular",zT.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new ki(i)}}function sS(t,...e){return di([BL,$L,{provide:yy,useFactory:HL(t),multi:!0,deps:[Se,bt,Pi,...e]}])}var aS=Ut(gy,!0);var qL=new Map,zL={activated:!1,tokenObservers:[]},WL={initialized:!1,enabled:!1};function fn(t){return qL.get(t)||Object.assign({},zL)}function dS(){return WL}var GL="https://content-firebaseappcheck.googleapis.com/v1";var KL="exchangeDebugToken",cS={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},g6=24*60*60*1e3;var Ey=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return D(this,null,function*(){this.stop();try{this.pending=new Ai,this.pending.promise.catch(n=>{}),yield QL(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ai,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function QL(t){return new Promise(e=>{setTimeout(e,t)})}var YL={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Lr=new dn("appCheck","AppCheck",YL);function hS(t){if(!fn(t).activated)throw Lr.create("use-before-activation",{appName:t.name})}function fS(r,i){return D(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let c={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(t,c)}catch(m){throw Lr.create("fetch-network-error",{originalErrorMessage:m?.message})}if(l.status!==200)throw Lr.create("fetch-status-error",{httpStatus:l.status});let u;try{u=yield l.json()}catch(m){throw Lr.create("fetch-parse-error",{originalErrorMessage:m?.message})}let h=u.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Lr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let p=Number(h[1])*1e3,y=Date.now();return{token:u.token,expireTimeMillis:y+p,issuedAtTimeMillis:y}})}function pS(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${GL}/projects/${n}/apps/${r}:${KL}?key=${i}`,body:{debug_token:e}}}var JL="firebase-app-check-database",ZL=1,Iy="firebase-app-check-store";var Od=null;function XL(){return Od||(Od=new Promise((t,e)=>{try{let n=indexedDB.open(JL,ZL);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Lr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Iy,{keyPath:"compositeKey"})}}}catch(n){e(Lr.create("storage-open",{originalErrorMessage:n?.message}))}}),Od)}function eU(t,e){return tU(nU(t),e)}function tU(t,e){return D(this,null,function*(){let r=(yield XL()).transaction(Iy,"readwrite"),o=r.objectStore(Iy).put({compositeKey:t,value:e});return new Promise((s,c)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var u;c(Lr.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})})}function nU(t){return`${t.options.appId}-${t.name}`}var gc=new An("@firebase/app-check");function vy(t,e){return dc()?eU(t,e).catch(n=>{gc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function gS(){return dS().enabled}function mS(){return D(this,null,function*(){let t=dS();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var rU={error:"UNKNOWN_ERROR"};function iU(t){return Sd.encodeString(JSON.stringify(t),!1)}function wy(t,e=!1,n=!1){return D(this,null,function*(){let r=t.app;hS(r);let i=fn(r),o=i.token,s;if(o&&!mc(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&(mc(u)?o=u:yield vy(r,void 0))}if(!e&&o&&mc(o))return{token:o.token};let c=!1;if(gS())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=fS(pS(r,yield mS()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let u=yield i.exchangeTokenPromise;return yield vy(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?gc.warn(u.message):n&&gc.error(u),_y(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield fn(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?gc.warn(u.message):n&&gc.error(u),s=u}let l;return o?s?mc(o)?l={token:o.token,internalError:s}:l=_y(s):(l={token:o.token},i.token=o,yield vy(r,o)):l=_y(s),c&&cU(r,l),l})}function oU(t){return D(this,null,function*(){let e=t.app;hS(e);let{provider:n}=fn(e);if(gS()){let r=yield mS(),{token:i}=yield fS(pS(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function sU(t,e,n,r){let{app:i}=t,o=fn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&mc(o.token)){let c=o.token;Promise.resolve().then(()=>{n({token:c.token}),lS(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>lS(t))}function yS(t,e){let n=fn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function lS(t){let{app:e}=t,n=fn(e),r=n.tokenRefresher;r||(r=aU(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function aU(t){let{app:e}=t;return new Ey(()=>D(this,null,function*(){let n=fn(e),r;if(n.token?r=yield wy(t,!0):r=yield wy(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=fn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},cS.RETRIAL_MIN_WAIT,cS.RETRIAL_MAX_WAIT)}function cU(t,e){let n=fn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function mc(t){return t.expireTimeMillis-Date.now()>0}function _y(t){return{token:iU(rU),error:t}}var by=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=fn(this.app);for(let n of e)yS(this.app,n.next);return Promise.resolve()}};function lU(t,e){return new by(t,e)}function uU(t){return{getToken:e=>wy(t,e),getLimitedUseToken:()=>oU(t),addTokenListener:e=>sU(t,"INTERNAL",e),removeTokenListener:e=>yS(t.app,e)}}var dU="@firebase/app-check",hU="0.8.13";var fU="app-check",uS="app-check-internal";function pU(){hn(new St(fU,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return lU(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(uS).initialize()})),hn(new St(uS,t=>{let e=t.getProvider("app-check").getImmediate();return uU(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Le(dU,hU)}pU();var gU="app-check";var Vd=class{constructor(){return ns(gU)}};var mU=["localhost","0.0.0.0","127.0.0.1"],A6=typeof window<"u"&&mU.includes(window.location.hostname);function CS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var SS=CS,DS=new dn("auth","Firebase",CS());var jd=new An("@firebase/auth");function vU(t,...e){jd.logLevel<=he.WARN&&jd.warn(`Auth (${Xo}): ${t}`,...e)}function Ld(t,...e){jd.logLevel<=he.ERROR&&jd.error(`Auth (${Xo}): ${t}`,...e)}function vS(t,...e){throw Oy(t,...e)}function ky(t,...e){return Oy(t,...e)}function AS(t,e,n){let r=Object.assign(Object.assign({},SS()),{[e]:n});return new dn("auth","Firebase",r).create(e,{appName:t.name})}function Ud(t){return AS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Oy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DS.create(t,...e)}function _e(t,e,...n){if(!t)throw Oy(e,...n)}function yc(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ld(e),new Error(e)}function Bd(t,e){t||yc(e)}function _U(){return _S()==="http:"||_S()==="https:"}function _S(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function EU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_U()||U0()||"connection"in navigator)?navigator.onLine:!0}function IU(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Fi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bd(n>e,"Short delay should be less than long delay!"),this.isMobile=F0()||j0()}get(){return EU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function wU(t,e){Bd(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var $d=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var bU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var TU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CU=new Fi(3e4,6e4);function RS(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Gd(o,s,c,l){return D(this,arguments,function*(t,e,n,r,i={}){return MS(t,i,()=>D(this,null,function*(){let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});let p=ey(Object.assign({key:t.config.apiKey},h)).slice(1),y=yield t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);let m=Object.assign({method:e,headers:y},u);return L0()||(m.referrerPolicy="no-referrer"),$d.fetch()(yield NS(t,t.config.apiHost,n,p),m)}))})}function MS(t,e,n){return D(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},bU),e);try{let i=new Sy(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Fd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[l,u]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fd(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Fd(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Fd(t,"user-disabled",s);let h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw AS(t,h,u);vS(t,h)}}catch(i){if(i instanceof Zt)throw i;vS(t,"network-request-failed",{message:String(i)})}})}function NS(t,e,n,r){return D(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?wU(t.config,i):`${t.config.apiScheme}://${i}`;return TU.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var Sy=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ky(this.auth,"network-request-failed")),CU.get())})}};function Fd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ky(t,e,r);return i.customData._tokenResponse=n,i}function SU(t,e){return D(this,null,function*(){return Gd(t,"POST","/v1/accounts:delete",e)})}function Hd(t,e){return D(this,null,function*(){return Gd(t,"POST","/v1/accounts:lookup",e)})}function vc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Vy(t,e=!1){return D(this,null,function*(){let n=ft(t),r=yield n.getIdToken(e),i=xS(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:vc(Ty(i.auth_time)),issuedAtTime:vc(Ty(i.iat)),expirationTime:vc(Ty(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Ty(t){return Number(t)*1e3}function xS(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ld("JWT malformed, contained fewer than 3 sections"),null;try{let i=Dd(n);return i?JSON.parse(i):(Ld("Failed to decode base64 JWT payload"),null)}catch(i){return Ld("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ES(t){let e=xS(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Dy(t,e,n=!1){return D(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Zt&&DU(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function DU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Ay=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>D(this,null,function*(){yield this.iteration()}),n)}iteration(){return D(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ec=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vc(this.lastLoginAt),this.creationTime=vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function qd(t){return D(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Dy(t,Hd(n,{idToken:r}));_e(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?PS(o.providerUserInfo):[],c=AU(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!c?.length,h=l?u:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ec(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function Fy(t){return D(this,null,function*(){let e=ft(t);yield qd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function AU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function PS(t){return t.map(e=>{var{providerId:n}=e,r=ap(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function RU(t,e){return D(this,null,function*(){let n=yield MS(t,{},()=>D(this,null,function*(){let r=ey({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield NS(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",$d.fetch()(s,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function MU(t,e){return D(this,null,function*(){return Gd(t,"POST","/v2/accounts:revokeToken",RS(t,e))})}var _c=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ES(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");let n=ES(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return D(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return D(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield RU(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(_e(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(_e(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return yc("not implemented")}};function Ur(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Oi=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=ap(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ay(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ec(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return D(this,null,function*(){let n=yield Dy(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Vy(this,e)}reload(){return Fy(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return D(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield qd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return D(this,null,function*(){if(tr(this.auth.app))return Promise.reject(Ud(this.auth));let e=yield this.getIdToken();return yield Dy(this,SU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,l,u,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=n.photoURL)!==null&&s!==void 0?s:void 0,M=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,U=(u=n.createdAt)!==null&&u!==void 0?u:void 0,K=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:ne,emailVerified:De,isAnonymous:mt,providerData:Ie,stsTokenManager:w}=n;_e(ne&&w,e,"internal-error");let v=_c.fromJSON(this.name,w);_e(typeof ne=="string",e,"internal-error"),Ur(p,e.name),Ur(y,e.name),_e(typeof De=="boolean",e,"internal-error"),_e(typeof mt=="boolean",e,"internal-error"),Ur(m,e.name),Ur(C,e.name),Ur(M,e.name),Ur(R,e.name),Ur(U,e.name),Ur(K,e.name);let E=new t({uid:ne,auth:e,email:y,emailVerified:De,displayName:p,isAnonymous:mt,photoURL:C,phoneNumber:m,tenantId:M,stsTokenManager:v,createdAt:U,lastLoginAt:K});return Ie&&Array.isArray(Ie)&&(E.providerData=Ie.map(I=>Object.assign({},I))),R&&(E._redirectEventId=R),E}static _fromIdTokenResponse(e,n,r=!1){return D(this,null,function*(){let i=new _c;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield qd(o),o})}static _fromGetAccountInfoResponse(e,n,r){return D(this,null,function*(){let i=n.users[0];_e(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?PS(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new _c;c.updateFromIdToken(r);let l=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ec(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,u),l})}};var IS=new Map;function Vi(t){Bd(t instanceof Function,"Expected a class definition");let e=IS.get(t);return e?(Bd(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,IS.set(t,e),e)}var NU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return D(this,null,function*(){return!0})}_set(n,r){return D(this,null,function*(){this.storage[n]=r})}_get(n){return D(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return D(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Ry=NU;function Cy(t,e,n){return`firebase:${t}:${e}:${n}`}var zd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Cy(this.userKey,i.apiKey,o),this.fullPersistenceKey=Cy("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return D(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Hd(this.auth,{idToken:e}).catch(()=>{});return n?Oi._fromGetAccountInfoResponse(this.auth,n,e):null}return Oi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return D(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return D(this,null,function*(){if(!n.length)return new t(Vi(Ry),e,r);let i=(yield Promise.all(n.map(u=>D(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||Vi(Ry),s=Cy(r,e.config.apiKey,e.name),c=null;for(let u of n)try{let h=yield u._get(s);if(h){let p;if(typeof h=="string"){let y=yield Hd(e,{idToken:h}).catch(()=>{});if(!y)break;p=yield Oi._fromGetAccountInfoResponse(e,y,h)}else p=Oi._fromJSON(e,h);u!==o&&(c=p),o=u;break}}catch{}let l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new t(o,e,r):(o=l[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(n.map(u=>D(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new t(o,e,r))})}};function wS(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FU(e))return"Blackberry";if(LU(e))return"Webos";if(PU(e))return"Safari";if((e.includes("chrome/")||kU(e))&&!e.includes("edge/"))return"Chrome";if(VU(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function xU(t=Lt()){return/firefox\//i.test(t)}function PU(t=Lt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kU(t=Lt()){return/crios\//i.test(t)}function OU(t=Lt()){return/iemobile/i.test(t)}function VU(t=Lt()){return/android/i.test(t)}function FU(t=Lt()){return/blackberry/i.test(t)}function LU(t=Lt()){return/webos/i.test(t)}function kS(t,e=[]){let n;switch(t){case"Browser":n=wS(Lt());break;case"Worker":n=`${wS(Lt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xo}/${r}`}var My=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let l=e(o);s(l)}catch(l){c(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return D(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function UU(n){return D(this,arguments,function*(t,e={}){return Gd(t,"GET","/v2/passwordPolicy",RS(t,e))})}var jU=6,Ny=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:jU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var xy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wd(this),this.idTokenSubscription=new Wd(this),this.beforeStateQueue=new My(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vi(n)),this._initializationPromise=this.queue(()=>D(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield zd.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return D(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return D(this,null,function*(){try{let n=yield Hd(this,{idToken:e}),r=yield Oi._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return D(this,null,function*(){var n;if(tr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===c)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return D(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return D(this,null,function*(){try{yield qd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=IU()}_delete(){return D(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return D(this,null,function*(){if(tr(this.app))return Promise.reject(Ud(this));let n=e?ft(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return D(this,null,function*(){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>D(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return D(this,null,function*(){return tr(this.app)?Promise.reject(Ud(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return tr(this.app)?Promise.reject(Ud(this)):this.queue(()=>D(this,null,function*(){yield this.assertedPersistence.setPersistence(Vi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return D(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return D(this,null,function*(){let e=yield UU(this),n=new Ny(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new dn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return D(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield MU(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return D(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return D(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Vi(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=yield zd.create(this,[Vi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return D(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>D(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return D(this,null,function*(){if(e===this.currentUser)return this.queue(()=>D(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{let l=e.addObserver(n);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return D(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return D(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return D(this,null,function*(){var e;if(tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&vU(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function BU(t){return ft(t)}var Wd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=H0(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var $U={loadJS(){return D(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HU(t){$U=t}function qU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function zU(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Vi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var j6=qU("rcb"),B6=new Fi(3e4,6e4);var $6=new Fi(2e3,1e4);var H6=10*60*1e3;var q6=new Fi(3e4,6e4);var z6=new Fi(5e3,15e3);var W6=encodeURIComponent("fac");var bS="@firebase/auth",TS="1.10.1";var Py=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return D(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function WU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GU(t){hn(new St("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;_e(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kS(t)},u=new xy(r,i,o,l);return zU(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hn(new St("auth-internal",e=>{let n=BU(e.getProvider("auth").getImmediate());return(r=>new Py(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Le(bS,TS,WU(t)),Le(bS,TS,"esm2017")}var KU=5*60,G6=O0("authIdTokenMaxAge")||KU;function QU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}HU({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=ky("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",QU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GU("Browser");var G2="auth";var Kd=class{constructor(){return ns(G2)}};var OS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},VS={};var nr,Ly;(function(){var t;function e(w,v){function E(){}E.prototype=v.prototype,w.D=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(I,b,S){for(var _=Array(arguments.length-2),Vn=2;Vn<arguments.length;Vn++)_[Vn-2]=arguments[Vn];return v.prototype[b].apply(I,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);var I=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)I[b]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(b=0;16>b;++b)I[b]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],b=w.g[2];var S=w.g[3],_=v+(S^E&(b^S))+I[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=S+(b^v&(E^b))+I[1]+3905402710&4294967295,S=v+(_<<12&4294967295|_>>>20),_=b+(E^S&(v^E))+I[2]+606105819&4294967295,b=S+(_<<17&4294967295|_>>>15),_=E+(v^b&(S^v))+I[3]+3250441966&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(S^E&(b^S))+I[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=S+(b^v&(E^b))+I[5]+1200080426&4294967295,S=v+(_<<12&4294967295|_>>>20),_=b+(E^S&(v^E))+I[6]+2821735955&4294967295,b=S+(_<<17&4294967295|_>>>15),_=E+(v^b&(S^v))+I[7]+4249261313&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(S^E&(b^S))+I[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=S+(b^v&(E^b))+I[9]+2336552879&4294967295,S=v+(_<<12&4294967295|_>>>20),_=b+(E^S&(v^E))+I[10]+4294925233&4294967295,b=S+(_<<17&4294967295|_>>>15),_=E+(v^b&(S^v))+I[11]+2304563134&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(S^E&(b^S))+I[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=S+(b^v&(E^b))+I[13]+4254626195&4294967295,S=v+(_<<12&4294967295|_>>>20),_=b+(E^S&(v^E))+I[14]+2792965006&4294967295,b=S+(_<<17&4294967295|_>>>15),_=E+(v^b&(S^v))+I[15]+1236535329&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(b^S&(E^b))+I[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=S+(E^b&(v^E))+I[6]+3225465664&4294967295,S=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(S^v))+I[11]+643717713&4294967295,b=S+(_<<14&4294967295|_>>>18),_=E+(S^v&(b^S))+I[0]+3921069994&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(b^S&(E^b))+I[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=S+(E^b&(v^E))+I[10]+38016083&4294967295,S=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(S^v))+I[15]+3634488961&4294967295,b=S+(_<<14&4294967295|_>>>18),_=E+(S^v&(b^S))+I[4]+3889429448&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(b^S&(E^b))+I[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=S+(E^b&(v^E))+I[14]+3275163606&4294967295,S=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(S^v))+I[3]+4107603335&4294967295,b=S+(_<<14&4294967295|_>>>18),_=E+(S^v&(b^S))+I[8]+1163531501&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(b^S&(E^b))+I[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=S+(E^b&(v^E))+I[2]+4243563512&4294967295,S=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(S^v))+I[7]+1735328473&4294967295,b=S+(_<<14&4294967295|_>>>18),_=E+(S^v&(b^S))+I[12]+2368359562&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(E^b^S)+I[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=S+(v^E^b)+I[8]+2272392833&4294967295,S=v+(_<<11&4294967295|_>>>21),_=b+(S^v^E)+I[11]+1839030562&4294967295,b=S+(_<<16&4294967295|_>>>16),_=E+(b^S^v)+I[14]+4259657740&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(E^b^S)+I[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=S+(v^E^b)+I[4]+1272893353&4294967295,S=v+(_<<11&4294967295|_>>>21),_=b+(S^v^E)+I[7]+4139469664&4294967295,b=S+(_<<16&4294967295|_>>>16),_=E+(b^S^v)+I[10]+3200236656&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(E^b^S)+I[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=S+(v^E^b)+I[0]+3936430074&4294967295,S=v+(_<<11&4294967295|_>>>21),_=b+(S^v^E)+I[3]+3572445317&4294967295,b=S+(_<<16&4294967295|_>>>16),_=E+(b^S^v)+I[6]+76029189&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(E^b^S)+I[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=S+(v^E^b)+I[12]+3873151461&4294967295,S=v+(_<<11&4294967295|_>>>21),_=b+(S^v^E)+I[15]+530742520&4294967295,b=S+(_<<16&4294967295|_>>>16),_=E+(b^S^v)+I[2]+3299628645&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(b^(E|~S))+I[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=S+(E^(v|~b))+I[7]+1126891415&4294967295,S=v+(_<<10&4294967295|_>>>22),_=b+(v^(S|~E))+I[14]+2878612391&4294967295,b=S+(_<<15&4294967295|_>>>17),_=E+(S^(b|~v))+I[5]+4237533241&4294967295,E=b+(_<<21&4294967295|_>>>11),_=v+(b^(E|~S))+I[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=S+(E^(v|~b))+I[3]+2399980690&4294967295,S=v+(_<<10&4294967295|_>>>22),_=b+(v^(S|~E))+I[10]+4293915773&4294967295,b=S+(_<<15&4294967295|_>>>17),_=E+(S^(b|~v))+I[1]+2240044497&4294967295,E=b+(_<<21&4294967295|_>>>11),_=v+(b^(E|~S))+I[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=S+(E^(v|~b))+I[15]+4264355552&4294967295,S=v+(_<<10&4294967295|_>>>22),_=b+(v^(S|~E))+I[6]+2734768916&4294967295,b=S+(_<<15&4294967295|_>>>17),_=E+(S^(b|~v))+I[13]+1309151649&4294967295,E=b+(_<<21&4294967295|_>>>11),_=v+(b^(E|~S))+I[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=S+(E^(v|~b))+I[11]+3174756917&4294967295,S=v+(_<<10&4294967295|_>>>22),_=b+(v^(S|~E))+I[2]+718787259&4294967295,b=S+(_<<15&4294967295|_>>>17),_=E+(S^(b|~v))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(b+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+b&4294967295,w.g[3]=w.g[3]+S&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var E=v-this.blockSize,I=this.B,b=this.h,S=0;S<v;){if(b==0)for(;S<=E;)i(this,w,S),S+=this.blockSize;if(typeof w=="string"){for(;S<v;)if(I[b++]=w.charCodeAt(S++),b==this.blockSize){i(this,I),b=0;break}}else for(;S<v;)if(I[b++]=w[S++],b==this.blockSize){i(this,I),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var E=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=E&255,E/=256;for(this.u(w),w=Array(16),v=E=0;4>v;++v)for(var I=0;32>I;I+=8)w[E++]=this.g[v]>>>I&255;return w};function o(w,v){var E=c;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function s(w,v){this.h=v;for(var E=[],I=!0,b=w.length-1;0<=b;b--){var S=w[b]|0;I&&S==v||(E[b]=S,I=!1)}this.g=E}var c={};function l(w){return-128<=w&&128>w?o(w,function(v){return new s([v|0],0>v?-1:0)}):new s([w|0],0>w?-1:0)}function u(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return R(u(-w));for(var v=[],E=1,I=0;w>=E;I++)v[I]=w/E|0,E*=4294967296;return new s(v,0)}function h(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return R(h(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=u(Math.pow(v,8)),I=p,b=0;b<w.length;b+=8){var S=Math.min(8,w.length-b),_=parseInt(w.substring(b,b+S),v);8>S?(S=u(Math.pow(v,S)),I=I.j(S).add(u(_))):(I=I.j(E),I=I.add(u(_)))}return I}var p=l(0),y=l(1),m=l(16777216);t=s.prototype,t.m=function(){if(M(this))return-R(this).m();for(var w=0,v=1,E=0;E<this.g.length;E++){var I=this.i(E);w+=(0<=I?I:4294967296+I)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(C(this))return"0";if(M(this))return"-"+R(this).toString(w);for(var v=u(Math.pow(w,6)),E=this,I="";;){var b=De(E,v).g;E=U(E,b.j(v));var S=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=b,C(E))return S+I;for(;6>S.length;)S="0"+S;I=S+I}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function C(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function M(w){return w.h==-1}t.l=function(w){return w=U(this,w),M(w)?-1:C(w)?0:1};function R(w){for(var v=w.g.length,E=[],I=0;I<v;I++)E[I]=~w.g[I];return new s(E,~w.h).add(y)}t.abs=function(){return M(this)?R(this):this},t.add=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0,b=0;b<=v;b++){var S=I+(this.i(b)&65535)+(w.i(b)&65535),_=(S>>>16)+(this.i(b)>>>16)+(w.i(b)>>>16);I=_>>>16,S&=65535,_&=65535,E[b]=_<<16|S}return new s(E,E[E.length-1]&-2147483648?-1:0)};function U(w,v){return w.add(R(v))}t.j=function(w){if(C(this)||C(w))return p;if(M(this))return M(w)?R(this).j(R(w)):R(R(this).j(w));if(M(w))return R(this.j(R(w)));if(0>this.l(m)&&0>w.l(m))return u(this.m()*w.m());for(var v=this.g.length+w.g.length,E=[],I=0;I<2*v;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var b=0;b<w.g.length;b++){var S=this.i(I)>>>16,_=this.i(I)&65535,Vn=w.i(b)>>>16,Ms=w.i(b)&65535;E[2*I+2*b]+=_*Ms,K(E,2*I+2*b),E[2*I+2*b+1]+=S*Ms,K(E,2*I+2*b+1),E[2*I+2*b+1]+=_*Vn,K(E,2*I+2*b+1),E[2*I+2*b+2]+=S*Vn,K(E,2*I+2*b+2)}for(I=0;I<v;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=v;I<2*v;I++)E[I]=0;return new s(E,0)};function K(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function ne(w,v){this.g=w,this.h=v}function De(w,v){if(C(v))throw Error("division by zero");if(C(w))return new ne(p,p);if(M(w))return v=De(R(w),v),new ne(R(v.g),R(v.h));if(M(v))return v=De(w,R(v)),new ne(R(v.g),v.h);if(30<w.g.length){if(M(w)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var E=y,I=v;0>=I.l(w);)E=mt(E),I=mt(I);var b=Ie(E,1),S=Ie(I,1);for(I=Ie(I,2),E=Ie(E,2);!C(I);){var _=S.add(I);0>=_.l(w)&&(b=b.add(E),S=_),I=Ie(I,1),E=Ie(E,1)}return v=U(w,b.j(v)),new ne(b,v)}for(b=p;0<=w.l(v);){for(E=Math.max(1,Math.floor(w.m()/v.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),S=u(E),_=S.j(v);M(_)||0<_.l(w);)E-=I,S=u(E),_=S.j(v);C(S)&&(S=y),b=b.add(S),w=U(w,_)}return new ne(b,w)}t.A=function(w){return De(this,w).h},t.and=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)&w.i(I);return new s(E,this.h&w.h)},t.or=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)|w.i(I);return new s(E,this.h|w.h)},t.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)^w.i(I);return new s(E,this.h^w.h)};function mt(w){for(var v=w.g.length+1,E=[],I=0;I<v;I++)E[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(E,w.h)}function Ie(w,v){var E=v>>5;v%=32;for(var I=w.g.length-E,b=[],S=0;S<I;S++)b[S]=0<v?w.i(S+E)>>>v|w.i(S+E+1)<<32-v:w.i(S+E);return new s(b,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ly=VS.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,nr=VS.Integer=s}).apply(typeof OS<"u"?OS:typeof self<"u"?self:typeof window<"u"?window:{});var Qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rr={};var Uy,K2,rs,jy,Ic,Yd,By,$y,Hy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,f){return a==Array.prototype||a==Object.prototype||(a[d]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qd=="object"&&Qd];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var f=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var T=a[g];if(!(T in f))break e;f=f[T]}a=a[a.length-1],g=f[a],d=d(g),d!=g&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var f=0,g=!1,T={next:function(){if(!g&&f<a.length){var A=f++;return{value:d(A,a[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,f){return f})}});var s=s||{},c=this||self;function l(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function u(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,f){return a.call.apply(a.bind,arguments)}function p(a,d,f){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),a.apply(d,T)}}return function(){return a.apply(d,arguments)}}function y(a,d,f){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function m(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function C(a,d){function f(){}f.prototype=d.prototype,a.aa=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(g,T,A){for(var L=Array(arguments.length-2),be=2;be<arguments.length;be++)L[be-2]=arguments[be];return d.prototype[T].apply(g,L)}}function M(a){let d=a.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=a[g];return f}return[]}function R(a,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(l(g)){let T=a.length||0,A=g.length||0;a.length=T+A;for(let L=0;L<A;L++)a[T+L]=g[L]}else a.push(g)}}class U{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function K(a){return/^[\s\xa0]*$/.test(a)}function ne(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function De(a){return De[" "](a),a}De[" "]=function(){};var mt=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function Ie(a,d,f){for(let g in a)d.call(f,a[g],g,a)}function w(a,d){for(let f in a)d.call(void 0,a[f],f,a)}function v(a){let d={};for(let f in a)d[f]=a[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,d){let f,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(f in g)a[f]=g[f];for(let A=0;A<E.length;A++)f=E[A],Object.prototype.hasOwnProperty.call(g,f)&&(a[f]=g[f])}}function b(a){var d=1;a=a.split(":");let f=[];for(;0<d&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function S(a){c.setTimeout(()=>{throw a},0)}function _(){var a=af;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Vn{constructor(){this.h=this.g=null}add(d,f){let g=Ms.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Ms=new U(()=>new vR,a=>a.reset());class vR{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ns,xs=!1,af=new Vn,cE=()=>{let a=c.Promise.resolve(void 0);Ns=()=>{a.then(_R)}};var _R=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(f){S(f)}var d=Ms;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}xs=!1};function fr(){this.s=this.s,this.C=this.C}fr.prototype.s=!1,fr.prototype.ma=function(){this.s||(this.s=!0,this.N())},fr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ct(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}ct.prototype.h=function(){this.defaultPrevented=!0};var ER=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};c.addEventListener("test",f,d),c.removeEventListener("test",f,d)}catch{}return a}();function Ps(a,d){if(ct.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(mt){e:{try{De(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:IR[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ps.aa.h.call(this)}}C(Ps,ct);var IR={2:"touch",3:"pen",4:"mouse"};Ps.prototype.h=function(){Ps.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ks="closure_listenable_"+(1e6*Math.random()|0),wR=0;function bR(a,d,f,g,T){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=T,this.key=++wR,this.da=this.fa=!1}function $c(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Hc(a){this.src=a,this.g={},this.h=0}Hc.prototype.add=function(a,d,f,g,T){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var L=lf(a,d,g,T);return-1<L?(d=a[L],f||(d.fa=!1)):(d=new bR(d,this.src,A,!!g,T),d.fa=f,a.push(d)),d};function cf(a,d){var f=d.type;if(f in a.g){var g=a.g[f],T=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=T)&&Array.prototype.splice.call(g,T,1),A&&($c(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function lf(a,d,f,g){for(var T=0;T<a.length;++T){var A=a[T];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return T}return-1}var uf="closure_lm_"+(1e6*Math.random()|0),df={};function lE(a,d,f,g,T){if(g&&g.once)return dE(a,d,f,g,T);if(Array.isArray(d)){for(var A=0;A<d.length;A++)lE(a,d[A],f,g,T);return null}return f=gf(f),a&&a[ks]?a.K(d,f,u(g)?!!g.capture:!!g,T):uE(a,d,f,!1,g,T)}function uE(a,d,f,g,T,A){if(!d)throw Error("Invalid event type");var L=u(T)?!!T.capture:!!T,be=ff(a);if(be||(a[uf]=be=new Hc(a)),f=be.add(d,f,g,L,A),f.proxy)return f;if(g=TR(),f.proxy=g,g.src=a,g.listener=f,a.addEventListener)ER||(T=L),T===void 0&&(T=!1),a.addEventListener(d.toString(),g,T);else if(a.attachEvent)a.attachEvent(fE(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function TR(){function a(f){return d.call(a.src,a.listener,f)}let d=CR;return a}function dE(a,d,f,g,T){if(Array.isArray(d)){for(var A=0;A<d.length;A++)dE(a,d[A],f,g,T);return null}return f=gf(f),a&&a[ks]?a.L(d,f,u(g)?!!g.capture:!!g,T):uE(a,d,f,!0,g,T)}function hE(a,d,f,g,T){if(Array.isArray(d))for(var A=0;A<d.length;A++)hE(a,d[A],f,g,T);else g=u(g)?!!g.capture:!!g,f=gf(f),a&&a[ks]?(a=a.i,d=String(d).toString(),d in a.g&&(A=a.g[d],f=lf(A,f,g,T),-1<f&&($c(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete a.g[d],a.h--)))):a&&(a=ff(a))&&(d=a.g[d.toString()],a=-1,d&&(a=lf(d,f,g,T)),(f=-1<a?d[a]:null)&&hf(f))}function hf(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[ks])cf(d.i,a);else{var f=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(f,g,a.capture):d.detachEvent?d.detachEvent(fE(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=ff(d))?(cf(f,a),f.h==0&&(f.src=null,d[uf]=null)):$c(a)}}}function fE(a){return a in df?df[a]:df[a]="on"+a}function CR(a,d){if(a.da)a=!0;else{d=new Ps(d,this);var f=a.listener,g=a.ha||a.src;a.fa&&hf(a),a=f.call(g,d)}return a}function ff(a){return a=a[uf],a instanceof Hc?a:null}var pf="__closure_events_fn_"+(1e9*Math.random()>>>0);function gf(a){return typeof a=="function"?a:(a[pf]||(a[pf]=function(d){return a.handleEvent(d)}),a[pf])}function lt(){fr.call(this),this.i=new Hc(this),this.M=this,this.F=null}C(lt,fr),lt.prototype[ks]=!0,lt.prototype.removeEventListener=function(a,d,f,g){hE(this,a,d,f,g)};function yt(a,d){var f,g=a.F;if(g)for(f=[];g;g=g.F)f.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new ct(d,a);else if(d instanceof ct)d.target=d.target||a;else{var T=d;d=new ct(g,a),I(d,T)}if(T=!0,f)for(var A=f.length-1;0<=A;A--){var L=d.g=f[A];T=qc(L,g,!0,d)&&T}if(L=d.g=a,T=qc(L,g,!0,d)&&T,T=qc(L,g,!1,d)&&T,f)for(A=0;A<f.length;A++)L=d.g=f[A],T=qc(L,g,!1,d)&&T}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var f=a.g[d],g=0;g<f.length;g++)$c(f[g]);delete a.g[d],a.h--}}this.F=null},lt.prototype.K=function(a,d,f,g){return this.i.add(String(a),d,!1,f,g)},lt.prototype.L=function(a,d,f,g){return this.i.add(String(a),d,!0,f,g)};function qc(a,d,f,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,A=0;A<d.length;++A){var L=d[A];if(L&&!L.da&&L.capture==f){var be=L.listener,rt=L.ha||L.src;L.fa&&cf(a.i,L),T=be.call(rt,g)!==!1&&T}}return T&&!g.defaultPrevented}function pE(a,d,f){if(typeof a=="function")f&&(a=y(a,f));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function gE(a){a.g=pE(()=>{a.g=null,a.i&&(a.i=!1,gE(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class SR extends fr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:gE(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Os(a){fr.call(this),this.h=a,this.g={}}C(Os,fr);var mE=[];function yE(a){Ie(a.g,function(d,f){this.g.hasOwnProperty(f)&&hf(d)},a),a.g={}}Os.prototype.N=function(){Os.aa.N.call(this),yE(this)},Os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mf=c.JSON.stringify,DR=c.JSON.parse,AR=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function yf(){}yf.prototype.h=null;function vE(a){return a.h||(a.h=a.i())}function _E(){}var Vs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vf(){ct.call(this,"d")}C(vf,ct);function _f(){ct.call(this,"c")}C(_f,ct);var Gr={},EE=null;function zc(){return EE=EE||new lt}Gr.La="serverreachability";function IE(a){ct.call(this,Gr.La,a)}C(IE,ct);function Fs(a){let d=zc();yt(d,new IE(d))}Gr.STAT_EVENT="statevent";function wE(a,d){ct.call(this,Gr.STAT_EVENT,a),this.stat=d}C(wE,ct);function vt(a){let d=zc();yt(d,new wE(d,a))}Gr.Ma="timingevent";function bE(a,d){ct.call(this,Gr.Ma,a),this.size=d}C(bE,ct);function Ls(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Us(){this.g=!0}Us.prototype.xa=function(){this.g=!1};function RR(a,d,f,g,T,A){a.info(function(){if(a.g)if(A)for(var L="",be=A.split("&"),rt=0;rt<be.length;rt++){var ye=be[rt].split("=");if(1<ye.length){var ut=ye[0];ye=ye[1];var dt=ut.split("_");L=2<=dt.length&&dt[1]=="type"?L+(ut+"="+ye+"&"):L+(ut+"=redacted&")}}else L=null;else L=A;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+f+`
`+L})}function MR(a,d,f,g,T,A,L){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+f+`
`+A+" "+L})}function Qi(a,d,f,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+xR(a,f)+(g?" "+g:"")})}function NR(a,d){a.info(function(){return"TIMEOUT: "+d})}Us.prototype.info=function(){};function xR(a,d){if(!a.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var g=f[a];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var A=T[0];if(A!="noop"&&A!="stop"&&A!="close")for(var L=1;L<T.length;L++)T[L]=""}}}}return mf(f)}catch{return d}}var Wc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},TE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ef;function Gc(){}C(Gc,yf),Gc.prototype.g=function(){return new XMLHttpRequest},Gc.prototype.i=function(){return{}},Ef=new Gc;function pr(a,d,f,g){this.j=a,this.i=d,this.l=f,this.R=g||1,this.U=new Os(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new CE}function CE(){this.i=null,this.g="",this.h=!1}var SE={},If={};function wf(a,d,f){a.L=1,a.v=Jc(Fn(d)),a.m=f,a.P=!0,DE(a,null)}function DE(a,d){a.F=Date.now(),Kc(a),a.A=Fn(a.v);var f=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),BE(f.i,"t",g),a.C=0,f=a.j.J,a.h=new CE,a.g=oI(a.j,f?d:null,!a.m),0<a.O&&(a.M=new SR(y(a.Y,a,a.g),a.O)),d=a.U,f=a.g,g=a.ca;var T="readystatechange";Array.isArray(T)||(T&&(mE[0]=T.toString()),T=mE);for(var A=0;A<T.length;A++){var L=lE(f,T[A],g||d.handleEvent,!1,d.h||d);if(!L)break;d.g[L.key]=L}d=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Fs(),RR(a.i,a.u,a.A,a.l,a.R,a.m)}pr.prototype.ca=function(a){a=a.target;let d=this.M;d&&Ln(a)==3?d.j():this.Y(a)},pr.prototype.Y=function(a){try{if(a==this.g)e:{let dt=Ln(this.g);var d=this.g.Ba();let Zi=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||KE(this.g)))){this.J||dt!=4||d==7||(d==8||0>=Zi?Fs(3):Fs(2)),bf(this);var f=this.g.Z();this.X=f;t:if(AE(this)){var g=KE(this.g);a="";var T=g.length,A=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kr(this),js(this);var L="";break t}this.h.i=new c.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(A&&d==T-1)});g.length=0,this.h.g+=a,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=f==200,MR(this.i,this.u,this.A,this.l,this.R,dt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var be,rt=this.g;if((be=rt.g?rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(be)){var ye=be;break t}}ye=null}if(f=ye)Qi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tf(this,f);else{this.o=!1,this.s=3,vt(12),Kr(this),js(this);break e}}if(this.P){f=!0;let nn;for(;!this.J&&this.C<L.length;)if(nn=PR(this,L),nn==If){dt==4&&(this.s=4,vt(14),f=!1),Qi(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==SE){this.s=4,vt(15),Qi(this.i,this.l,L,"[Invalid Chunk]"),f=!1;break}else Qi(this.i,this.l,nn,null),Tf(this,nn);if(AE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||L.length!=0||this.h.h||(this.s=1,vt(16),f=!1),this.o=this.o&&f,!f)Qi(this.i,this.l,L,"[Invalid Chunked Response]"),Kr(this),js(this);else if(0<L.length&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.ba&&!ut.M&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),Mf(ut),ut.M=!0,vt(11))}}else Qi(this.i,this.l,L,null),Tf(this,L);dt==4&&Kr(this),this.o&&!this.J&&(dt==4?tI(this.j,this):(this.o=!1,Kc(this)))}else YR(this.g),f==400&&0<L.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),Kr(this),js(this)}}}catch{}finally{}};function AE(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function PR(a,d){var f=a.C,g=d.indexOf(`
`,f);return g==-1?If:(f=Number(d.substring(f,g)),isNaN(f)?SE:(g+=1,g+f>d.length?If:(d=d.slice(g,g+f),a.C=g+f,d)))}pr.prototype.cancel=function(){this.J=!0,Kr(this)};function Kc(a){a.S=Date.now()+a.I,RE(a,a.I)}function RE(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Ls(y(a.ba,a),d)}function bf(a){a.B&&(c.clearTimeout(a.B),a.B=null)}pr.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(NR(this.i,this.A),this.L!=2&&(Fs(),vt(17)),Kr(this),this.s=2,js(this)):RE(this,this.S-a)};function js(a){a.j.G==0||a.J||tI(a.j,a)}function Kr(a){bf(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,yE(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Tf(a,d){try{var f=a.j;if(f.G!=0&&(f.g==a||Cf(f.h,a))){if(!a.K&&Cf(f.h,a)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)nl(f),el(f);else break e;Rf(f),vt(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ls(y(f.Za,f),6e3));if(1>=xE(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Yr(f,11)}else if((a.K||f.g==a)&&nl(f),!K(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let ye=T[d];if(f.T=ye[0],ye=ye[1],f.G==2)if(ye[0]=="c"){f.K=ye[1],f.ia=ye[2];let ut=ye[3];ut!=null&&(f.la=ut,f.j.info("VER="+f.la));let dt=ye[4];dt!=null&&(f.Aa=dt,f.j.info("SVER="+f.Aa));let Zi=ye[5];Zi!=null&&typeof Zi=="number"&&0<Zi&&(g=1.5*Zi,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let nn=a.g;if(nn){let il=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(il){var A=g.h;A.g||il.indexOf("spdy")==-1&&il.indexOf("quic")==-1&&il.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Sf(A,A.h),A.h=null))}if(g.D){let Nf=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Nf&&(g.ya=Nf,Ae(g.I,g.D,Nf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var L=a;if(g.qa=iI(g,g.J?g.ia:null,g.W),L.K){PE(g.h,L);var be=L,rt=g.L;rt&&(be.I=rt),be.B&&(bf(be),Kc(be)),g.g=L}else XE(g);0<f.i.length&&tl(f)}else ye[0]!="stop"&&ye[0]!="close"||Yr(f,7);else f.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Yr(f,7):Af(f):ye[0]!="noop"&&f.l&&f.l.ta(ye),f.v=0)}}Fs(4)}catch{}}var kR=class{constructor(a,d){this.g=a,this.map=d}};function ME(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function NE(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function xE(a){return a.h?1:a.g?a.g.size:0}function Cf(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Sf(a,d){a.g?a.g.add(d):a.h=d}function PE(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}ME.prototype.cancel=function(){if(this.i=kE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function kE(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let f of a.g.values())d=d.concat(f.D);return d}return M(a.i)}function OR(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(l(a)){for(var d=[],f=a.length,g=0;g<f;g++)d.push(a[g]);return d}d=[],f=0;for(g in a)d[f++]=a[g];return d}function VR(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(l(a)||typeof a=="string"){var d=[];a=a.length;for(var f=0;f<a;f++)d.push(f);return d}d=[],f=0;for(let g in a)d[f++]=g;return d}}}function OE(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(l(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var f=VR(a),g=OR(a),T=g.length,A=0;A<T;A++)d.call(void 0,g[A],f&&f[A],a)}var VE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FR(a,d){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var g=a[f].indexOf("="),T=null;if(0<=g){var A=a[f].substring(0,g);T=a[f].substring(g+1)}else A=a[f];d(A,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function Qr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Qr){this.h=a.h,Qc(this,a.j),this.o=a.o,this.g=a.g,Yc(this,a.s),this.l=a.l;var d=a.i,f=new Hs;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),FE(this,f),this.m=a.m}else a&&(d=String(a).match(VE))?(this.h=!1,Qc(this,d[1]||"",!0),this.o=Bs(d[2]||""),this.g=Bs(d[3]||"",!0),Yc(this,d[4]),this.l=Bs(d[5]||"",!0),FE(this,d[6]||"",!0),this.m=Bs(d[7]||"")):(this.h=!1,this.i=new Hs(null,this.h))}Qr.prototype.toString=function(){var a=[],d=this.j;d&&a.push($s(d,LE,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push($s(d,LE,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push($s(f,f.charAt(0)=="/"?jR:UR,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",$s(f,$R)),a.join("")};function Fn(a){return new Qr(a)}function Qc(a,d,f){a.j=f?Bs(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Yc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function FE(a,d,f){d instanceof Hs?(a.i=d,HR(a.i,a.h)):(f||(d=$s(d,BR)),a.i=new Hs(d,a.h))}function Ae(a,d,f){a.i.set(d,f)}function Jc(a){return Ae(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Bs(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function $s(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,LR),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function LR(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var LE=/[#\/\?@]/g,UR=/[#\?:]/g,jR=/[#\?]/g,BR=/[#\?@]/g,$R=/#/g;function Hs(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function gr(a){a.g||(a.g=new Map,a.h=0,a.i&&FR(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Hs.prototype,t.add=function(a,d){gr(this),this.i=null,a=Yi(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function UE(a,d){gr(a),d=Yi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function jE(a,d){return gr(a),d=Yi(a,d),a.g.has(d)}t.forEach=function(a,d){gr(this),this.g.forEach(function(f,g){f.forEach(function(T){a.call(d,T,g,this)},this)},this)},t.na=function(){gr(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let T=a[g];for(let A=0;A<T.length;A++)f.push(d[g])}return f},t.V=function(a){gr(this);let d=[];if(typeof a=="string")jE(this,a)&&(d=d.concat(this.g.get(Yi(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)d=d.concat(a[f])}return d},t.set=function(a,d){return gr(this),this.i=null,a=Yi(this,a),jE(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function BE(a,d,f){UE(a,d),0<f.length&&(a.i=null,a.g.set(Yi(a,d),M(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),L=this.V(g);for(g=0;g<L.length;g++){var T=A;L[g]!==""&&(T+="="+encodeURIComponent(String(L[g]))),a.push(T)}}return this.i=a.join("&")};function Yi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function HR(a,d){d&&!a.j&&(gr(a),a.i=null,a.g.forEach(function(f,g){var T=g.toLowerCase();g!=T&&(UE(this,g),BE(this,T,f))},a)),a.j=d}function qR(a,d){let f=new Us;if(c.Image){let g=new Image;g.onload=m(mr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=m(mr,f,"TestLoadImage: error",!1,d,g),g.onabort=m(mr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=m(mr,f,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function zR(a,d){let f=new Us,g=new AbortController,T=setTimeout(()=>{g.abort(),mr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(A=>{clearTimeout(T),A.ok?mr(f,"TestPingServer: ok",!0,d):mr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),mr(f,"TestPingServer: error",!1,d)})}function mr(a,d,f,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(f)}catch{}}function WR(){this.g=new AR}function GR(a,d,f){let g=f||"";try{OE(a,function(T,A){let L=T;u(T)&&(L=mf(T)),d.push(g+A+"="+encodeURIComponent(L))})}catch(T){throw d.push(g+"type="+encodeURIComponent("_badmap")),T}}function qs(a){this.l=a.Ub||null,this.j=a.eb||!1}C(qs,yf),qs.prototype.g=function(){return new Zc(this.l,this.j)},qs.prototype.i=function(a){return function(){return a}}({});function Zc(a,d){lt.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Zc,lt),t=Zc.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Ws(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ws(this)),this.g&&(this.readyState=3,Ws(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$E(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function $E(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?zs(this):Ws(this),this.readyState==3&&$E(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,zs(this))},t.Qa=function(a){this.g&&(this.response=a,zs(this))},t.ga=function(){this.g&&zs(this)};function zs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ws(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function Ws(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Zc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function HE(a){let d="";return Ie(a,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Df(a,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=HE(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):Ae(a,d,f))}function xe(a){lt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(xe,lt);var KR=/^https?$/i,QR=["POST","PUT"];t=xe.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ef.g(),this.v=this.o?vE(this.o):vE(Ef),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(A){qE(this,A);return}if(a=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)f.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),T=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(QR,d,void 0))||g||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,L]of f)this.g.setRequestHeader(A,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{GE(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){qE(this,A)}};function qE(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,zE(a),Xc(a)}function zE(a){a.A||(a.A=!0,yt(a,"complete"),yt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,yt(this,"complete"),yt(this,"abort"),Xc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xc(this,!0)),xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?WE(this):this.bb())},t.bb=function(){WE(this)};function WE(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Ln(a)!=4||a.Z()!=2)){if(a.u&&Ln(a)==4)pE(a.Ea,0,a);else if(yt(a,"readystatechange"),Ln(a)==4){a.h=!1;try{let L=a.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=L===0){var T=String(a.D).match(VE)[1]||null;!T&&c.self&&c.self.location&&(T=c.self.location.protocol.slice(0,-1)),g=!KR.test(T?T.toLowerCase():"")}f=g}if(f)yt(a,"complete"),yt(a,"success");else{a.m=6;try{var A=2<Ln(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",zE(a)}}finally{Xc(a)}}}}function Xc(a,d){if(a.g){GE(a);let f=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||yt(a,"ready");try{f.onreadystatechange=g}catch{}}}function GE(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Ln(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),DR(d)}};function KE(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function YR(a){let d={};a=(a.g&&2<=Ln(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(K(a[g]))continue;var f=b(a[g]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[T]||[];d[T]=A,A.push(f)}w(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gs(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function QE(a){this.Aa=0,this.i=[],this.j=new Us,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gs("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gs("baseRetryDelayMs",5e3,a),this.cb=Gs("retryDelaySeedMs",1e4,a),this.Wa=Gs("forwardChannelMaxRetries",2,a),this.wa=Gs("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new ME(a&&a.concurrentRequestLimit),this.Da=new WR,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=QE.prototype,t.la=8,t.G=1,t.connect=function(a,d,f,g){vt(0),this.W=a,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=iI(this,null,this.W),tl(this)};function Af(a){if(YE(a),a.G==3){var d=a.U++,f=Fn(a.I);if(Ae(f,"SID",a.K),Ae(f,"RID",d),Ae(f,"TYPE","terminate"),Ks(a,f),d=new pr(a,a.j,d),d.L=2,d.v=Jc(Fn(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=d.v,f=!0),f||(d.g=oI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Kc(d)}rI(a)}function el(a){a.g&&(Mf(a),a.g.cancel(),a.g=null)}function YE(a){el(a),a.u&&(c.clearTimeout(a.u),a.u=null),nl(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function tl(a){if(!NE(a.h)&&!a.s){a.s=!0;var d=a.Ga;Ns||cE(),xs||(Ns(),xs=!0),af.add(d,a),a.B=0}}function JR(a,d){return xE(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Ls(y(a.Ga,a,d),nI(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let T=new pr(this,this.j,a),A=this.o;if(this.S&&(A?(A=v(A),I(A,this.S)):A=this.S),this.m!==null||this.O||(T.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=ZE(this,T,d),f=Fn(this.I),Ae(f,"RID",a),Ae(f,"CVER",22),this.D&&Ae(f,"X-HTTP-Session-Id",this.D),Ks(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(HE(A)))+"&"+d:this.m&&Df(f,this.m,A)),Sf(this.h,T),this.Ua&&Ae(f,"TYPE","init"),this.P?(Ae(f,"$req",d),Ae(f,"SID","null"),T.T=!0,wf(T,f,null)):wf(T,f,d),this.G=2}}else this.G==3&&(a?JE(this,a):this.i.length==0||NE(this.h)||JE(this))};function JE(a,d){var f;d?f=d.l:f=a.U++;let g=Fn(a.I);Ae(g,"SID",a.K),Ae(g,"RID",f),Ae(g,"AID",a.T),Ks(a,g),a.m&&a.o&&Df(g,a.m,a.o),f=new pr(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),d&&(a.i=d.D.concat(a.i)),d=ZE(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Sf(a.h,f),wf(f,g,d)}function Ks(a,d){a.H&&Ie(a.H,function(f,g){Ae(d,g,f)}),a.l&&OE({},function(f,g){Ae(d,g,f)})}function ZE(a,d,f){f=Math.min(a.i.length,f);var g=a.l?y(a.l.Na,a.l,a):null;e:{var T=a.i;let A=-1;for(;;){let L=["count="+f];A==-1?0<f?(A=T[0].g,L.push("ofs="+A)):A=0:L.push("ofs="+A);let be=!0;for(let rt=0;rt<f;rt++){let ye=T[rt].g,ut=T[rt].map;if(ye-=A,0>ye)A=Math.max(0,T[rt].g-100),be=!1;else try{GR(ut,L,"req"+ye+"_")}catch{g&&g(ut)}}if(be){g=L.join("&");break e}}}return a=a.i.splice(0,f),d.D=a,g}function XE(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Ns||cE(),xs||(Ns(),xs=!0),af.add(d,a),a.v=0}}function Rf(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Ls(y(a.Fa,a),nI(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,eI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Ls(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),el(this),eI(this))};function Mf(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function eI(a){a.g=new pr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Fn(a.qa);Ae(d,"RID","rpc"),Ae(d,"SID",a.K),Ae(d,"AID",a.T),Ae(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ae(d,"TO",a.ja),Ae(d,"TYPE","xmlhttp"),Ks(a,d),a.m&&a.o&&Df(d,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=Jc(Fn(d)),f.m=null,f.P=!0,DE(f,a)}t.Za=function(){this.C!=null&&(this.C=null,el(this),Rf(this),vt(19))};function nl(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function tI(a,d){var f=null;if(a.g==d){nl(a),Mf(a),a.g=null;var g=2}else if(Cf(a.h,d))f=d.D,PE(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=a.B;g=zc(),yt(g,new bE(g,f)),tl(a)}else XE(a);else if(T=d.s,T==3||T==0&&0<d.X||!(g==1&&JR(a,d)||g==2&&Rf(a)))switch(f&&0<f.length&&(d=a.h,d.i=d.i.concat(f)),T){case 1:Yr(a,5);break;case 4:Yr(a,10);break;case 3:Yr(a,6);break;default:Yr(a,2)}}}function nI(a,d){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*d}function Yr(a,d){if(a.j.info("Error code "+d),d==2){var f=y(a.fb,a),g=a.Xa;let T=!g;g=new Qr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Qc(g,"https"),Jc(g),T?qR(g.toString(),f):zR(g.toString(),f)}else vt(2);a.G=0,a.l&&a.l.sa(d),rI(a),YE(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function rI(a){if(a.G=0,a.ka=[],a.l){let d=kE(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function iI(a,d,f){var g=f instanceof Qr?Fn(f):new Qr(f);if(g.g!="")d&&(g.g=d+"."+g.g),Yc(g,g.s);else{var T=c.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var A=new Qr(null);g&&Qc(A,g),d&&(A.g=d),T&&Yc(A,T),f&&(A.l=f),g=A}return f=a.D,d=a.ya,f&&d&&Ae(g,f,d),Ae(g,"VER",a.la),Ks(a,g),g}function oI(a,d,f){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new xe(new qs({eb:f})):new xe(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sI(){}t=sI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function rl(){}rl.prototype.g=function(a,d){return new kt(a,d)};function kt(a,d){lt.call(this),this.g=new QE(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!K(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!K(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Ji(this)}C(kt,lt),kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){Af(this.g)},kt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=mf(a),a=f);d.i.push(new kR(d.Ya++,a)),d.G==3&&tl(d)},kt.prototype.N=function(){this.g.l=null,delete this.j,Af(this.g),delete this.g,kt.aa.N.call(this)};function aI(a){vf.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}C(aI,vf);function cI(){_f.call(this),this.status=1}C(cI,_f);function Ji(a){this.g=a}C(Ji,sI),Ji.prototype.ua=function(){yt(this.g,"a")},Ji.prototype.ta=function(a){yt(this.g,new aI(a))},Ji.prototype.sa=function(a){yt(this.g,new cI)},Ji.prototype.ra=function(){yt(this.g,"b")},rl.prototype.createWebChannel=rl.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,Hy=rr.createWebChannelTransport=function(){return new rl},$y=rr.getStatEventTarget=function(){return zc()},By=rr.Event=Gr,Yd=rr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wc.NO_ERROR=0,Wc.TIMEOUT=8,Wc.HTTP_ERROR=6,Ic=rr.ErrorCode=Wc,TE.COMPLETE="complete",jy=rr.EventType=TE,_E.EventType=Vs,Vs.OPEN="a",Vs.CLOSE="b",Vs.ERROR="c",Vs.MESSAGE="d",lt.prototype.listen=lt.prototype.K,rs=rr.WebChannel=_E,K2=rr.FetchXmlHttpFactory=qs,xe.prototype.listenOnce=xe.prototype.L,xe.prototype.getLastError=xe.prototype.Ka,xe.prototype.getLastErrorCode=xe.prototype.Ba,xe.prototype.getStatus=xe.prototype.Z,xe.prototype.getResponseJson=xe.prototype.Oa,xe.prototype.getResponseText=xe.prototype.oa,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Ha,Uy=rr.XhrIo=xe}).apply(typeof Qd<"u"?Qd:typeof self<"u"?self:typeof window<"u"?window:{});var FS="@firebase/firestore",LS="4.7.11";var tt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};tt.UNAUTHENTICATED=new tt(null),tt.GOOGLE_CREDENTIALS=new tt("google-credentials-uid"),tt.FIRST_PARTY=new tt("first-party-uid"),tt.MOCK_USER=new tt("mock-user");var Ss="11.6.1";var Bi=new An("@firebase/firestore");function is(){return Bi.logLevel}function j(t,...e){if(Bi.logLevel<=he.DEBUG){let n=e.map(N_);Bi.debug(`Firestore (${Ss}): ${t}`,...n)}}function ar(t,...e){if(Bi.logLevel<=he.ERROR){let n=e.map(N_);Bi.error(`Firestore (${Ss}): ${t}`,...n)}}function ds(t,...e){if(Bi.logLevel<=he.WARN){let n=e.map(N_);Bi.warn(`Firestore (${Ss}): ${t}`,...n)}}function N_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function z(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,AD(t,r,n)}function AD(t,e,n){let r=`FIRESTORE (${Ss}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ar(r),new Error(r)}function Ee(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||AD(e,i,r)}function J(t,e){return t}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends Zt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ir=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var rh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Ky=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tt.UNAUTHENTICATED))}shutdown(){}},Qy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Yy=class{constructor(e){this.t=e,this.currentUser=tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ee(this.o===void 0,42304);let r=this.i,i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve(),o=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ir,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>D(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},c=l=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ir)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string",31837,{l:r}),new rh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string",2055,{h:e}),new tt(e)}},Jy=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=tt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Zy=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Jy(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ih=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Xy=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ee(this.o===void 0,3512);let r=o=>{o.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ih(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ih(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Q2(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function RD(){return new TextEncoder}var oh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=Q2(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function ae(t,e){return t<e?-1:t>e?1:0}function ev(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ae(r,i);{let o=RD(),s=Y2(o.encode(US(t,n)),o.encode(US(e,n)));return s!==0?s:ae(r,i)}}n+=r>65535?2:1}return ae(t.length,e.length)}function US(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Y2(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ae(t[n],e[n]);return ae(t.length,e.length)}function hs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var jS=-62135596800,BS=1e6,at=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*BS);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jS)throw new H(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BS}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-jS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var X=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new at(0,0))}static max(){return new t(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var $S="__name__",sh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&z(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&z(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ae(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):ev(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return nr.fromString(e.substring(4,e.length-2))}},ke=class t extends sh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},J2=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Bt=class t extends sh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return J2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$S}static keyField(){return new t([$S])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new H(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new H(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new H(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var W=class t{constructor(e){this.path=e}static fromPath(e){return new t(ke.fromString(e))}static fromName(e){return new t(ke.fromString(e).popFirst(5))}static empty(){return new t(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ke(e.slice()))}};var Dc=-1,tv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};tv.UNKNOWN_ID=-1;function Z2(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new $i(i,W.empty(),e)}function X2(t){return new $i(t.readTime,t.key,Dc)}var $i=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(X.min(),W.empty(),Dc)}static max(){return new t(X.max(),W.empty(),Dc)}};function ej(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}var tj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",nv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ds(t){return D(this,null,function*(){if(t.code!==O.FAILED_PRECONDITION||t.message!==tj)throw t;j("LocalStore","Unexpectedly lost primary lease")})}var k=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let l=0;l<o;l++){let u=l;n(e[u]).next(h=>{s[u]=h,++c,c===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function nj(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function As(t){return t.name==="IndexedDbTransactionError"}var x_=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ce&&this.ce(n),n}}t.le=-1;return t})(),P_=-1;function Lh(t){return t==null}function Ac(t){return t===0&&1/t==-1/0}function rj(t){return typeof t=="number"&&Number.isInteger(t)&&!Ac(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var MD="";function ij(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=HS(e)),e=oj(t.get(n),e);return HS(e)}function oj(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case MD:n+="";break;default:n+=o}}return n}function HS(t){return t+MD+""}var sj="remoteDocuments",ND="owner";var xD="mutationQueues";var PD="mutations";var kD="documentMutations",aj="remoteDocumentsV14";var OD="remoteDocumentGlobal";var VD="targets";var FD="targetDocuments";var LD="targetGlobal",UD="collectionParents";var jD="clientMetadata";var BD="bundles";var $D="namedQueries";var cj="indexConfiguration";var lj="indexState";var uj="indexEntries";var HD="documentOverlays";var dj="globals";var hj=[xD,PD,kD,sj,VD,ND,LD,FD,jD,OD,UD,BD,$D],Y8=[...hj,HD],fj=[xD,PD,kD,aj,VD,ND,LD,FD,jD,OD,UD,BD,$D,HD],pj=fj,gj=[...pj,cj,lj,uj];var J8=[...gj,dj];function qS(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qD(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Oe=class t{constructor(e,n){this.comparator=e,this.root=n||Mn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cs(this.root,e,this.comparator,!1)}getReverseIterator(){return new cs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cs(this.root,e,this.comparator,!0)}},cs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Mn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw z(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw z(27949);return e+(this.isRed()?0:1)}};Mn.EMPTY=null,Mn.RED=!0,Mn.BLACK=!1;Mn.EMPTY=new class{constructor(){this.size=0}get key(){throw z(57766)}get value(){throw z(16141)}get color(){throw z(16727)}get left(){throw z(29726)}get right(){throw z(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var nt=class t{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ah(this.data.getIterator())}getIteratorFrom(e){return new ah(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ah=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var en=class t{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new t([])}unionWith(e){let n=new nt(Bt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var ch=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var gt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ch("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};gt.EMPTY_BYTE_STRING=new gt("");var mj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(t){if(Ee(!!t,39018),typeof t=="string"){let e=0,n=mj.exec(t);if(Ee(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Me(t.seconds),nanos:Me(t.nanos)}}function Me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function lr(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}var zD="server_timestamp",WD="__type__",GD="__previous_value__",KD="__local_write_time__";function k_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[WD])===null||n===void 0?void 0:n.stringValue)===zD}function Uh(t){let e=t.mapValue.fields[GD];return k_(e)?Uh(e):e}function Rc(t){let e=cr(t.mapValue.fields[KD].timestampValue);return new at(e.seconds,e.nanos)}var rv=class{constructor(e,n,r,i,o,s,c,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=u}},lh="(default)",uh=class t{constructor(e,n){this.projectId=e,this.database=n||lh}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===lh}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var O_="__type__",QD="__max__",Jd={mapValue:{fields:{__type__:{stringValue:QD}}}},V_="__vector__",fs="value";function Br(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?k_(t)?4:JD(t)?9007199254740991:YD(t)?10:11:z(28295,{value:t})}function Pn(t,e){if(t===e)return!0;let n=Br(t);if(n!==Br(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rc(t).isEqual(Rc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=cr(i.timestampValue),c=cr(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return lr(i.bytesValue).isEqual(lr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Me(i.geoPointValue.latitude)===Me(o.geoPointValue.latitude)&&Me(i.geoPointValue.longitude)===Me(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Me(i.integerValue)===Me(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Me(i.doubleValue),c=Me(o.doubleValue);return s===c?Ac(s)===Ac(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return hs(t.arrayValue.values||[],e.arrayValue.values||[],Pn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(qS(s)!==qS(c))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(c[l]===void 0||!Pn(s[l],c[l])))return!1;return!0}(t,e);default:return z(52216,{left:t})}}function Mc(t,e){return(t.values||[]).find(n=>Pn(n,e))!==void 0}function ps(t,e){if(t===e)return 0;let n=Br(t),r=Br(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=Me(o.integerValue||o.doubleValue),l=Me(s.integerValue||s.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(t,e);case 3:return zS(t.timestampValue,e.timestampValue);case 4:return zS(Rc(t),Rc(e));case 5:return ev(t.stringValue,e.stringValue);case 6:return function(o,s){let c=lr(o),l=lr(s);return c.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),l=s.split("/");for(let u=0;u<c.length&&u<l.length;u++){let h=ae(c[u],l[u]);if(h!==0)return h}return ae(c.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=ae(Me(o.latitude),Me(s.latitude));return c!==0?c:ae(Me(o.longitude),Me(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return WS(t.arrayValue,e.arrayValue);case 10:return function(o,s){var c,l,u,h;let p=o.fields||{},y=s.fields||{},m=(c=p[fs])===null||c===void 0?void 0:c.arrayValue,C=(l=y[fs])===null||l===void 0?void 0:l.arrayValue,M=ae(((u=m?.values)===null||u===void 0?void 0:u.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:WS(m,C)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Jd.mapValue&&s===Jd.mapValue)return 0;if(o===Jd.mapValue)return 1;if(s===Jd.mapValue)return-1;let c=o.fields||{},l=Object.keys(c),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){let y=ev(l[p],h[p]);if(y!==0)return y;let m=ps(c[l[p]],u[h[p]]);if(m!==0)return m}return ae(l.length,h.length)}(t.mapValue,e.mapValue);default:throw z(23264,{Pe:n})}}function zS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);let n=cr(t),r=cr(e),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function WS(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ps(n[i],r[i]);if(o)return o}return ae(n.length,r.length)}function gs(t){return iv(t)}function iv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=cr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return lr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return W.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=iv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${iv(n.fields[s])}`;return i+"}"}(t.mapValue):z(61005,{value:t})}function eh(t){switch(Br(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Uh(t);return e?16+eh(e):16;case 5:return 2*t.stringValue.length;case 6:return lr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+eh(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return zr(r.fields,(o,s)=>{i+=o.length+eh(s)}),i}(t.mapValue);default:throw z(13486,{value:t})}}function ov(t){return!!t&&"integerValue"in t}function F_(t){return!!t&&"arrayValue"in t}function GS(t){return!!t&&"nullValue"in t}function KS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function th(t){return!!t&&"mapValue"in t}function YD(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[O_])===null||n===void 0?void 0:n.stringValue)===V_}function bc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return zr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function JD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===QD}var X8={mapValue:{fields:{[O_]:{stringValue:V_},[fs]:{arrayValue:{}}}}};var jt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bc(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=bc(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];th(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){zr(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(bc(this.value))}};function ZD(t){let e=[];return zr(t.fields,(n,r)=>{let i=new Bt([n]);if(th(r)){let o=ZD(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new en(e)}var pn=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,X.min(),X.min(),X.min(),jt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,X.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,X.min(),X.min(),jt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,X.min(),X.min(),jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ms=class{constructor(e,n){this.position=e,this.inclusive=n}};function QS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=W.comparator(W.fromName(s.referenceValue),n.key):r=ps(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function YS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Pn(t.position[n],e.position[n]))return!1;return!0}var ys=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function yj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var dh=class{},Xe=class t extends dh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new av(e,n,r):n==="array-contains"?new uv(e,r):n==="in"?new dv(e,r):n==="not-in"?new hv(e,r):n==="array-contains-any"?new fv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cv(e,r):new lv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ps(n,this.value)):n!==null&&Br(this.value)===Br(n)&&this.matchesComparison(ps(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},kn=class t extends dh{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new t(e,n)}matches(e){return XD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function XD(t){return t.op==="and"}function eA(t){return vj(t)&&XD(t)}function vj(t){for(let e of t.filters)if(e instanceof kn)return!1;return!0}function sv(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+gs(t.value);if(eA(t))return t.filters.map(e=>sv(e)).join(",");{let e=t.filters.map(n=>sv(n)).join(",");return`${t.op}(${e})`}}function tA(t,e){return t instanceof Xe?function(r,i){return i instanceof Xe&&r.op===i.op&&r.field.isEqual(i.field)&&Pn(r.value,i.value)}(t,e):t instanceof kn?function(r,i){return i instanceof kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&tA(s,i.filters[c]),!0):!1}(t,e):void z(19439)}function nA(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${gs(n.value)}`}(t):t instanceof kn?function(n){return n.op.toString()+" {"+n.getFilters().map(nA).join(" ,")+"}"}(t):"Filter"}var av=class extends Xe{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){let n=W.comparator(e.key,this.key);return this.matchesComparison(n)}},cv=class extends Xe{constructor(e,n){super(e,"in",n),this.keys=rA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},lv=class extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=rA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function rA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}var uv=class extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return F_(n)&&Mc(n.arrayValue,this.value)}},dv=class extends Xe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Mc(this.value.arrayValue,n)}},hv=class extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Mc(this.value.arrayValue,n)}},fv=class extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!F_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Mc(this.value.arrayValue,r))}};var pv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Ie=null}};function JS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new pv(t,e,n,r,i,o,s)}function L_(t){let e=J(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>gs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>gs(r)).join(",")),e.Ie=n}return e.Ie}function U_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!YS(t.startAt,e.startAt)&&YS(t.endAt,e.endAt)}function gv(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var vs=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function _j(t,e,n,r,i,o,s,c){return new vs(t,e,n,r,i,o,s,c)}function j_(t){return new vs(t)}function ZS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ej(t){return t.collectionGroup!==null}function Tc(t){let e=J(t);if(e.Ee===null){e.Ee=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new nt(Bt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(c=c.add(u.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new ys(o,r))}),n.has(Bt.keyField().canonicalString())||e.Ee.push(new ys(Bt.keyField(),r))}return e.Ee}function Nn(t){let e=J(t);return e.de||(e.de=Ij(e,Tc(t))),e.de}function Ij(t,e){if(t.limitType==="F")return JS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ys(i.field,o)});let n=t.endAt?new ms(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ms(t.startAt.position,t.startAt.inclusive):null;return JS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function mv(t,e,n){return new vs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jh(t,e){return U_(Nn(t),Nn(e))&&t.limitType===e.limitType}function iA(t){return`${L_(Nn(t))}|lt:${t.limitType}`}function os(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>nA(i)).join(", ")}]`),Lh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>gs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>gs(i)).join(",")),`Target(${r})`}(Nn(t))}; limitType=${t.limitType})`}function Bh(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Tc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,c,l){let u=QS(s,c,l);return s.inclusive?u<=0:u<0}(r.startAt,Tc(r),i)||r.endAt&&!function(s,c,l){let u=QS(s,c,l);return s.inclusive?u>=0:u>0}(r.endAt,Tc(r),i))}(t,e)}function wj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function oA(t){return(e,n)=>{let r=!1;for(let i of Tc(t)){let o=bj(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function bj(t,e,n){let r=t.field.isKeyField()?W.comparator(e.key,n.key):function(o,s,c){let l=s.data.field(o),u=c.data.field(o);return l!==null&&u!==null?ps(l,u):z(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return z(19790,{direction:t.dir})}}var ur=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zr(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return qD(this.inner)}size(){return this.innerSize}};var Tj=new Oe(W.comparator);function dr(){return Tj}var sA=new Oe(W.comparator);function wc(...t){let e=sA;for(let n of t)e=e.insert(n.key,n);return e}function aA(t){let e=sA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Li(){return Cc()}function cA(){return Cc()}function Cc(){return new ur(t=>t.toString(),(t,e)=>t.isEqual(e))}var Cj=new Oe(W.comparator),Sj=new nt(W.comparator);function pe(...t){let e=Sj;for(let n of t)e=e.add(n);return e}var Dj=new nt(ae);function Aj(){return Dj}function B_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ac(e)?"-0":e}}function lA(t){return{integerValue:""+t}}function Rj(t,e){return rj(e)?lA(e):B_(t,e)}var _s=class{constructor(){this._=void 0}};function Mj(t,e,n){return t instanceof Es?function(i,o){let s={fields:{[WD]:{stringValue:zD},[KD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&k_(o)&&(o=Uh(o)),o&&(s.fields[GD]=o),{mapValue:s}}(n,e):t instanceof Hi?dA(t,e):t instanceof qi?hA(t,e):function(i,o){let s=uA(i,o),c=XS(s)+XS(i.Re);return ov(s)&&ov(i.Re)?lA(c):B_(i.serializer,c)}(t,e)}function Nj(t,e,n){return t instanceof Hi?dA(t,e):t instanceof qi?hA(t,e):n}function uA(t,e){return t instanceof Is?function(r){return ov(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Es=class extends _s{},Hi=class extends _s{constructor(e){super(),this.elements=e}};function dA(t,e){let n=fA(e);for(let r of t.elements)n.some(i=>Pn(i,r))||n.push(r);return{arrayValue:{values:n}}}var qi=class extends _s{constructor(e){super(),this.elements=e}};function hA(t,e){let n=fA(e);for(let r of t.elements)n=n.filter(i=>!Pn(i,r));return{arrayValue:{values:n}}}var Is=class extends _s{constructor(e,n){super(),this.serializer=e,this.Re=n}};function XS(t){return Me(t.integerValue||t.doubleValue)}function fA(t){return F_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function xj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Hi&&i instanceof Hi||r instanceof qi&&i instanceof qi?hs(r.elements,i.elements,Pn):r instanceof Is&&i instanceof Is?Pn(r.Re,i.Re):r instanceof Es&&i instanceof Es}(t.transform,e.transform)}var yv=class{constructor(e,n){this.version=e,this.transformResults=n}},or=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function nh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ws=class{};function pA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Nc(t.key,or.none()):new zi(t.key,t.data,or.none());{let n=t.data,r=jt.empty(),i=new nt(Bt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new On(t.key,r,new en(i.toArray()),or.none())}}function Pj(t,e,n){t instanceof zi?function(i,o,s){let c=i.value.clone(),l=tD(i.fieldTransforms,o,s.transformResults);c.setAll(l),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof On?function(i,o,s){if(!nh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=tD(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(gA(i)),l.setAll(c),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Sc(t,e,n,r){return t instanceof zi?function(o,s,c,l){if(!nh(o.precondition,s))return c;let u=o.value.clone(),h=nD(o.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof On?function(o,s,c,l){if(!nh(o.precondition,s))return c;let u=nD(o.fieldTransforms,l,s),h=s.data;return h.setAll(gA(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,c){return nh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function kj(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=uA(r.transform,i||null);o!=null&&(n===null&&(n=jt.empty()),n.set(r.field,o))}return n||null}function eD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&hs(r,i,(o,s)=>xj(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var zi=class extends ws{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},On=class extends ws{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function gA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function tD(t,e,n){let r=new Map;Ee(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,Nj(s,c,n[i]))}return r}function nD(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,Mj(o,s,e))}return r}var Nc=class extends ws{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},vv=class extends ws{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var _v=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Pj(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Sc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=cA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let l=pA(s,c);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&hs(this.mutations,e.mutations,(n,r)=>eD(n,r))&&hs(this.baseMutations,e.baseMutations,(n,r)=>eD(n,r))}},Ev=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ee(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return Cj}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Iv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var wv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var qe,me;function Oj(t){switch(t){case O.OK:return z(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return z(15467,{code:t})}}function mA(t){if(t===void 0)return ar("GRPC error has no .code"),O.UNKNOWN;switch(t){case qe.OK:return O.OK;case qe.CANCELLED:return O.CANCELLED;case qe.UNKNOWN:return O.UNKNOWN;case qe.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case qe.INTERNAL:return O.INTERNAL;case qe.UNAVAILABLE:return O.UNAVAILABLE;case qe.UNAUTHENTICATED:return O.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case qe.NOT_FOUND:return O.NOT_FOUND;case qe.ALREADY_EXISTS:return O.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return O.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case qe.ABORTED:return O.ABORTED;case qe.OUT_OF_RANGE:return O.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return O.UNIMPLEMENTED;case qe.DATA_LOSS:return O.DATA_LOSS;default:return z(39323,{code:t})}}(me=qe||(qe={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";var rD=null;var Vj=new nr([4294967295,4294967295],0);function iD(t){let e=RD().encode(t),n=new Ly;return n.update(e),new Uint8Array(n.digest())}function oD(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new nr([n,r],0),new nr([i,o],0)]}var bv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ui(`Invalid padding: ${n}`);if(r<0)throw new Ui(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ui(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ui(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=nr.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(nr.fromNumber(r)));return i.compare(Vj)===1&&(i=new nr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let n=iD(e),[r,i]=oD(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.pe===0)return;let n=iD(e),[r,i]=oD(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ui=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var hh=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,xc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(X.min(),i,new Oe(ae),dr(),pe())}},xc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,pe(),pe(),pe())}};var ls=class{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}},fh=class{constructor(e,n){this.targetId=e,this.Ce=n}},ph=class{constructor(e,n,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},gh=class{constructor(){this.Fe=0,this.Me=sD(),this.xe=gt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=pe(),n=pe(),r=pe();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:z(38017,{changeType:o})}}),new xc(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=sD()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ee(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},Tv=class{constructor(e){this.ze=e,this.je=new Map,this.He=dr(),this.Je=Zd(),this.Ye=Zd(),this.Ze=new Oe(ae)}Xe(e){for(let n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(let n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{let r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:z(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){let n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){let o=i.target;if(gv(o))if(r===0){let s=new W(o.path);this.tt(n,s,pn.newNoDocument(s,X.min()))}else Ee(r===1,20013,{expectedCount:r});else{let s=this.ut(n);if(s!==r){let c=this.ct(e),l=c?this.lt(c,e,s):1;if(l!==0){this.st(n);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}rD?.ht(function(h,p,y,m,C){var M,R,U,K,ne,De;let mt={localCacheCount:h,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},Ie=p.unchangedNames;return Ie&&(mt.bloomFilter={applied:C===0,hashCount:(M=Ie?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(K=(U=(R=Ie?.bits)===null||R===void 0?void 0:R.bitmap)===null||U===void 0?void 0:U.length)!==null&&K!==void 0?K:0,padding:(De=(ne=Ie?.bits)===null||ne===void 0?void 0:ne.padding)!==null&&De!==void 0?De:0,mightContain:w=>{var v;return(v=m?.mightContain(w))!==null&&v!==void 0&&v}}),mt}(s,e.Ce,this.ze.Pt(),c,l))}}}}ct(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,c;try{s=lr(r).toUint8Array()}catch(l){if(l instanceof ch)return ds("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new bv(s,i,o)}catch(l){return ds(l instanceof Ui?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.pe===0?null:c}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){let r=this.ze.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.ze.Pt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.tt(n,o,null),i++)}),i}It(e){let n=new Map;this.je.forEach((o,s)=>{let c=this._t(s);if(c){if(o.current&&gv(c.target)){let l=new W(c.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,pn.newNoDocument(l,e))}o.Le&&(n.set(s,o.qe()),o.Qe())}});let r=pe();this.Ye.forEach((o,s)=>{let c=!0;s.forEachWhile(l=>{let u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new hh(e,n,this.Ze,this.He,r);return this.He=dr(),this.Je=Zd(),this.Ye=Zd(),this.Ze=new Oe(ae),i}et(e,n){if(!this.it(e))return;let r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){let n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new gh,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new nt(ae),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new nt(ae),this.Je=this.Je.insert(e,n)),n}it(e){let n=this._t(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}_t(e){let n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new gh),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}};function Zd(){return new Oe(W.comparator)}function sD(){return new Oe(W.comparator)}var Fj={asc:"ASCENDING",desc:"DESCENDING"},Lj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uj={and:"AND",or:"OR"},Cv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Sv(t,e){return t.useProto3Json||Lh(e)?e:{value:e}}function mh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jj(t,e){return mh(t,e.toTimestamp())}function xn(t){return Ee(!!t,49232),X.fromTimestamp(function(n){let r=cr(n);return new at(r.seconds,r.nanos)}(t))}function $_(t,e){return Dv(t,e).canonicalString()}function Dv(t,e){let n=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function vA(t){let e=ke.fromString(t);return Ee(bA(e),10190,{key:e.toString()}),e}function Av(t,e){return $_(t.databaseId,e.path)}function qy(t,e){let n=vA(e);if(n.get(1)!==t.databaseId.projectId)throw new H(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(EA(n))}function _A(t,e){return $_(t.databaseId,e)}function Bj(t){let e=vA(t);return e.length===4?ke.emptyPath():EA(e)}function Rv(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function EA(t){return Ee(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function aD(t,e,n){return{name:Av(t,e),fields:n.value.mapValue.fields}}function $j(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:z(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(Ee(h===void 0||typeof h=="string",58123),gt.fromBase64String(h||"")):(Ee(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),gt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(u){let h=u.code===void 0?O.UNKNOWN:mA(u.code);return new H(h,u.message||"")}(s);n=new ph(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=qy(t,r.document.name),o=xn(r.document.updateTime),s=r.document.createTime?xn(r.document.createTime):X.min(),c=new jt({mapValue:{fields:r.document.fields}}),l=pn.newFoundDocument(i,o,s,c),u=r.targetIds||[],h=r.removedTargetIds||[];n=new ls(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=qy(t,r.document),o=r.readTime?xn(r.readTime):X.min(),s=pn.newNoDocument(i,o),c=r.removedTargetIds||[];n=new ls([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=qy(t,r.document),o=r.removedTargetIds||[];n=new ls([],o,i,null)}else{if(!("filter"in e))return z(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new wv(i,o),c=r.targetId;n=new fh(c,s)}}return n}function Hj(t,e){let n;if(e instanceof zi)n={update:aD(t,e.key,e.value)};else if(e instanceof Nc)n={delete:Av(t,e.key)};else if(e instanceof On)n={update:aD(t,e.key,e.data),updateMask:Zj(e.fieldMask)};else{if(!(e instanceof vv))return z(16599,{ft:e.type});n={verify:Av(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let c=s.transform;if(c instanceof Es)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Hi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof qi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Is)return{fieldPath:s.field.canonicalString(),increment:c.Re};throw z(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:jj(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:z(27497)}(t,e.precondition)),n}function qj(t,e){return t&&t.length>0?(Ee(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?xn(i.updateTime):xn(o);return s.isEqual(X.min())&&(s=xn(o)),new yv(s,i.transformResults||[])}(n,e))):[]}function zj(t,e){return{documents:[_A(t,e.path)]}}function Wj(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_A(t,i);let o=function(u){if(u.length!==0)return wA(kn.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(h=>function(y){return{field:ss(y.field),direction:Qj(y.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let c=Sv(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function Gj(t){let e=Bj(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ee(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let y=IA(p);return y instanceof kn&&eA(y)?y.getFilters():[y]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(y=>function(C){return new ys(as(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(p){let y;return y=typeof p=="object"?p.value:p,Lh(y)?null:y}(n.limit));let l=null;n.startAt&&(l=function(p){let y=!!p.before,m=p.values||[];return new ms(m,y)}(n.startAt));let u=null;return n.endAt&&(u=function(p){let y=!p.before,m=p.values||[];return new ms(m,y)}(n.endAt)),_j(e,i,s,o,c,"F",l,u)}function Kj(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function IA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=as(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=as(n.unaryFilter.field);return Xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=as(n.unaryFilter.field);return Xe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=as(n.unaryFilter.field);return Xe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return z(61313);default:return z(60726)}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(as(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return z(58110);default:return z(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return kn.create(n.compositeFilter.filters.map(r=>IA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return z(1026)}}(n.compositeFilter.op))}(t):z(30097,{filter:t})}function Qj(t){return Fj[t]}function Yj(t){return Lj[t]}function Jj(t){return Uj[t]}function ss(t){return{fieldPath:t.canonicalString()}}function as(t){return Bt.fromServerFormat(t.fieldPath)}function wA(t){return t instanceof Xe?function(n){if(n.op==="=="){if(KS(n.value))return{unaryFilter:{field:ss(n.field),op:"IS_NAN"}};if(GS(n.value))return{unaryFilter:{field:ss(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KS(n.value))return{unaryFilter:{field:ss(n.field),op:"IS_NOT_NAN"}};if(GS(n.value))return{unaryFilter:{field:ss(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ss(n.field),op:Yj(n.op),value:n.value}}}(t):t instanceof kn?function(n){let r=n.getFilters().map(i=>wA(i));return r.length===1?r[0]:{compositeFilter:{op:Jj(n.op),filters:r}}}(t):z(54877,{filter:t})}function Zj(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Pc=class t{constructor(e,n,r,i,o=X.min(),s=X.min(),c=gt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Mv=class{constructor(e){this.wt=e}};function Xj(t){let e=Gj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mv(e,e.limit,"L"):e}var yh=class{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(Me(e.integerValue));else if("doubleValue"in e){let r=Me(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),Ac(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),typeof r=="string"&&(r=cr(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(lr(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?JD(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):YD(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):z(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){let r=e.fields||{};this.Mt(n,55);for(let i of Object.keys(r))this.Nt(i,n),this.Ct(r[i],n)}qt(e,n){var r,i;let o=e.fields||{};this.Mt(n,53);let s=fs,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(n,15),n.xt(Me(c)),this.Nt(s,n),this.Ct(o[s],n)}$t(e,n){let r=e.values||[];this.Mt(n,50);for(let i of r)this.Ct(i,n)}kt(e,n){this.Mt(n,37),W.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}};yh.Wt=new yh;var Nv=class{constructor(){this.yn=new xv}addToCollectionParentIndex(e,n){return this.yn.add(n),k.resolve()}getCollectionParents(e,n){return k.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return k.resolve()}deleteFieldIndex(e,n){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,n){return k.resolve()}getDocumentsMatchingTarget(e,n){return k.resolve(null)}getIndexType(e,n){return k.resolve(0)}getFieldIndexes(e,n){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,n){return k.resolve($i.min())}getMinOffsetFromCollectionGroup(e,n){return k.resolve($i.min())}updateCollectionGroup(e,n,r){return k.resolve()}updateIndexEntries(e,n){return k.resolve()}},xv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nt(ke.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nt(ke.comparator)).toArray()}};var eK=new Uint8Array(0);var cD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TA=41943040,Xt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(TA,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);var kc=class t{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new t(0)}static ir(){return new t(-1)}};var lD="LruGarbageCollector",eB=1048576;function uD([t,e],[n,r]){let i=ae(t,n);return i===0?ae(e,r):i}var Pv=class{constructor(e){this.cr=e,this.buffer=new nt(uD),this.lr=0}hr(){return++this.lr}Pr(e){let n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();uD(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},kv=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){j(lD,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>D(this,null,function*(){this.Tr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){As(n)?j(lD,"Ignoring IndexedDB error during garbage collection: ",n):yield Ds(n)}yield this.Ir(3e5)}))}},Ov=class{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return k.resolve(x_.le);let r=new Pv(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(j("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(cD)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cD):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,o,s,c,l,u,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(j("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),is()<=he.DEBUG&&j("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(l-c)+`ms
	Removed ${p} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function tB(t,e){return new Ov(t,e)}var Vv=class{constructor(){this.changes=new ur(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?k.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Fv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Lv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Sc(r.mutation,i,en.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){let i=Li();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=wc();return o.forEach((c,l)=>{s=s.insert(c,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Li();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=dr(),s=Cc(),c=function(){return Cc()}();return n.forEach((l,u)=>{let h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof On)?o=o.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),Sc(h.mutation,u,h.mutation.getFieldMask(),at.now())):s.set(u.key,en.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>s.set(u,h)),n.forEach((u,h)=>{var p;return c.set(u,new Fv(h,(p=s.get(u))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=Cc(),i=new Oe((s,c)=>s-c),o=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(l=>{let u=n.get(l);if(u===null)return;let h=r.get(l)||en.empty();h=c.applyToLocalView(u,h),r.set(l,h);let p=(i.get(c.batchId)||pe()).add(l);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let l=c.getNext(),u=l.key,h=l.value,p=cA();h.forEach(y=>{if(!o.has(y)){let m=pA(n.get(y),r.get(y));m!==null&&p.set(y,m),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return k.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ej(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):k.resolve(Li()),c=Dc,l=o;return s.next(u=>k.forEach(u,(h,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(h)?k.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{l=l.insert(h,y)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,pe())).next(h=>({batchId:c,changes:aA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let i=wc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=wc();return this.indexManager.getCollectionParents(e,o).next(c=>k.forEach(c,l=>{let u=function(p,y){return new vs(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{let h=u.getKey();s.get(h)===null&&(s=s.insert(h,pn.newInvalidDocument(h)))});let c=wc();return s.forEach((l,u)=>{let h=o.get(l);h!==void 0&&Sc(h.mutation,u,en.empty(),at.now()),Bh(n,u)&&(c=c.insert(l,u))}),c})}};var Uv=class{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return k.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:xn(i.createTime)}}(n)),k.resolve()}getNamedQuery(e,n){return k.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:Xj(i.bundledQuery),readTime:xn(i.readTime)}}(n)),k.resolve()}};var jv=class{constructor(){this.overlays=new Oe(W.comparator),this.Or=new Map}getOverlay(e,n){return k.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Li();return k.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),k.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Or.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),k.resolve()}getOverlaysForCollection(e,n,r){let i=Li(),o=n.length+1,s=new W(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let l=c.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return k.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Oe((u,h)=>u-h),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=Li(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}let c=Li(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>c.set(u,h)),!(c.size()>=i)););return k.resolve(c)}St(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Iv(n,r));let o=this.Or.get(n);o===void 0&&(o=pe(),this.Or.set(n,o)),this.Or.set(n,o.add(r.key))}};var Bv=class{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,k.resolve()}};var Oc=class{constructor(){this.Nr=new nt(ze.Br),this.Lr=new nt(ze.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){let r=new ze(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new ze(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){let n=new W(new ke([])),r=new ze(n,e),i=new ze(n,e+1),o=[];return this.Lr.forEachInRange([r,i],s=>{this.Qr(s),o.push(s.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){let n=new W(new ke([])),r=new ze(n,e),i=new ze(n,e+1),o=pe();return this.Lr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new ze(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ze=class{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return W.comparator(e.key,n.key)||ae(e.Gr,n.Gr)}static kr(e,n){return ae(e.Gr,n.Gr)||W.comparator(e.key,n.key)}};var $v=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new nt(ze.Br)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new _v(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.zr=this.zr.add(new ze(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,n){return k.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Hr(r),o=i<0?0:i;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?P_:this.Jn-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ze(n,0),i=new ze(n,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,i],s=>{let c=this.jr(s.Gr);o.push(c)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(ae);return n.forEach(i=>{let o=new ze(i,0),s=new ze(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,s],c=>{r=r.add(c.Gr)})}),k.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;W.isDocumentKey(o)||(o=o.child(""));let s=new ze(new W(o),0),c=new nt(ae);return this.zr.forEachWhile(l=>{let u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(c=c.add(l.Gr)),!0)},s),k.resolve(this.Jr(c))}Jr(e){let n=[];return e.forEach(r=>{let i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ee(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return k.forEach(n.mutations,i=>{let o=new ze(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){let r=new ze(n,0),i=this.zr.firstAfterOrEqual(r);return k.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){let n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Hv=class{constructor(e){this.Zr=e,this.docs=function(){return new Oe(W.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return k.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let r=dr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():pn.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=dr(),s=n.path,c=new W(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){let{key:u,value:{document:h}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||ej(X2(h),r)<=0||(i.has(h.key)||Bh(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(e,n,r,i){z(9500)}Xr(e,n){return k.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new qv(this)}getSize(e){return k.resolve(this.size)}},qv=class extends Vv{constructor(e){super(),this.vr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),k.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}};var zv=class{constructor(e){this.persistence=e,this.ei=new ur(n=>L_(n),U_),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.ti=0,this.ni=new Oc,this.targetCount=0,this.ri=kc.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),k.resolve()}ar(e){this.ei.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ri=new kc(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,k.resolve()}updateTargetData(e,n){return this.ar(n),k.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ei.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ei.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),k.waitFor(o).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,n){let r=this.ei.get(n)||null;return k.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),k.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),k.resolve()}getMatchingKeysForTargetId(e,n){let r=this.ni.Wr(n);return k.resolve(r)}containsKey(e,n){return k.resolve(this.ni.containsKey(n))}};var vh=class{constructor(e,n){this.ii={},this.overlays={},this.si=new x_(0),this.oi=!1,this.oi=!0,this._i=new Bv,this.referenceDelegate=e(this),this.ai=new zv(this),this.indexManager=new Nv,this.remoteDocumentCache=function(i){return new Hv(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new Mv(n),this.ci=new Uv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new $v(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);let i=new Wv(this.si.next());return this.referenceDelegate.li(),r(i).next(o=>this.referenceDelegate.hi(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Pi(e,n){return k.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}},Wv=class extends nv{constructor(e){super(),this.currentSequenceNumber=e}},Gv=class t{constructor(e){this.persistence=e,this.Ti=new Oc,this.Ii=null}static Ei(e){return new t(e)}get di(){if(this.Ii)return this.Ii;throw z(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),k.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),k.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.di,r=>{let i=W.fromPath(r);return this.Ai(e,i).next(o=>{o||n.removeEntry(i,X.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return k.or([()=>k.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}},_h=class t{constructor(e,n){this.persistence=e,this.Ri=new ur(r=>ij(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=tB(this,n)}static Ei(e,n){return new t(e,n)}li(){}hi(e){return k.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){let n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return k.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(o=>o?k.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Xr(e,s=>this.gr(e,s,n).next(c=>{c||(r++,o.removeEntry(s,X.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),k.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),k.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),k.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),k.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eh(e.data.value)),n}gr(e,n,r){return k.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.Ri.get(n);return k.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Kv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=pe(),i=pe();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Qv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Yv=class{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return B0()?8:nj(Lt())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Rs(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Vs(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Qv;return this.fs(e,n,s).next(c=>{if(o.result=c,this.Is)return this.gs(e,n,s,c.size)})}).next(()=>o.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(is()<=he.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",os(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),k.resolve()):(is()<=he.DEBUG&&j("QueryEngine","Query:",os(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(is()<=he.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",os(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nn(n))):k.resolve())}Rs(e,n){if(ZS(n))return k.resolve(null);let r=Nn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=mv(n,null,"F"),r=Nn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=pe(...o);return this.As.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(l=>{let u=this.ps(n,c);return this.ys(n,u,s,l.readTime)?this.Rs(e,mv(n,null,"F")):this.ws(e,u,n,l)}))})))}Vs(e,n,r,i){return ZS(n)||i.isEqual(X.min())?k.resolve(null):this.As.getDocuments(e,r).next(o=>{let s=this.ps(n,o);return this.ys(n,s,r,i)?k.resolve(null):(is()<=he.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),os(n)),this.ws(e,s,n,Z2(i,Dc)).next(c=>c))})}ps(e,n){let r=new nt(oA(e));return n.forEach((i,o)=>{Bh(e,o)&&(r=r.add(o))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}fs(e,n,r){return is()<=he.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",os(n)),this.As.getDocumentsMatchingQuery(e,n,$i.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var H_="LocalStore",nB=3e8,Jv=class{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new Oe(ae),this.Ds=new ur(o=>L_(o),U_),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lv(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}};function rB(t,e,n,r){return new Jv(t,e,n,r)}function CA(t,e){return D(this,null,function*(){let n=J(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],l=pe();for(let u of i){s.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}for(let u of o){c.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ms:u,removedBatchIds:s,addedBatchIds:c}))})})})}function iB(t,e){let n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Cs.newChangeBuffer({trackRemovals:!0});return function(c,l,u,h){let p=u.batch,y=p.keys(),m=k.resolve();return y.forEach(C=>{m=m.next(()=>h.getEntry(l,C)).next(M=>{let R=u.docVersions.get(C);Ee(R!==null,48541),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,u),M.isValidDocument()&&(M.setReadTime(u.commitVersion),h.addEntry(M)))})}),m.next(()=>c.mutationQueue.removeMutationBatch(l,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let l=pe();for(let u=0;u<c.mutationResults.length;++u)c.mutationResults[u].transformResults.length>0&&(l=l.add(c.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function SA(t){let e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function oB(t,e){let n=J(t),r=e.snapshotVersion,i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;let c=[];e.targetChanges.forEach((h,p)=>{let y=i.get(p);if(!y)return;c.push(n.ai.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.ai.addMatchingKeys(o,h.addedDocuments,p)));let m=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(gt.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(p,m),function(M,R,U){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=nB?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(y,m,h)&&c.push(n.ai.updateTargetData(o,m))});let l=dr(),u=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),c.push(sB(o,s,e.documentUpdates).next(h=>{l=h.xs,u=h.Os})),!r.isEqual(X.min())){let h=n.ai.getLastRemoteSnapshotVersion(o).next(p=>n.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(h)}return k.waitFor(c).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ss=i,o))}function sB(t,e,n){let r=pe(),i=pe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=dr();return n.forEach((c,l)=>{let u=o.get(c);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(c)),l.isNoDocument()&&l.version.isEqual(X.min())?(e.removeEntry(c,l.readTime),s=s.insert(c,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(c,l)):j(H_,"Ignoring outdated watch update for ",c,". Current version:",u.version," Watch version:",l.version)}),{xs:s,Os:i}})}function aB(t,e){let n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=P_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function cB(t,e){let n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(o=>o?(i=o,k.resolve(i)):n.ai.allocateTargetId(r).next(s=>(i=new Pc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}function Zv(t,e,n){return D(this,null,function*(){let r=J(t),i=r.Ss.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!As(s))throw s;j(H_,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)})}function dD(t,e,n){let r=J(t),i=X.min(),o=pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,h){let p=J(l),y=p.Ds.get(h);return y!==void 0?k.resolve(p.Ss.get(y)):p.ai.getTargetData(u,h)}(r,s,Nn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(s,c.targetId).next(l=>{o=l})}).next(()=>r.bs.getDocumentsMatchingQuery(s,e,n?i:X.min(),n?o:pe())).next(c=>(lB(r,wj(e),c),{documents:c,Ns:o})))}function lB(t,e,n){let r=t.vs.get(e)||X.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.vs.set(e,r)}var Eh=class{constructor(){this.activeTargetIds=Aj()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Xv=class{constructor(){this.So=new Eh,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Eh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var e_=class{vo(e){}shutdown(){}};var hD="ConnectivityMonitor",Ih=class{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){j(hD,"Network connectivity changed: AVAILABLE");for(let e of this.Oo)e(0)}xo(){j(hD,"Network connectivity changed: UNAVAILABLE");for(let e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Xd=null;function t_(){return Xd===null?Xd=function(){return 268435456+Math.round(2147483648*Math.random())}():Xd++,"0x"+Xd.toString(16)}var zy="RestConnection",uB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},n_=class{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===lh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,o){let s=t_(),c=this.$o(e,n.toUriEncodedString());j(zy,`Sending RPC '${e}' ${s}:`,c,r);let l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(l,i,o),this.Ko(e,c,l,r).then(u=>(j(zy,`Received RPC '${e}' ${s}: `,u),u),u=>{throw ds(zy,`RPC '${e}' ${s} failed with error: `,u,"url: ",c,"request:",r),u})}Wo(e,n,r,i,o,s){return this.Qo(e,n,r,i,o)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ss}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}$o(e,n){let r=uB[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}};var r_=class{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}};var pt="WebChannelConnection",i_=class extends n_{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i){let o=t_();return new Promise((s,c)=>{let l=new Uy;l.setWithCredentials(!0),l.listenOnce(jy.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ic.NO_ERROR:let h=l.getResponseJson();j(pt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Ic.TIMEOUT:j(pt,`RPC '${e}' ${o} timed out`),c(new H(O.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:let p=l.getStatus();if(j(pt,`RPC '${e}' ${o} failed with status:`,p,"response text:",l.getResponseText()),p>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let m=y?.error;if(m&&m.status&&m.message){let C=function(R){let U=R.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(U)>=0?U:O.UNKNOWN}(m.status);c(new H(C,m.message))}else c(new H(O.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new H(O.UNAVAILABLE,"Connection failed."));break;default:z(9055,{s_:e,streamId:o,o_:l.getLastErrorCode(),__:l.getLastError()})}}finally{j(pt,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(i);j(pt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}a_(e,n,r){let i=t_(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Hy(),c=$y(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;let h=o.join("");j(pt,`Creating RPC '${e}' stream ${i}: ${h}`,l);let p=s.createWebChannel(h,l),y=!1,m=!1,C=new r_({Go:R=>{m?j(pt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(y||(j(pt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),j(pt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},zo:()=>p.close()}),M=(R,U,K)=>{R.listen(U,ne=>{try{K(ne)}catch(De){setTimeout(()=>{throw De},0)}})};return M(p,rs.EventType.OPEN,()=>{m||(j(pt,`RPC '${e}' stream ${i} transport opened.`),C.t_())}),M(p,rs.EventType.CLOSE,()=>{m||(m=!0,j(pt,`RPC '${e}' stream ${i} transport closed`),C.r_())}),M(p,rs.EventType.ERROR,R=>{m||(m=!0,ds(pt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),C.r_(new H(O.UNAVAILABLE,"The operation could not be completed")))}),M(p,rs.EventType.MESSAGE,R=>{var U;if(!m){let K=R.data[0];Ee(!!K,16349);let ne=K,De=ne?.error||((U=ne[0])===null||U===void 0?void 0:U.error);if(De){j(pt,`RPC '${e}' stream ${i} received error:`,De);let mt=De.status,Ie=function(E){let I=qe[E];if(I!==void 0)return mA(I)}(mt),w=De.message;Ie===void 0&&(Ie=O.INTERNAL,w="Unknown error status: "+mt+" with message "+De.message),m=!0,C.r_(new H(Ie,w)),p.close()}else j(pt,`RPC '${e}' stream ${i} received:`,K),C.i_(K)}}),M(c,By.STAT_EVENT,R=>{R.stat===Yd.PROXY?j(pt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Yd.NOPROXY&&j(pt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.n_()},0),C}};function Wy(){return typeof document<"u"?document:null}function $h(t){return new Cv(t,!0)}var wh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();let n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}};var fD="PersistentStream",bh=class{constructor(e,n,r,i,o,s,c,l){this.bi=e,this.R_=r,this.V_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new wh(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}stop(){return D(this,null,function*(){this.w_()&&(yield this.close(0))})}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}C_(){return D(this,null,function*(){if(this.b_())return this.close(0)})}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}close(e,n){return D(this,null,function*(){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(ar(n.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Zo(n)})}O_(){}auth(){this.state=1;let e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{let i=new H(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){let r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(()=>D(this,null,function*(){this.state=0,this.start()}))}L_(e){return j(fD,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(j(fD,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},o_=class extends bh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();let n=$j(this.serializer,e),r=function(o){if(!("targetChange"in o))return X.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?X.min():s.readTime?xn(s.readTime):X.min()}(e);return this.listener.Q_(n,r)}U_(e){let n={};n.database=Rv(this.serializer),n.addTarget=function(o,s){let c,l=s.target;if(c=gv(l)?{documents:zj(o,l)}:{query:Wj(o,l).gt},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=yA(o,s.resumeToken);let u=Sv(o,s.expectedCount);u!==null&&(c.expectedCount=u)}else if(s.snapshotVersion.compareTo(X.min())>0){c.readTime=mh(o,s.snapshotVersion.toTimestamp());let u=Sv(o,s.expectedCount);u!==null&&(c.expectedCount=u)}return c}(this.serializer,e);let r=Kj(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){let n={};n.database=Rv(this.serializer),n.removeTarget=e,this.F_(n)}},s_=class extends bh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Ee(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ee(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();let n=qj(e.writeResults,e.commitTime),r=xn(e.commitTime);return this.listener.j_(r,n)}H_(){let e={};e.database=Rv(this.serializer),this.F_(e)}G_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Hj(this.serializer,r))};this.F_(n)}};var a_=class{},c_=class extends a_{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new H(O.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Qo(e,Dv(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(O.UNKNOWN,o.toString())})}Wo(e,n,r,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Wo(e,Dv(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(O.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}},l_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ar(n),this.ea=!1):j("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}};var Wi="RemoteStore",u_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(s=>{r.enqueueAndForget(()=>D(this,null,function*(){Gi(this)&&(j(Wi,"Restarting streams for network reachability change."),yield function(l){return D(this,null,function*(){let u=J(l);u.aa.add(4),yield jc(u),u.la.set("Unknown"),u.aa.delete(4),yield Hh(u)})}(this))}))}),this.la=new l_(r,i)}};function Hh(t){return D(this,null,function*(){if(Gi(t))for(let e of t.ua)yield e(!0)})}function jc(t){return D(this,null,function*(){for(let e of t.ua)yield e(!1)})}function DA(t,e){let n=J(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),G_(n)?W_(n):Rs(n).b_()&&z_(n,e))}function q_(t,e){let n=J(t),r=Rs(n);n._a.delete(e),r.b_()&&AA(n,e),n._a.size===0&&(r.b_()?r.v_():Gi(n)&&n.la.set("Unknown"))}function z_(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rs(t).U_(e)}function AA(t,e){t.ha.Ke(e),Rs(t).K_(e)}function W_(t){t.ha=new Tv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Rs(t).start(),t.la.ta()}function G_(t){return Gi(t)&&!Rs(t).w_()&&t._a.size>0}function Gi(t){return J(t).aa.size===0}function RA(t){t.ha=void 0}function dB(t){return D(this,null,function*(){t.la.set("Online")})}function hB(t){return D(this,null,function*(){t._a.forEach((e,n)=>{z_(t,e)})})}function fB(t,e){return D(this,null,function*(){RA(t),G_(t)?(t.la.ia(e),W_(t)):t.la.set("Unknown")})}function pB(t,e,n){return D(this,null,function*(){if(t.la.set("Online"),e instanceof ph&&e.state===2&&e.cause)try{yield function(i,o){return D(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i._a.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i._a.delete(c),i.ha.removeTarget(c))})}(t,e)}catch(r){j(Wi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Th(t,r)}else if(e instanceof ls?t.ha.Xe(e):e instanceof fh?t.ha.ot(e):t.ha.nt(e),!n.isEqual(X.min()))try{let r=yield SA(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let c=o.ha.It(s);return c.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let h=o._a.get(u);h&&o._a.set(u,h.withResumeToken(l.resumeToken,s))}}),c.targetMismatches.forEach((l,u)=>{let h=o._a.get(l);if(!h)return;o._a.set(l,h.withResumeToken(gt.EMPTY_BYTE_STRING,h.snapshotVersion)),AA(o,l);let p=new Pc(h.target,l,u,h.sequenceNumber);z_(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){j(Wi,"Failed to raise snapshot:",r),yield Th(t,r)}})}function Th(t,e,n){return D(this,null,function*(){if(!As(e))throw e;t.aa.add(1),yield jc(t),t.la.set("Offline"),n||(n=()=>SA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>D(this,null,function*(){j(Wi,"Retrying IndexedDB access"),yield n(),t.aa.delete(1),yield Hh(t)}))})}function MA(t,e){return e().catch(n=>Th(t,n,e))}function qh(t){return D(this,null,function*(){let e=J(t),n=$r(e),r=e.oa.length>0?e.oa[e.oa.length-1].batchId:P_;for(;gB(e);)try{let i=yield aB(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,mB(e,i)}catch(i){yield Th(e,i)}NA(e)&&xA(e)})}function gB(t){return Gi(t)&&t.oa.length<10}function mB(t,e){t.oa.push(e);let n=$r(t);n.b_()&&n.W_&&n.G_(e.mutations)}function NA(t){return Gi(t)&&!$r(t).w_()&&t.oa.length>0}function xA(t){$r(t).start()}function yB(t){return D(this,null,function*(){$r(t).H_()})}function vB(t){return D(this,null,function*(){let e=$r(t);for(let n of t.oa)e.G_(n.mutations)})}function _B(t,e,n){return D(this,null,function*(){let r=t.oa.shift(),i=Ev.from(r,e,n);yield MA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield qh(t)})}function EB(t,e){return D(this,null,function*(){e&&$r(t).W_&&(yield function(r,i){return D(this,null,function*(){if(function(s){return Oj(s)&&s!==O.ABORTED}(i.code)){let o=r.oa.shift();$r(r).D_(),yield MA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield qh(r)}})}(t,e)),NA(t)&&xA(t)})}function pD(t,e){return D(this,null,function*(){let n=J(t);n.asyncQueue.verifyOperationInProgress(),j(Wi,"RemoteStore received new credentials");let r=Gi(n);n.aa.add(3),yield jc(n),r&&n.la.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),yield Hh(n)})}function IB(t,e){return D(this,null,function*(){let n=J(t);e?(n.aa.delete(2),yield Hh(n)):e||(n.aa.add(2),yield jc(n),n.la.set("Unknown"))})}function Rs(t){return t.Pa||(t.Pa=function(n,r,i){let o=J(n);return o.Y_(),new o_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:dB.bind(null,t),Jo:hB.bind(null,t),Zo:fB.bind(null,t),Q_:pB.bind(null,t)}),t.ua.push(e=>D(this,null,function*(){e?(t.Pa.D_(),G_(t)?W_(t):t.la.set("Unknown")):(yield t.Pa.stop(),RA(t))}))),t.Pa}function $r(t){return t.Ta||(t.Ta=function(n,r,i){let o=J(n);return o.Y_(),new s_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:yB.bind(null,t),Zo:EB.bind(null,t),z_:vB.bind(null,t),j_:_B.bind(null,t)}),t.ua.push(e=>D(this,null,function*(){e?(t.Ta.D_(),yield qh(t)):(yield t.Ta.stop(),t.oa.length>0&&(j(Wi,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))}))),t.Ta}var d_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function K_(t,e){if(ar("AsyncQueue",`${e}: ${t}`),As(t))return new H(O.UNAVAILABLE,`${e}: ${t}`);throw t}var Ch=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=wc(),this.sortedSet=new Oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Sh=class{constructor(){this.Ia=new Oe(W.comparator)}track(e){let n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):z(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){let e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}},bs=class t{constructor(e,n,r,i,o,s,c,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(c=>{s.push({type:0,doc:c})}),new t(e,n,Ch.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var h_=class{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}},f_=class{constructor(){this.queries=gD(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){let i=J(n),o=i.queries;i.queries=gD(),o.forEach((s,c)=>{for(let l of c.Ra)l.onError(r)})})(this,new H(O.ABORTED,"Firestore shutting down"))}};function gD(){return new ur(t=>iA(t),jh)}function wB(t,e){return D(this,null,function*(){let n=J(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Va()&&e.ma()&&(r=2):(o=new h_,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=yield n.onListen(i,!0);break;case 1:o.Aa=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let c=K_(s,`Initialization of query '${os(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.Ra.push(e),e.ga(n.onlineState),o.Aa&&e.pa(o.Aa)&&Q_(n)})}function bB(t,e){return D(this,null,function*(){let n=J(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Ra.indexOf(e);s>=0&&(o.Ra.splice(s,1),o.Ra.length===0?i=e.ma()?0:1:!o.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function TB(t,e){let n=J(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let c of s.Ra)c.pa(i)&&(r=!0);s.Aa=i}}r&&Q_(n)}function CB(t,e,n){let r=J(t),i=r.queries.get(e);if(i)for(let o of i.Ra)o.onError(n);r.queries.delete(e)}function Q_(t){t.fa.forEach(e=>{e.next()})}var p_,mD;(mD=p_||(p_={})).ya="default",mD.Cache="cache";var g_=class{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new bs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;let r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;let n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=bs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==p_.Cache}};var Dh=class{constructor(e){this.key=e}},Ah=class{constructor(e){this.key=e}},m_=class{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=pe(),this.mutatedKeys=pe(),this.Ua=oA(e),this.Ka=new Ch(this.Ua)}get Wa(){return this.qa}Ga(e,n){let r=n?n.za:new Sh,i=n?n.Ka:this.Ka,o=n?n.mutatedKeys:this.mutatedKeys,s=i,c=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let y=i.get(h),m=Bh(this.query,p)?p:null,C=!!y&&this.mutatedKeys.has(y.key),M=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),R=!1;y&&m?y.data.isEqual(m.data)?C!==M&&(r.track({type:3,doc:m}),R=!0):this.ja(y,m)||(r.track({type:2,doc:m}),R=!0,(l&&this.Ua(m,l)>0||u&&this.Ua(m,u)<0)&&(c=!0)):!y&&m?(r.track({type:0,doc:m}),R=!0):y&&!m&&(r.track({type:1,doc:y}),R=!0,(l||u)&&(c=!0)),R&&(m?(s=s.add(m),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ka:s,za:r,ys:c,mutatedKeys:o}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;let s=e.za.da();s.sort((h,p)=>function(m,C){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z(20277,{Vt:R})}};return M(m)-M(C)}(h.type,p.type)||this.Ua(h.doc,p.doc)),this.Ha(r),i=i!=null&&i;let c=n&&!i?this.Ja():[],l=this.$a.size===0&&this.current&&!i?1:0,u=l!==this.Qa;return this.Qa=l,s.length!==0||u?{snapshot:new bs(this.query,e.Ka,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Sh,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];let e=this.$a;this.$a=pe(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});let n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new Ah(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new Dh(r))}),n}Xa(e){this.qa=e.Ns,this.$a=pe();let n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return bs.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}},Y_="SyncEngine",y_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},v_=class{constructor(e){this.key=e,this.tu=!1}},__=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new ur(c=>iA(c),jh),this.iu=new Map,this.su=new Set,this.ou=new Oe(W.comparator),this._u=new Map,this.au=new Oc,this.uu={},this.cu=new Map,this.lu=kc.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}};function SB(t,e,n=!0){return D(this,null,function*(){let r=LA(t),i,o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.eu()):i=yield PA(r,e,n,!0),i})}function DB(t,e){return D(this,null,function*(){let n=LA(t);yield PA(n,e,!0,!1)})}function PA(t,e,n,r){return D(this,null,function*(){let i=yield cB(t.localStore,Nn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),c;return r&&(c=yield AB(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&DA(t.remoteStore,i),c})}function AB(t,e,n,r,i){return D(this,null,function*(){t.Pu=(p,y,m)=>function(M,R,U,K){return D(this,null,function*(){let ne=R.view.Ga(U);ne.ys&&(ne=yield dD(M.localStore,R.query,!1).then(({documents:w})=>R.view.Ga(w,ne)));let De=K&&K.targetChanges.get(R.targetId),mt=K&&K.targetMismatches.get(R.targetId)!=null,Ie=R.view.applyChanges(ne,M.isPrimaryClient,De,mt);return vD(M,R.targetId,Ie.Ya),Ie.snapshot})}(t,p,y,m);let o=yield dD(t.localStore,e,!0),s=new m_(e,o.Ns),c=s.Ga(o.documents),l=xc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(c,t.isPrimaryClient,l);vD(t,n,u.Ya);let h=new y_(e,n,s);return t.ru.set(e,h),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),u.snapshot})}function RB(t,e,n){return D(this,null,function*(){let r=J(t),i=r.ru.get(e),o=r.iu.get(i.targetId);if(o.length>1)return r.iu.set(i.targetId,o.filter(s=>!jh(s,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Zv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&q_(r.remoteStore,i.targetId),E_(r,i.targetId)}).catch(Ds))):(E_(r,i.targetId),yield Zv(r.localStore,i.targetId,!0))})}function MB(t,e){return D(this,null,function*(){let n=J(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),q_(n.remoteStore,r.targetId))})}function NB(t,e,n){return D(this,null,function*(){let r=LB(t);try{let i=yield function(s,c){let l=J(s),u=at.now(),h=c.reduce((m,C)=>m.add(C.key),pe()),p,y;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let C=dr(),M=pe();return l.Cs.getEntries(m,h).next(R=>{C=R,C.forEach((U,K)=>{K.isValidDocument()||(M=M.add(U))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,C)).next(R=>{p=R;let U=[];for(let K of c){let ne=kj(K,p.get(K.key).overlayedDocument);ne!=null&&U.push(new On(K.key,ne,ZD(ne.value.mapValue),or.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,U,c)}).next(R=>{y=R;let U=R.applyToLocalDocumentSet(p,M);return l.documentOverlayCache.saveOverlays(m,R.batchId,U)})}).then(()=>({batchId:y.batchId,changes:aA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,l){let u=s.uu[s.currentUser.toKey()];u||(u=new Oe(ae)),u=u.insert(c,l),s.uu[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Bc(r,i.changes),yield qh(r.remoteStore)}catch(i){let o=K_(i,"Failed to persist write");n.reject(o)}})}function kA(t,e){return D(this,null,function*(){let n=J(t);try{let r=yield oB(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n._u.get(o);s&&(Ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.tu=!0:i.modifiedDocuments.size>0?Ee(s.tu,14607):i.removedDocuments.size>0&&(Ee(s.tu,42227),s.tu=!1))}),yield Bc(n,r,e)}catch(r){yield Ds(r)}})}function yD(t,e,n){let r=J(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ru.forEach((o,s)=>{let c=s.view.ga(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let l=J(s);l.onlineState=c;let u=!1;l.queries.forEach((h,p)=>{for(let y of p.Ra)y.ga(c)&&(u=!0)}),u&&Q_(l)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function xB(t,e,n){return D(this,null,function*(){let r=J(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r._u.get(e),o=i&&i.key;if(o){let s=new Oe(W.comparator);s=s.insert(o,pn.newNoDocument(o,X.min()));let c=pe().add(o),l=new hh(X.min(),new Map,new Oe(ae),s,c);yield kA(r,l),r.ou=r.ou.remove(o),r._u.delete(e),J_(r)}else yield Zv(r.localStore,e,!1).then(()=>E_(r,e,n)).catch(Ds)})}function PB(t,e){return D(this,null,function*(){let n=J(t),r=e.batch.batchId;try{let i=yield iB(n.localStore,e);VA(n,r,null),OA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Bc(n,i)}catch(i){yield Ds(i)}})}function kB(t,e,n){return D(this,null,function*(){let r=J(t);try{let i=yield function(s,c){let l=J(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,c).next(p=>(Ee(p!==null,37113),h=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);VA(r,e,n),OA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Bc(r,i)}catch(i){yield Ds(i)}})}function OA(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function VA(t,e,n){let r=J(t),i=r.uu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function E_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||FA(t,r)})}function FA(t,e){t.su.delete(e.path.canonicalString());let n=t.ou.get(e);n!==null&&(q_(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),J_(t))}function vD(t,e,n){for(let r of n)r instanceof Dh?(t.au.addReference(r.key,e),OB(t,r)):r instanceof Ah?(j(Y_,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||FA(t,r.key)):z(19791,{Iu:r})}function OB(t,e){let n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(j(Y_,"New document in limbo: "+n),t.su.add(r),J_(t))}function J_(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){let e=t.su.values().next().value;t.su.delete(e);let n=new W(ke.fromString(e)),r=t.lu.next();t._u.set(r,new v_(n)),t.ou=t.ou.insert(n,r),DA(t.remoteStore,new Pc(Nn(j_(n.path)),r,"TargetPurposeLimboResolution",x_.le))}}function Bc(t,e,n){return D(this,null,function*(){let r=J(t),i=[],o=[],s=[];r.ru.isEmpty()||(r.ru.forEach((c,l)=>{s.push(r.Pu(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){let p=u?!u.fromCache:(h=n?.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){i.push(u);let p=Kv.Ps(l.targetId,u);o.push(p)}}))}),yield Promise.all(s),r.nu.Q_(i),yield function(l,u){return D(this,null,function*(){let h=J(l);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(u,y=>k.forEach(y.ls,m=>h.persistence.referenceDelegate.addReference(p,y.targetId,m)).next(()=>k.forEach(y.hs,m=>h.persistence.referenceDelegate.removeReference(p,y.targetId,m)))))}catch(p){if(!As(p))throw p;j(H_,"Failed to update sequence numbers: "+p)}for(let p of u){let y=p.targetId;if(!p.fromCache){let m=h.Ss.get(y),C=m.snapshotVersion,M=m.withLastLimboFreeSnapshotVersion(C);h.Ss=h.Ss.insert(y,M)}}})}(r.localStore,o))})}function VB(t,e){return D(this,null,function*(){let n=J(t);if(!n.currentUser.isEqual(e)){j(Y_,"User change. New user:",e.toKey());let r=yield CA(n.localStore,e);n.currentUser=e,function(o,s){o.cu.forEach(c=>{c.forEach(l=>{l.reject(new H(O.CANCELLED,s))})}),o.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Bc(n,r.Ms)}})}function FB(t,e){let n=J(t),r=n._u.get(e);if(r&&r.tu)return pe().add(r.key);{let i=pe(),o=n.iu.get(e);if(!o)return i;for(let s of o){let c=n.ru.get(s);i=i.unionWith(c.view.Wa)}return i}}function LA(t){let e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xB.bind(null,e),e.nu.Q_=TB.bind(null,e.eventManager),e.nu.Tu=CB.bind(null,e.eventManager),e}function LB(t){let e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kB.bind(null,e),e}var UA=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return D(this,null,function*(){this.serializer=$h(n.databaseInfo.databaseId),this.sharedClientState=this.Au(n),this.persistence=this.Ru(n),yield this.persistence.start(),this.localStore=this.Vu(n),this.gcScheduler=this.mu(n,this.localStore),this.indexBackfillerScheduler=this.fu(n,this.localStore)})}mu(n,r){return null}fu(n,r){return null}Vu(n){return rB(this.persistence,new Yv,n.initialUser,this.serializer)}Ru(n){return new vh(Gv.Ei,this.serializer)}Au(n){return new Xv}terminate(){return D(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),I_=class extends UA{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Ee(this.persistence.referenceDelegate instanceof _h,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new kv(r,e.asyncQueue,n)}Ru(e){let n=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new vh(r=>_h.Ei(r,n),this.serializer)}};var UB=(()=>{class t{initialize(n,r){return D(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>yD(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=VB.bind(null,this.syncEngine),yield IB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new f_}()}createDatastore(n){let r=$h(n.databaseInfo.databaseId),i=function(s){return new i_(s)}(n.databaseInfo);return function(s,c,l,u){return new c_(s,c,l,u)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,c,l){return new u_(i,o,s,c,l)}(this.localStore,this.datastore,n.asyncQueue,r=>yD(this.syncEngine,r,0),function(){return Ih.C()?new Ih:new e_}())}createSyncEngine(n,r){return function(o,s,c,l,u,h,p){let y=new __(o,s,c,l,u,h);return p&&(y.hu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return D(this,null,function*(){var n,r;yield function(o){return D(this,null,function*(){let s=J(o);j(Wi,"RemoteStore shutting down."),s.aa.add(5),yield jc(s),s.ca.shutdown(),s.la.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var w_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Hr="FirestoreClient",b_=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tt.UNAUTHENTICATED,this.clientId=oh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>D(this,null,function*(){j(Hr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(j(Hr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>D(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=K_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Gy(t,e){return D(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),j(Hr,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>D(this,null,function*(){r.isEqual(i)||(yield CA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function _D(t,e){return D(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield jB(t);j(Hr,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>pD(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>pD(e.remoteStore,i)),t._onlineComponents=e})}function jB(t){return D(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j(Hr,"Using user provided OfflineComponentProvider");try{yield Gy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ds("Error using user provided cache. Falling back to memory cache: "+n),yield Gy(t,new UA)}}else j(Hr,"Using default OfflineComponentProvider"),yield Gy(t,new I_(void 0));return t._offlineComponents})}function jA(t){return D(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(j(Hr,"Using user provided OnlineComponentProvider"),yield _D(t,t._uninitializedComponentsProvider._online)):(j(Hr,"Using default OnlineComponentProvider"),yield _D(t,new UB))),t._onlineComponents})}function BB(t){return jA(t).then(e=>e.syncEngine)}function ED(t){return D(this,null,function*(){let e=yield jA(t),n=e.eventManager;return n.onListen=SB.bind(null,e.syncEngine),n.onUnlisten=RB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MB.bind(null,e.syncEngine),n})}function BA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var ID=new Map;function $A(t,e,n){if(!n)throw new H(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $B(t,e,n,r){if(e===!0&&r===!0)throw new H(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wD(t){if(!W.isDocumentKey(t))throw new H(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bD(t){if(W.isDocumentKey(t))throw new H(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Z_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":z(12329,{type:typeof t})}function sr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Z_(t);throw new H(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var HA="firestore.googleapis.com",TD=!0,Rh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HA,this.ssl=TD}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:TD;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eB)throw new H(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$B("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ts=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ky;switch(r.type){case"firstParty":return new Zy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return D(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=ID.get(n);r&&(j("ComponentProvider","Removing Datastore"),ID.delete(n),r.terminate())}(this),Promise.resolve()}};function qA(t,e,n,r={}){var i;let o=(t=sr(t,Ts))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;o.host!==HA&&o.host!==c&&ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},o),{host:c,ssl:!1,emulatorOptions:r});if(!Ri(l,s)&&(t._setSettings(l),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=tt.MOCK_USER;else{u=V0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new H(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new tt(p)}t._authCredentials=new Qy(new rh(u,h))}}var Mh=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Pt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},jr=class t extends Mh{constructor(e,n,r){super(e,n,j_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new W(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function zA(t,e,...n){if(t=ft(t),$A("collection","path",e),t instanceof Ts){let r=ke.fromString(e,...n);return bD(r),new jr(t,null,r)}{if(!(t instanceof Pt||t instanceof jr))throw new H(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return bD(r),new jr(t.firestore,null,r)}}function WA(t,e,...n){if(t=ft(t),arguments.length===1&&(e=oh.newId()),$A("doc","path",e),t instanceof Ts){let r=ke.fromString(e,...n);return wD(r),new Pt(t,null,new W(r))}{if(!(t instanceof Pt||t instanceof jr))throw new H(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return wD(r),new Pt(t.firestore,t instanceof jr?t.converter:null,new W(r))}}var CD="AsyncQueue",Nh=class{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new wh(this,"async_queue_retry"),this.ju=()=>{let r=Wy();r&&j(CD,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;let n=Wy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;let n=Wy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});let n=new ir;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}Zu(){return D(this,null,function*(){if(this.Qu.length!==0){try{yield this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!As(e))throw e;j(CD,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}})}Yu(e){let n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,ar("INTERNAL UNHANDLED ERROR: ",SD(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);let i=d_.createAndSchedule(this,e,n,r,o=>this.Xu(o));return this.Uu.push(i),i}Ju(){this.Ku&&z(47125,{ec:SD(this.Ku)})}verifyOperationInProgress(){}tc(){return D(this,null,function*(){let e;do e=this.Hu,yield e;while(e!==this.Hu)})}nc(e){for(let n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){let n=this.Uu.indexOf(e);this.Uu.splice(n,1)}};function SD(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function DD(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var qr=class extends Ts{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Nh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return D(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Nh(e),this._firestoreClient=void 0,yield e}})}};function GA(t,e){let n=typeof t=="object"?t:es(),r=typeof t=="string"?t:e||lh,i=Nd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=k0("firestore");o&&qA(i,...o)}return i}function KA(t){if(t._terminated)throw new H(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||HB(t),t._firestoreClient}function HB(t){var e,n,r;let i=t._freezeSettings(),o=function(c,l,u,h){return new rv(c,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,BA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new b_(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){let l=c?._online.build();return{_offline:c?._offline.build(l),_online:l}}(t._componentsProvider))}var Vc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(gt.fromBase64String(e))}catch(n){throw new H(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Cs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Fc=class{constructor(e){this._methodName=e}};var Lc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}};var Uc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var qB=/^__.*__$/,T_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new On(e,this.data,this.fieldMask,n,this.fieldTransforms):new zi(e,this.data,n,this.fieldTransforms)}},xh=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new On(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function QA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z(40011,{oc:t})}}var C_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return kh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(QA(this.oc)&&qB.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}},S_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$h(e)}dc(e,n,r,i=!1){return new C_({oc:e,methodName:n,Ec:r,path:Bt.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function YA(t){let e=t._freezeSettings(),n=$h(t._databaseId);return new S_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zB(t,e,n,r,i,o={}){let s=t.dc(o.merge||o.mergeFields?2:0,e,n,i);X_("Data must be an object, but it was:",s,r);let c=JA(r,s),l,u;if(o.merge)l=new en(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let y=D_(e,p,n);if(!s.contains(y))throw new H(O.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);XA(h,y)||h.push(y)}l=new en(h),u=s.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=s.fieldTransforms;return new T_(new jt(c),l,u)}var Ph=class t extends Fc{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function WB(t,e,n,r){let i=t.dc(1,e,n);X_("Data must be an object, but it was:",i,r);let o=[],s=jt.empty();zr(r,(l,u)=>{let h=eE(e,l,n);u=ft(u);let p=i.hc(h);if(u instanceof Ph)o.push(h);else{let y=zh(u,p);y!=null&&(o.push(h),s.set(h,y))}});let c=new en(o);return new xh(s,c,i.fieldTransforms)}function GB(t,e,n,r,i,o){let s=t.dc(1,e,n),c=[D_(e,r,n)],l=[i];if(o.length%2!=0)throw new H(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)c.push(D_(e,o[y])),l.push(o[y+1]);let u=[],h=jt.empty();for(let y=c.length-1;y>=0;--y)if(!XA(u,c[y])){let m=c[y],C=l[y];C=ft(C);let M=s.hc(m);if(C instanceof Ph)u.push(m);else{let R=zh(C,M);R!=null&&(u.push(m),h.set(m,R))}}let p=new en(u);return new xh(h,p,s.fieldTransforms)}function zh(t,e){if(ZA(t=ft(t)))return X_("Unsupported field value:",e,t),JA(t,e);if(t instanceof Fc)return function(r,i){if(!QA(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let l=zh(c,i.Pc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Rj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=at.fromDate(r);return{timestampValue:mh(i.serializer,o)}}if(r instanceof at){let o=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mh(i.serializer,o)}}if(r instanceof Lc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vc)return{bytesValue:yA(i.serializer,r._byteString)};if(r instanceof Pt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:$_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Uc)return function(s,c){return{mapValue:{fields:{[O_]:{stringValue:V_},[fs]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw c.Tc("VectorValues must only contain numeric values.");return B_(c.serializer,u)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${Z_(r)}`)}(t,e)}function JA(t,e){let n={};return qD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zr(t,(r,i)=>{let o=zh(i,e.uc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function ZA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof Lc||t instanceof Vc||t instanceof Pt||t instanceof Fc||t instanceof Uc)}function X_(t,e,n){if(!ZA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Z_(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function D_(t,e,n){if((e=ft(e))instanceof Cs)return e._internalPath;if(typeof e=="string")return eE(t,e);throw kh("Field path arguments must be of type string or ",t,!1,void 0,n)}var KB=new RegExp("[~\\*/\\[\\]]");function eE(t,e,n){if(e.search(KB)>=0)throw kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cs(...e.split("."))._internalPath}catch{throw kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new H(O.INVALID_ARGUMENT,c+t+l)}function XA(t,e){return t.some(n=>n.isEqual(e))}var Oh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new A_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(eR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},A_=class extends Oh{data(){return super.data()}};function eR(t,e){return typeof e=="string"?eE(t,e):e instanceof Cs?e._internalPath:e._delegate._internalPath}function QB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var R_=class{convertValue(e,n="none"){switch(Br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw z(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return zr(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[fs].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Me(s.doubleValue));return new Uc(o)}convertGeoPoint(e){return new Lc(Me(e.latitude),Me(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Uh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Rc(e));default:return null}}convertTimestamp(e){let n=cr(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=ke.fromString(e);Ee(bA(r),9688,{name:e});let i=new uh(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(n)||ar(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function YB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var ji=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Vh=class extends Oh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new us(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(eR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},us=class extends Vh{data(e={}){return super.data(e)}},M_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ji(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new us(this._firestore,this._userDataWriter,r.key,r,new ji(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let l=new us(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ji(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let l=new us(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ji(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,h=-1;return c.type!==0&&(u=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),h=s.indexOf(c.doc.key)),{type:JB(c.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function JB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z(61501,{type:t})}}var Fh=class extends R_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}};function tR(t,e,n){t=sr(t,Pt);let r=sr(t.firestore,qr),i=YB(t.converter,e,n);return nE(r,[zB(YA(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,or.none())])}function nR(t,e,n,...r){t=sr(t,Pt);let i=sr(t.firestore,qr),o=YA(i),s;return s=typeof(e=ft(e))=="string"||e instanceof Cs?GB(o,"updateDoc",t._key,e,n,r):WB(o,"updateDoc",t._key,e),nE(i,[s.toMutation(t._key,or.exists(!0))])}function rR(t){return nE(sr(t.firestore,qr),[new Nc(t._key,or.none())])}function tE(t,...e){var n,r,i;t=ft(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||DD(e[s])||(o=e[s],s++);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(DD(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let l,u,h;if(t instanceof Pt)u=sr(t.firestore,qr),h=j_(t._key.path),l={next:p=>{e[s]&&e[s](ZB(u,t,p))},error:e[s+1],complete:e[s+2]};else{let p=sr(t,Mh);u=sr(p.firestore,qr),h=p._query;let y=new Fh(u);l={next:m=>{e[s]&&e[s](new M_(u,y,p,m))},error:e[s+1],complete:e[s+2]},QB(t._query)}return function(y,m,C,M){let R=new w_(M),U=new g_(m,R,C);return y.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return wB(yield ED(y),U)})),()=>{R.yu(),y.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return bB(yield ED(y),U)}))}}(KA(u),h,c,l)}function nE(t,e){return function(r,i){let o=new ir;return r.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return NB(yield BB(r),i,o)})),o.promise}(KA(t),e)}function ZB(t,e,n){let r=n.docs.get(e._key),i=new Fh(t);return new Vh(t,i,e._key,r,new ji(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ss=i})(Xo),hn(new St("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new qr(new Yy(r.getProvider("auth-internal")),new Xy(s,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new H(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uh(u.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Le(FS,LS,e),Le(FS,LS,"esm2017")})();var Wh=function(){return Wh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Wh.apply(this,arguments)};var t$={includeMetadataChanges:!1};function rE(t,e){return e===void 0&&(e=t$),new le(function(n){var r=tE(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function iR(t){return rE(t,{includeMetadataChanges:!0})}function oR(t,e){return e===void 0&&(e={}),iR(t).pipe(ie(function(n){return iE(n,e)}))}function iE(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Wh(Wh({},r),(n={},n[e.idField]=t.id,n))}function sR(t){return rE(t,{includeMetadataChanges:!0}).pipe(ie(function(e){return e.docs}))}function aR(t,e){return e===void 0&&(e={}),sR(t).pipe(ie(function(n){return n.map(function(r){return iE(r,e)})}))}var hr=class{constructor(e){return e}},cR="firestore",oE=class{constructor(){return ns(cR)}};var sE=new $("angularfire2.firestore-instances");function n$(t,e){let n=kd(cR,t,e);return n&&new hr(n)}function r$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new hr(r)}}var i$={provide:oE,deps:[[new Cr,sE]]},o$={provide:hr,useFactory:n$,deps:[[new Cr,sE],ki]};function lR(t,...e){return Le("angularfire",xi.full,"fst"),di([o$,i$,{provide:sE,useFactory:r$(t),multi:!0,deps:[Se,bt,Pi,pc,[new Cr,Kd],[new Cr,Vd],...e]}])}var Gh=Ut(aR,!0);var uR=Ut(oR,!0);var Kh=Ut(zA,!0,2);var dR=Ut(rR,!0,2);var Ki=Ut(WA,!0,2);var hR=Ut(GA,!0);var Qh=Ut(tR,!0,2);var fR=Ut(nR,!0,2);var tn=class t{firestore=P(hr);userCollection=Kh(this.firestore,"users");searchTerm=Ar("");getUsers(){return Gh(this.userCollection,{idField:"id"})}addUser(e){let n=Ki(this.userCollection),r=n.id;e.id=r,Qh(n,e)}updateUser(e){let n=Ki(this.firestore,`users/${e.id}`);fR(n,F({},e))}deleteUser(e){let n=Ki(this.firestore,`users/${e.id}`);dR(n)}getUserById(e){let n=Ki(this.firestore,`users/${e}`);return uR(n,{idField:"id"})}constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var pR=t=>["/edit",t],gR=(t,e)=>e.id;function s$(t,e){if(t&1){let n=vi();N(0,"div",7)(1,"div",8),Re("click",function(){let i=Kn(n).$implicit,o=Qt(2);return Qn(o.contact(i.id))}),N(2,"h4"),V(3),x(),N(4,"p"),V(5),x(),N(6,"p"),V(7),x(),N(8,"p"),V(9),x(),N(10,"p"),V(11),x()(),N(12,"div",9)(13,"button",10),V(14," Edit "),x(),N(15,"button",11),Re("click",function(){let i=Kn(n).$implicit,o=Qt(2);return Qn(o.delete(i.id))}),V(16,"Delete"),x()()()}if(t&2){let n=e.$implicit;G(3),$e(n.fullName),G(2),$e(n.email),G(2),$e(n.phoneNumber),G(2),$e(n.role),G(2),$e(n.description),G(2),In("routerLink",em(6,pR,n.id))}}function a$(t,e){if(t&1&&Da(0,s$,17,8,"div",7,gR),t&2){let n=Qt();Aa(n.users)}}function c$(t,e){if(t&1){let n=vi();N(0,"div",7)(1,"div",8),Re("click",function(){let i=Kn(n).$implicit,o=Qt(2);return Qn(o.contact(i.id))}),N(2,"h4"),V(3),x(),N(4,"p"),V(5),x(),N(6,"p"),V(7),x(),N(8,"p"),V(9),x(),N(10,"p"),V(11),x()(),N(12,"div",9)(13,"button",10),V(14," Edit "),x(),N(15,"button",11),Re("click",function(){let i=Kn(n).$implicit,o=Qt(2);return Qn(o.delete(i.id))}),V(16,"Delete"),x()()()}if(t&2){let n=e.$implicit;G(3),$e(n.fullName),G(2),$e(n.email),G(2),$e(n.phoneNumber),G(2),$e(n.role),G(2),$e(n.description),G(2),In("routerLink",em(6,pR,n.id))}}function l$(t,e){if(t&1&&Da(0,c$,17,8,"div",7,gR),t&2){let n=Qt();Aa(n.filteredItems())}}var Yh=class t{constructor(e){this.router=e}userService=P(tn);users=[];route=P(st);input="";user;selectedUser;editUserId=null;filteredItems=Mr(()=>this.users.filter(e=>e.fullName.toLowerCase().includes(this.userService.searchTerm().toLowerCase())));delete(e){window.confirm("Are you sure you want to delete this user?")&&this.userService.getUserById(e).subscribe(n=>this.userService.deleteUser(n))}sendSearch(){this.userService.searchTerm.set(this.input),console.log(this.filteredItems.toString)}contact(e){this.editUserId=e,this.userService.getUserById(this.editUserId).subscribe(n=>{this.user=n}),this.user.clicks=this.user.clicks+1,this.updateUser(),this.router.navigate(["/info",e])}ngOnInit(){this.userService.getUsers().subscribe(n=>this.users=n);let e=this.route.snapshot.paramMap.get("id")??""}resetForm(){this.user={id:"",fullName:"",email:"",phoneNumber:"",role:"",address:"",clicks:0,description:""},this.editUserId=null}setEditUser(e){this.user=F({},e),this.editUserId=e.id}deleteUser(e){this.userService.deleteUser(e)}updateUser(){this.userService.updateUser(this.user),this.resetForm()}static \u0275fac=function(n){return new(n||t)(Y(Ct))};static \u0275cmp=Be({type:t,selectors:[["app-form-list"]],decls:11,vars:2,consts:[[1,"main-content"],[1,"directory-container"],[1,"header"],[1,"search-container"],[1,"header","search-header"],["type","text","placeholder","Type a name...",3,"ngModelChange","keyup","ngModel"],[1,"tiles-container"],[1,"card"],[1,"user-info",3,"click"],[1,"button-container"],[1,"edit-btn",3,"routerLink"],[1,"delete-btn",3,"click"]],template:function(n,r){n&1&&(N(0,"div",0)(1,"div",1)(2,"h2",2),V(3,"Directory"),x(),N(4,"div",3)(5,"h2",4),V(6,"Search by Name"),x(),N(7,"input",5),Fe("ngModelChange",function(o){return He(r.input,o)||(r.input=o),o}),Re("keyup",function(){return r.sendSearch()}),x()(),N(8,"div",6),yi(9,a$,2,0)(10,l$,2,0),x()()()),n&2&&(G(7),Ve("ngModel",r.input),G(2),Oo(r.input?10:9))},dependencies:[Vr,Dn,Or,Xn,Sn],styles:[".main-content[_ngcontent-%COMP%]{margin-left:250px;padding:2rem;min-height:100vh;display:flex;justify-content:center;align-items:flex-start;background-color:#f5f0e6}.header[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:2rem;font-weight:700;color:#0d5257;text-shadow:1px 1px 0 rgba(0,0,0,.15);text-align:center;letter-spacing:.5px}.directory-container[_ngcontent-%COMP%]{width:100%;max-width:900px;display:flex;flex-direction:column;gap:1.5rem;padding:2rem;background-color:#fff;border-radius:12px;box-shadow:0 4px 12px #0000001a}.card[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;border:1px solid #ccc;border-radius:8px;padding:1rem 1.5rem;background-color:#f9f9f9;box-shadow:0 2px 4px #0000000d;transition:transform .2s ease}.card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem;color:#0d5257;margin-bottom:.5rem}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400;font-size:1rem;color:#333;margin-bottom:.3rem}.card[_ngcontent-%COMP%]:hover{transform:scale(1.01);box-shadow:0 4px 10px #0000001a}.edit-btn[_ngcontent-%COMP%]{padding:8px 12px;font-size:14px;font-weight:600;color:#0d5257;background-color:#fff;border:2px solid #0d5257;border-radius:6px;cursor:pointer;transition:all .2s ease-in-out}.edit-btn[_ngcontent-%COMP%]:hover{background-color:#0d5257;color:#fff}.delete-btn[_ngcontent-%COMP%]{padding:8px 12px;font-size:14px;font-weight:600;color:#fff;background-color:#d9534f;border:2px solid #c9302c;border-radius:6px;cursor:pointer;transition:all .2s ease-in-out}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#c9302c;border-color:#b52b27}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:1rem}.search-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;justify-content:center;margin-bottom:1.5rem}.header.search-header[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#0d5257;background-color:transparent;padding:10px 20px;border-radius:8px;box-shadow:none;margin-bottom:0}input[type=text][_ngcontent-%COMP%]{width:100%;max-width:300px;padding:10px;font-size:16px;border:2px solid #0d5257;border-radius:8px;outline:none;transition:all .3s ease-in-out;box-shadow:0 2px 6px #0000001a}.tiles-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1.5rem}"]})};function u$(t,e){if(t&1){let n=vi();N(0,"button",20),Re("click",function(){Kn(n);let i=Qt();return Qn(i.delete(i.user.id))}),V(1,"Delete"),x()}}var Jh=class t{userService=P(tn);users=[];route=P(st);user;selectedUser;editUserId=null;ngOnInit(){this.userService.getUsers().subscribe(n=>this.users=n);let e=this.route.snapshot.paramMap.get("id")??"";this.editUserId=e,this.userService.getUserById(this.editUserId).subscribe(n=>{this.user=n})}resetForm(){this.user={id:"",fullName:"",email:"",phoneNumber:"",role:"",address:"",clicks:0,description:""},this.editUserId=null}setEditUser(e){this.user=F({},e),this.editUserId=e.id}deleteUser(e){this.userService.deleteUser(e)}updateUser(){this.userService.updateUser(this.user),this.resetForm}delete(e){this.userService.getUserById(e).subscribe(n=>this.userService.deleteUser(n))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Be({type:t,selectors:[["app-form-edit"]],decls:35,vars:7,consts:[[1,"main-content"],[1,"form-container"],[1,"header"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","phone",1,"form-label"],["type","tel","id","phone","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","role",1,"form-label"],["id","role",1,"form-select",3,"ngModelChange","ngModel"],["value","Resident"],["value","Business"],["for","address",1,"form-label"],["type","text","id","address","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","Description",1,"form-label"],["type","text","id","Description",1,"form-control",3,"ngModelChange","ngModel"],["type","submit","routerLink","/directory",1,"btn","btn-primary",3,"click"],["id","delete-btn","routerLink","/directory",1,"btn","btn-outline-danger","btn-sm"],["id","delete-btn","routerLink","/directory",1,"btn","btn-outline-danger","btn-sm",3,"click"]],template:function(n,r){n&1&&(N(0,"div",0)(1,"div",1)(2,"h2",2),V(3,"Edit Page "),x(),N(4,"div",3)(5,"label",4),V(6,"Full Name"),x(),N(7,"input",5),Fe("ngModelChange",function(o){return He(r.user.fullName,o)||(r.user.fullName=o),o}),x()(),N(8,"div",3)(9,"label",6),V(10,"Email Address"),x(),N(11,"input",7),Fe("ngModelChange",function(o){return He(r.user.email,o)||(r.user.email=o),o}),x()(),N(12,"div",3)(13,"label",8),V(14,"Phone Number"),x(),N(15,"input",9),Fe("ngModelChange",function(o){return He(r.user.phoneNumber,o)||(r.user.phoneNumber=o),o}),x()(),N(16,"div",3)(17,"label",10),V(18,"Role"),x(),N(19,"select",11),Fe("ngModelChange",function(o){return He(r.user.role,o)||(r.user.role=o),o}),N(20,"option",12),V(21,"Resident"),x(),N(22,"option",13),V(23,"Business"),x()()(),N(24,"div",3)(25,"label",14),V(26,"Address"),x(),N(27,"input",15),Fe("ngModelChange",function(o){return He(r.user.address,o)||(r.user.address=o),o}),x()(),N(28,"div",3)(29,"label",16),V(30,"Description (Business)"),x(),N(31,"input",17),Fe("ngModelChange",function(o){return He(r.user.description,o)||(r.user.description=o),o}),x()(),N(32,"button",18),Re("click",function(){return r.updateUser()}),V(33,"Submit"),x(),yi(34,u$,2,0,"button",19),x()()),n&2&&(G(7),Ve("ngModel",r.user.fullName),G(4),Ve("ngModel",r.user.email),G(4),Ve("ngModel",r.user.phoneNumber),G(4),Ve("ngModel",r.user.role),G(8),Ve("ngModel",r.user.address),G(4),Ve("ngModel",r.user.description),G(3),Oo(r.editUserId?34:-1))},dependencies:[Vr,bd,Td,Dn,Zo,Or,Di,Xn,Sn],styles:[".main-content[_ngcontent-%COMP%]{margin-left:250px;padding:2rem;min-height:100vh;display:flex;justify-content:center;align-items:flex-start;background-color:#f5f0e6}.form-container[_ngcontent-%COMP%]{width:100%;max-width:650px;display:flex;flex-direction:column;gap:.5rem;background-color:#fff;padding:2rem;border-radius:12px;box-shadow:0 4px 12px #0000001a}.header[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:2rem;font-weight:700;color:#0d5257;text-shadow:1px 1px 0 rgba(0,0,0,.15);margin-bottom:1.5rem;text-align:center;letter-spacing:.5px}"]})};var Zh=class t{userService=P(tn);user={id:"",fullName:"",email:"",phoneNumber:"",role:"",address:"",clicks:0,description:""};users=[];ngOnInit(){this.userService.getUsers().subscribe(e=>this.users=e)}addUser(){this.userService.addUser(this.user),this.resetForm()}resetForm(){this.user={id:"",fullName:"",email:"",phoneNumber:"",role:"",address:"",clicks:0,description:""}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Be({type:t,selectors:[["app-form-add"]],decls:34,vars:6,consts:[[1,"main-content"],[1,"form-container"],[1,"header"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","phone",1,"form-label"],["type","tel","id","phone","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","role",1,"form-label"],["id","role",1,"form-select",3,"ngModelChange","ngModel"],["value","Resident"],["value","Business"],["for","address",1,"form-label"],["type","text","id","address","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","Description",1,"form-label"],["type","text","id","Description",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(n,r){n&1&&(N(0,"div",0)(1,"div",1)(2,"h2",2),V(3,"Form Page"),x(),N(4,"div",3)(5,"label",4),V(6,"Full Name"),x(),N(7,"input",5),Fe("ngModelChange",function(o){return He(r.user.fullName,o)||(r.user.fullName=o),o}),x()(),N(8,"div",3)(9,"label",6),V(10,"Email Address"),x(),N(11,"input",7),Fe("ngModelChange",function(o){return He(r.user.email,o)||(r.user.email=o),o}),x()(),N(12,"div",3)(13,"label",8),V(14,"Phone Number"),x(),N(15,"input",9),Fe("ngModelChange",function(o){return He(r.user.phoneNumber,o)||(r.user.phoneNumber=o),o}),x()(),N(16,"div",3)(17,"label",10),V(18,"Role"),x(),N(19,"select",11),Fe("ngModelChange",function(o){return He(r.user.role,o)||(r.user.role=o),o}),N(20,"option",12),V(21,"Resident"),x(),N(22,"option",13),V(23,"Business"),x()()(),N(24,"div",3)(25,"label",14),V(26,"Address"),x(),N(27,"input",15),Fe("ngModelChange",function(o){return He(r.user.address,o)||(r.user.address=o),o}),x()(),N(28,"div",3)(29,"label",16),V(30,"Description (Business)"),x(),N(31,"input",17),Fe("ngModelChange",function(o){return He(r.user.description,o)||(r.user.description=o),o}),x()(),N(32,"button",18),Re("click",function(){return r.addUser()}),V(33,"Submit"),x()()()),n&2&&(G(7),Ve("ngModel",r.user.fullName),G(4),Ve("ngModel",r.user.email),G(4),Ve("ngModel",r.user.phoneNumber),G(4),Ve("ngModel",r.user.role),G(8),Ve("ngModel",r.user.address),G(4),Ve("ngModel",r.user.description))},dependencies:[Vr,bd,Td,Dn,Zo,Or,Di,Xn],styles:[".main-content[_ngcontent-%COMP%]{margin-left:250px;padding:2rem;min-height:100vh;display:flex;justify-content:center;align-items:flex-start;background-color:#f5f0e6}.form-container[_ngcontent-%COMP%]{width:100%;max-width:650px;display:flex;flex-direction:column;gap:.5rem;background-color:#fff;padding:2rem;border-radius:12px;box-shadow:0 4px 12px #0000001a}.header[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:2rem;font-weight:700;color:#0d5257;text-shadow:1px 1px 0 rgba(0,0,0,.15);margin-bottom:1.5rem;text-align:center;letter-spacing:.5px}"]})};var Xh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Be({type:t,selectors:[["app-about-us"]],decls:30,vars:0,consts:[[1,"main-content"],[1,"about-container"],[1,"header"],[1,"about-description"],[1,"catchphrase"],[1,"team"],[1,"team-title"],[1,"team-grid"],[1,"team-member-card"],[1,"footer"]],template:function(n,r){n&1&&(N(0,"div",0)(1,"div",1)(2,"h2",2),V(3,"About FarPhones"),x(),N(4,"p",3),V(5," FarPhones is an online directory designed to help the people of Fargo quickly and efficiently search for the contact details of residents and businesses in the area. Whether you need a phone number, address, or business details, FarPhones makes it easy to find what you're looking for. "),x(),N(6,"p",4),V(7,"\u201CYou know who to call, FarPhones!\u201D"),x(),N(8,"div",5)(9,"h3",6),V(10,"Meet the Team"),x(),N(11,"div",7)(12,"div",8)(13,"h4"),V(14,"Omar Hussein"),x(),N(15,"p"),V(16,"Co-Creator & Developer"),x()(),N(17,"div",8)(18,"h4"),V(19,"Michael Toquam"),x(),N(20,"p"),V(21,"Co-Creator & Developer"),x()(),N(22,"div",8)(23,"h4"),V(24,"Reece Breidenbach"),x(),N(25,"p"),V(26,"Co-Creator & Developer"),x()()()(),N(27,"div",9)(28,"p"),V(29,"\xA9 2025 FarPhones. All rights reserved."),x()()()())},styles:[".main-content[_ngcontent-%COMP%]{margin-left:250px;padding:2rem;min-height:100vh;display:flex;justify-content:center;align-items:flex-start;background-color:#f5f0e6}.header[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:2rem;font-weight:700;color:#0d5257;text-shadow:1px 1px 0 rgba(0,0,0,.15);margin-bottom:1.5rem;text-align:center;letter-spacing:.5px}.about-container[_ngcontent-%COMP%]{width:100%;max-width:800px;padding:2rem;background-color:#fff;border-radius:12px;box-shadow:0 4px 12px #0000001a;margin-top:2rem}.about-description[_ngcontent-%COMP%]{font-size:1.1rem;color:#333;line-height:1.6;margin-bottom:2rem}.catchphrase[_ngcontent-%COMP%]{font-size:1.5rem;font-family:Pacifico,cursive;font-weight:600;color:#0d5257;text-align:center;margin-top:1.5rem}.team[_ngcontent-%COMP%]{margin-top:2rem}.team-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0d5257;text-align:center;margin-bottom:1.5rem}.team-grid[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:2rem;flex-wrap:wrap}.team-member-card[_ngcontent-%COMP%]{background-color:#fdfaf5;border-radius:12px;padding:1.5rem;width:220px;text-align:center;box-shadow:0 4px 12px #0000001a;transition:transform .2s ease}.team-member-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 6px 18px #00000026}.team-member-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:.5rem 0;font-size:1.2rem;font-weight:600;color:#0d5257}.team-member-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#555;margin:0}.footer[_ngcontent-%COMP%]{text-align:center;margin-top:3rem;color:#777}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}"]})};var d$=(t,e)=>e.id;function h$(t,e){if(t&1){let n=vi();N(0,"div",13),Re("click",function(){let i=Kn(n).$implicit,o=Qt(2);return Qn(o.contact(i.id))}),N(1,"div",14)(2,"h4",7),V(3),x(),N(4,"p",7),V(5),x(),N(6,"p",7),V(7),x(),N(8,"p",7),V(9),x(),N(10,"p",7),V(11),x()()()}if(t&2){let n=e.$implicit;G(3),$e(n.fullName),G(2),$e(n.email),G(2),$e(n.phoneNumber),G(2),$e(n.role),G(2),$e(n.description)}}function f$(t,e){if(t&1&&(N(0,"div",11)(1,"h2",6),V(2,"\u{1F525} Popular Places \u{1F525}"),x(),Da(3,h$,12,5,"div",12,d$),x()),t&2){let n=Qt();G(3),Aa(n.topThreeUsers)}}var ef=class t{constructor(e){this.router=e}userService=P(tn);users=[];topThreeUsers=[];ngOnInit(){this.userService.getUsers().subscribe(e=>{this.topThreeUsers=e.sort((n,r)=>(r.clicks||0)-(n.clicks||0)).slice(0,3)})}contact(e){this.router.navigate(["/info",e])}static \u0275fac=function(n){return new(n||t)(Y(Ct))};static \u0275cmp=Be({type:t,selectors:[["app-home"]],decls:19,vars:1,consts:[[1,"landing"],[1,"overlay"],["src","FargoSkyline.jpg","alt","Fargo Skyline",1,"landing-image"],[1,"landing-title"],[1,"main-content","dark-panel"],[1,"dark-card"],[1,"dark-header"],[1,"dark-text"],[1,"dark-buttons"],["routerLink","/directory",1,"sidebar-btn"],["routerLink","/contactus",1,"sidebar-btn"],[1,"dark-card","top-three-container"],[1,"dark-subcard",2,"cursor","pointer"],[1,"dark-subcard",2,"cursor","pointer",3,"click"],[1,"user-info"]],template:function(n,r){n&1&&(N(0,"div",0),wn(1,"div",1)(2,"img",2),N(3,"h1",3),V(4,"You know who to call."),x()(),N(5,"div",4)(6,"div",5)(7,"h2",6),V(8,"Welcome to FarPhones"),x(),N(9,"p",7),V(10," Where technology meets reliability."),wn(11,"br"),V(12," Explore our features and connect with confidence. "),x(),N(13,"div",8)(14,"button",9),V(15,"\u{1F4DE} Explore"),x(),N(16,"button",10),V(17,"\u2709\uFE0F Contact"),x()(),yi(18,f$,5,0,"div",11),x()()),n&2&&(G(18),Oo(r.topThreeUsers.length>0?18:-1))},dependencies:[Sn],styles:['@font-face{font-family:Bebas Neue;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/bebasneue/v14/JTUSjIg69CK48gW7PXoo9Wdhyzbi.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Bebas Neue;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/bebasneue/v14/JTUSjIg69CK48gW7PXoo9Wlhyw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Rubik;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nErXyi0A.woff2) format("woff2");unicode-range:U+0600-06FF,U+0750-077F,U+0870-088E,U+0890-0891,U+0897-08E1,U+08E3-08FF,U+200C-200E,U+2010-2011,U+204F,U+2E41,U+FB50-FDFF,U+FE70-FE74,U+FE76-FEFC,U+102E0-102FB,U+10E60-10E7E,U+10EC2-10EC4,U+10EFC-10EFF,U+1EE00-1EE03,U+1EE05-1EE1F,U+1EE21-1EE22,U+1EE24,U+1EE27,U+1EE29-1EE32,U+1EE34-1EE37,U+1EE39,U+1EE3B,U+1EE42,U+1EE47,U+1EE49,U+1EE4B,U+1EE4D-1EE4F,U+1EE51-1EE52,U+1EE54,U+1EE57,U+1EE59,U+1EE5B,U+1EE5D,U+1EE5F,U+1EE61-1EE62,U+1EE64,U+1EE67-1EE6A,U+1EE6C-1EE72,U+1EE74-1EE77,U+1EE79-1EE7C,U+1EE7E,U+1EE80-1EE89,U+1EE8B-1EE9B,U+1EEA1-1EEA3,U+1EEA5-1EEA9,U+1EEAB-1EEBB,U+1EEF0-1EEF1}@font-face{font-family:Rubik;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nMrXyi0A.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Rubik;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nFrXyi0A.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Rubik;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nDrXyi0A.woff2) format("woff2");unicode-range:U+0307-0308,U+0590-05FF,U+200C-2010,U+20AA,U+25CC,U+FB1D-FB4F}@font-face{font-family:Rubik;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nPrXyi0A.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Rubik;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nBrXw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Rubik;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nErXyi0A.woff2) format("woff2");unicode-range:U+0600-06FF,U+0750-077F,U+0870-088E,U+0890-0891,U+0897-08E1,U+08E3-08FF,U+200C-200E,U+2010-2011,U+204F,U+2E41,U+FB50-FDFF,U+FE70-FE74,U+FE76-FEFC,U+102E0-102FB,U+10E60-10E7E,U+10EC2-10EC4,U+10EFC-10EFF,U+1EE00-1EE03,U+1EE05-1EE1F,U+1EE21-1EE22,U+1EE24,U+1EE27,U+1EE29-1EE32,U+1EE34-1EE37,U+1EE39,U+1EE3B,U+1EE42,U+1EE47,U+1EE49,U+1EE4B,U+1EE4D-1EE4F,U+1EE51-1EE52,U+1EE54,U+1EE57,U+1EE59,U+1EE5B,U+1EE5D,U+1EE5F,U+1EE61-1EE62,U+1EE64,U+1EE67-1EE6A,U+1EE6C-1EE72,U+1EE74-1EE77,U+1EE79-1EE7C,U+1EE7E,U+1EE80-1EE89,U+1EE8B-1EE9B,U+1EEA1-1EEA3,U+1EEA5-1EEA9,U+1EEAB-1EEBB,U+1EEF0-1EEF1}@font-face{font-family:Rubik;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nMrXyi0A.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Rubik;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nFrXyi0A.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Rubik;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nDrXyi0A.woff2) format("woff2");unicode-range:U+0307-0308,U+0590-05FF,U+200C-2010,U+20AA,U+25CC,U+FB1D-FB4F}@font-face{font-family:Rubik;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nPrXyi0A.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Rubik;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nBrXw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Rubik;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nErXyi0A.woff2) format("woff2");unicode-range:U+0600-06FF,U+0750-077F,U+0870-088E,U+0890-0891,U+0897-08E1,U+08E3-08FF,U+200C-200E,U+2010-2011,U+204F,U+2E41,U+FB50-FDFF,U+FE70-FE74,U+FE76-FEFC,U+102E0-102FB,U+10E60-10E7E,U+10EC2-10EC4,U+10EFC-10EFF,U+1EE00-1EE03,U+1EE05-1EE1F,U+1EE21-1EE22,U+1EE24,U+1EE27,U+1EE29-1EE32,U+1EE34-1EE37,U+1EE39,U+1EE3B,U+1EE42,U+1EE47,U+1EE49,U+1EE4B,U+1EE4D-1EE4F,U+1EE51-1EE52,U+1EE54,U+1EE57,U+1EE59,U+1EE5B,U+1EE5D,U+1EE5F,U+1EE61-1EE62,U+1EE64,U+1EE67-1EE6A,U+1EE6C-1EE72,U+1EE74-1EE77,U+1EE79-1EE7C,U+1EE7E,U+1EE80-1EE89,U+1EE8B-1EE9B,U+1EEA1-1EEA3,U+1EEA5-1EEA9,U+1EEAB-1EEBB,U+1EEF0-1EEF1}@font-face{font-family:Rubik;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nMrXyi0A.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Rubik;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nFrXyi0A.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Rubik;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nDrXyi0A.woff2) format("woff2");unicode-range:U+0307-0308,U+0590-05FF,U+200C-2010,U+20AA,U+25CC,U+FB1D-FB4F}@font-face{font-family:Rubik;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nPrXyi0A.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Rubik;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nBrXw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Rubik,sans-serif;background:#0d5257;color:#fff}.landing[_ngcontent-%COMP%]{position:relative;height:100vh;display:flex;align-items:center;justify-content:center}.landing-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;position:absolute;top:0;left:0;opacity:.7}.overlay[_ngcontent-%COMP%]{position:absolute;width:90%;max-width:850px;text-align:center;padding:2rem;background:#ffffff26;border-radius:15px;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);box-shadow:0 0 20px #fff3}.landing-title[_ngcontent-%COMP%]{font-size:4.8rem;font-family:Bebas Neue,sans-serif;color:#f5f0e1;text-shadow:4px 4px 10px rgba(0,0,0,.8);animation:_ngcontent-%COMP%_slideIn 1.2s ease-in-out forwards}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-30px);opacity:.8}to{transform:translateY(0);opacity:1}}.dropdown-menu[_ngcontent-%COMP%]{background:#ffffff1f;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid rgba(255,255,255,.3);padding:10px;border-radius:8px}.dropdown-item[_ngcontent-%COMP%]{color:#f5f0e1;padding:8px 12px;transition:.3s}.dropdown-item[_ngcontent-%COMP%]:hover{background:#fff3;color:#0d5257}.main-content.dark-panel[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#113f43,#0d5257);padding:6rem 2rem;display:flex;justify-content:center;align-items:center;min-height:100vh}.dark-card[_ngcontent-%COMP%]{background:#ffffff14;padding:3rem;border-radius:15px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 0 20px #fff3;max-width:600px;width:90%;text-align:center}.dark-header[_ngcontent-%COMP%]{font-size:2.8rem;font-family:Bebas Neue,sans-serif;color:#f5f0e1}.dark-text[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.6}.dark-text[_ngcontent-%COMP%]{font-size:1rem;font-family:Open Sans,sans-serif;color:#c2c2c2;line-height:1.6}.sidebar-btn[_ngcontent-%COMP%]{padding:10px 22px;font-size:1rem;font-weight:500;border:none;border-radius:50px;text-transform:uppercase;letter-spacing:1px;cursor:pointer;transition:all .3s ease-in-out;box-shadow:0 4px 10px #0000004d}.sidebar-btn[_ngcontent-%COMP%]:first-child{background:#f5f0e1;color:#0d5257}.sidebar-btn[_ngcontent-%COMP%]:first-child:hover{background:#fff;color:#0a0a0a;box-shadow:0 0 15px #ffffff80;transform:translateY(-2px)}.sidebar-btn[_ngcontent-%COMP%]:last-child{background:transparent;border:2px solid #f5f0e1;color:#f5f0e1}.sidebar-btn[_ngcontent-%COMP%]:last-child:hover{background:#f5f0e1;color:#0d5257;transform:translateY(-2px);box-shadow:0 0 12px #fff6}.top-three-container[_ngcontent-%COMP%]{margin-top:2rem;padding:2rem;background:#ffffff14;border-radius:15px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 0 20px #ffffff26;text-align:left;color:#f5f0e1}.dark-subcard[_ngcontent-%COMP%]{background:#ffffff0d;margin-bottom:1rem;padding:1rem 1.5rem;border-left:4px solid #f5f0e1;border-radius:10px;box-shadow:0 2px 8px #0000004d;transition:transform .2s ease,box-shadow .2s ease}.dark-subcard[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 14px #fff3;cursor:pointer}']})};var tf=class t{constructor(e,n){this.route=e;this.router=n}userService=P(tn);user=null;ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.userService.getUserById(e).subscribe(n=>this.user=n)}close(){this.router.navigate(["/directory"])}static \u0275fac=function(n){return new(n||t)(Y(st),Y(Ct))};static \u0275cmp=Be({type:t,selectors:[["app-form-info"]],decls:17,vars:5,consts:[[1,"main-content"],[1,"info-container"],[1,"header"],[1,"card"],[1,"close-btn",3,"click"]],template:function(n,r){n&1&&(N(0,"div",0)(1,"div",1)(2,"h2",2),V(3,"Contact Information"),x(),N(4,"div",3)(5,"h2"),V(6),x(),N(7,"p"),V(8),x(),N(9,"p"),V(10),x(),N(11,"p"),V(12),x(),N(13,"p"),V(14),x()(),N(15,"button",4),Re("click",function(){return r.close()}),V(16,"Close"),x()()()),n&2&&(G(6),$e(r.user==null?null:r.user.fullName),G(2),_i("Email: ",r.user==null?null:r.user.email,""),G(2),_i("Phone: ",r.user==null?null:r.user.phoneNumber,""),G(2),_i("Role: ",r.user==null?null:r.user.role,""),G(2),_i("Description: ",r.user==null?null:r.user.description,""))},styles:[".main-content[_ngcontent-%COMP%]{margin-left:250px;padding:2rem;min-height:100vh;display:flex;justify-content:center;align-items:flex-start;background-color:#f5f0e6}.header[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:2rem;font-weight:700;color:#0d5257;text-shadow:1px 1px 0 rgba(0,0,0,.15);margin-bottom:1.5rem;text-align:center;letter-spacing:.5px}.info-container[_ngcontent-%COMP%]{width:100%;max-width:600px;display:flex;flex-direction:column;gap:1.5rem;padding:2rem;background-color:#fff;border-radius:12px;box-shadow:0 4px 12px #0000001a}.card[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;border:1px solid #ccc;border-radius:8px;padding:1.5rem;background-color:#f9f9f9;box-shadow:0 2px 4px #0000000d;transition:transform .2s ease}.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:#0d5257;margin-bottom:1rem}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400;font-size:1rem;color:#333;margin-bottom:.5rem}.card[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 4px 10px #0000001a}.close-btn[_ngcontent-%COMP%]{padding:8px 12px;font-size:14px;font-weight:600;color:#fff;background-color:#0d5257;border:2px solid #093f42;border-radius:6px;cursor:pointer;transition:all .2s ease-in-out}.close-btn[_ngcontent-%COMP%]:hover{background-color:#093f42;border-color:#062e30}"]})};var nf=class t{firestore=P(hr);messagesCollection=Kh(this.firestore,"messages");getMessages(){return Gh(this.messagesCollection,{idField:"id"})}addMessage(e){let n=Ki(this.messagesCollection),r=n.id;e.id=r,Qh(n,e)}constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var aE=()=>({standalone:!0}),rf=class t{constructor(e,n){this.route=e;this.router=n}messageService=P(nf);message={id:"",name:"",email:"",message:""};messages=[];ngOnInit(){this.messageService.getMessages().subscribe(e=>this.messages=e)}addMessage(){this.messageService.addMessage(this.message),this.resetForm(),this.router.navigate(["/directory"])}resetForm(){this.message={id:"",name:"",email:"",message:""}}static \u0275fac=function(n){return new(n||t)(Y(st),Y(Ct))};static \u0275cmp=Be({type:t,selectors:[["app-contact-us"]],decls:18,vars:9,consts:[[1,"main-content"],[1,"contact-container"],[1,"header"],[1,"contact-description"],[1,"contact-form"],["for","name"],["type","text","id","name","placeholder","Enter your name","required","",3,"ngModelChange","ngModel","ngModelOptions"],["for","email"],["type","email","id","email","placeholder","Enter your email","required","",3,"ngModelChange","ngModel","ngModelOptions"],["for","message"],["id","message","rows","5","placeholder","Type your message...","required","",3,"ngModelChange","ngModel","ngModelOptions"],["type","submit",1,"submit-btn",3,"click"]],template:function(n,r){n&1&&(N(0,"div",0)(1,"div",1)(2,"h2",2),V(3,"Contact Us"),x(),N(4,"p",3),V(5," Have a question or need assistance? Send us a message and we'll get back to you. "),x(),N(6,"form",4)(7,"label",5),V(8,"Your Name"),x(),N(9,"input",6),Fe("ngModelChange",function(o){return He(r.message.name,o)||(r.message.name=o),o}),x(),N(10,"label",7),V(11,"Your Email"),x(),N(12,"input",8),Fe("ngModelChange",function(o){return He(r.message.email,o)||(r.message.email=o),o}),x(),N(13,"label",9),V(14,"Message"),x(),N(15,"textarea",10),Fe("ngModelChange",function(o){return He(r.message.message,o)||(r.message.message=o),o}),x(),N(16,"button",11),Re("click",function(){return r.addMessage()}),V(17,"Send Message"),x()()()()),n&2&&(G(9),Ve("ngModel",r.message.name),In("ngModelOptions",Vu(6,aE)),G(3),Ve("ngModel",r.message.email),In("ngModelOptions",Vu(7,aE)),G(3),Ve("ngModel",r.message.message),In("ngModelOptions",Vu(8,aE)))},dependencies:[Vr,D0,Dn,Or,I0,Di,Xn,Km],styles:[".main-content[_ngcontent-%COMP%]{margin-left:250px;padding:2rem;min-height:100vh;display:flex;justify-content:center;align-items:flex-start;background-color:#f5f0e6}.contact-container[_ngcontent-%COMP%]{width:100%;max-width:700px;background:#fff;border-radius:12px;box-shadow:0 4px 12px #0000001a;padding:2rem;text-align:center}.header[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:2rem;font-weight:700;color:#0d5257;text-shadow:1px 1px 0 rgba(0,0,0,.15);text-align:center;letter-spacing:.5px}.contact-description[_ngcontent-%COMP%]{font-size:1rem;color:#555;margin-bottom:1.5rem}.contact-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.contact-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#0d5257}.contact-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:12px;border-radius:8px;border:1px solid #ccc;background:#f9f9f9;font-size:1rem}.submit-btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:1rem;font-weight:600;color:#fff;background:#0d5257;border-radius:8px;cursor:pointer;transition:all .2s ease-in-out}.submit-btn[_ngcontent-%COMP%]:hover{background:#094144}"]})};var mR=[{path:"",component:ef,title:"Home"},{path:"edit/:id",component:Jh,title:"Edit Contact"},{path:"directory",component:Yh,title:"Form List"},{path:"add",component:Zh,title:"Form Add"},{path:"contactus",component:rf,title:"Contact Us"},{path:"aboutus",component:Xh,title:"About Us"},{path:"info/:id",component:tf,title:"Contact Info"}];var p$={apiKey:"AIzaSyAfppQ0DkKa0ogU9EERyBupSdwklxV0RwU",authDomain:"farphones-3f7ef.firebaseapp.com",projectId:"farphones-3f7ef",storageBucket:"farphones-3f7ef.firebasestorage.app",messagingSenderId:"770431055300",appId:"1:770431055300:web:e5242ff14af0b1ebac2091",measurementId:"G-4KYTSDTQFB"},yR={providers:[GT({eventCoalescing:!0}),Um(mR,jm()),sS(()=>aS(p$)),lR(()=>hR())]};var of=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Be({type:t,selectors:[["app-sidebar"]],decls:15,vars:0,consts:[[1,"sidebar"],["href",tT`https://fonts.googleapis.com/css2?family=Pacifico&display=swap`,"rel","stylesheet"],["routerLink","",1,"sidebar-title"],[1,"sidebar-buttons"],["routerLink","/directory",1,"sidebar-btn","btn","btn-outline-light","btn-lg"],["routerLink","/add",1,"sidebar-btn","btn","btn-outline-light","btn-lg"],["routerLink","/contactus",1,"sidebar-btn","btn","btn-outline-light","btn-lg"],["routerLink","/aboutus",1,"sidebar-btn","btn","btn-outline-light","btn-lg"],[1,"sidebar-footer"]],template:function(n,r){n&1&&(N(0,"div",0),wn(1,"link",1),N(2,"div",2),V(3,"FarPhones"),x(),N(4,"div",3)(5,"button",4),V(6," Directory "),x(),N(7,"button",5),V(8," Form "),x(),N(9,"button",6),V(10," Contact Us "),x(),N(11,"button",7),V(12," About Us "),x()(),N(13,"div",8),V(14,"\xA9 2025 FarPhones"),x()())},dependencies:[Sn],styles:[".sidebar[_ngcontent-%COMP%]{width:250px;height:100vh;position:fixed;background-color:#0d5257;padding:2rem 1rem;color:#fff;display:flex;flex-direction:column;align-items:center;box-shadow:2px 0 5px #0000001a;top:0;margin-top:0;justify-content:space-between}.sidebar-footer[_ngcontent-%COMP%]{font-size:.85rem;color:#fff9;text-align:center;padding-top:2rem}.sidebar-buttons[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:2rem}.sidebar-btn[_ngcontent-%COMP%]{width:100%;font-size:1.1rem;padding:.75rem 1rem;font-family:Poppins,sans-serif;border:2px solid white;background-color:transparent;color:#fff;border-radius:12px;letter-spacing:1px;transition:all .3s ease}.sidebar-btn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#0d5257;transform:scale(1.05);box-shadow:0 0 10px #ffffff4d}.sidebar-title[_ngcontent-%COMP%]{font-size:2.5rem;font-family:Pacifico,cursive;color:#fff;text-shadow:2px 2px 0 black;margin-bottom:2rem;text-align:center;transition:transform .2s ease}.sidebar-title[_ngcontent-%COMP%]:hover{transform:translateY(-9px)}"]})};var sf=class t{constructor(e){this.router=e;this.router.events.pipe(Rt(n=>n instanceof Jt)).subscribe(n=>{this.isHomeRoute=n.urlAfterRedirects==="/"||n.urlAfterRedirects==="/home"})}title="FarPhones";isHomeRoute=!1;static \u0275fac=function(n){return new(n||t)(Y(Ct))};static \u0275cmp=Be({type:t,selectors:[["app-root"]],decls:2,vars:1,consts:[[3,"hidden"]],template:function(n,r){n&1&&wn(0,"app-sidebar",0)(1,"router-outlet"),n&2&&In("hidden",r.isHomeRoute)},dependencies:[Za,of],encapsulation:2})};pm(sf,yR).catch(t=>console.error(t));
